<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: interface/mmal/core/mmal_port.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b31d54d5631803016a26f28213a41162.html">interface</a></li><li class="navelem"><a class="el" href="../../dir_5f313cc587734008dc8da1b63af71130.html">mmal</a></li><li class="navelem"><a class="el" href="../../dir_969bd8b236505f6b8e08af3a328098ce.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mmal_port.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../df/de1/mmal_8h_source.html">mmal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d12/mmal__util_8h_source.html">util/mmal_util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d6b/mmal__component__private_8h_source.html">core/mmal_component_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html">core/mmal_port_private.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/de3/vcos_8h_source.html">interface/vcos/vcos.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dea/mmal__logging_8h_source.html">mmal_logging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d47/mmal__parameters_8h_source.html">interface/mmal/mmal_parameters.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mmal_port.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/ddc/mmal__port_8c__incl.png" border="0" usemap="#interface_2mmal_2core_2mmal__port_8c" alt=""/></div>
<map name="interface_2mmal_2core_2mmal__port_8c" id="interface_2mmal_2core_2mmal__port_8c">
<area shape="rect" id="node2" href="../../df/de1/mmal_8h.html" title="mmal.h" alt="" coords="1997,191,2062,218"/>
<area shape="rect" id="node8" href="../../d4/de3/vcos_8h.html" title="interface/vcos/vcos.h" alt="" coords="1189,796,1336,823"/>
<area shape="rect" id="node35" href="../../d1/d47/mmal__parameters_8h.html" title="mmal_parameters.h" alt="" coords="1753,423,1890,449"/>
<area shape="rect" id="node45" href="../../d0/d12/mmal__util_8h.html" title="util/mmal_util.h" alt="" coords="1895,102,2006,129"/>
<area shape="rect" id="node46" href="../../df/d6b/mmal__component__private_8h.html" title="core/mmal_component\l_private.h" alt="" coords="2031,95,2185,136"/>
<area shape="rect" id="node47" href="../../d7/d1f/mmal__port__private_8h.html" title="core/mmal_port_private.h" alt="" coords="1650,102,1819,129"/>
<area shape="rect" id="node49" href="../../d4/dea/mmal__logging_8h.html" title="mmal_logging.h" alt="" coords="1139,647,1253,673"/>
<area shape="rect" id="node3" href="../../d4/df4/mmal__common_8h.html" title="mmal_common.h" alt="" coords="2119,721,2241,748"/>
<area shape="rect" id="node31" href="../../d6/df3/mmal__types_8h.html" title="mmal_types.h" alt="" coords="2187,647,2291,673"/>
<area shape="rect" id="node32" href="../../df/dcd/mmal__port_8h.html" title="mmal_port.h" alt="" coords="2145,348,2239,375"/>
<area shape="rect" id="node41" href="../../d1/d65/mmal__component_8h.html" title="mmal_component.h" alt="" coords="2285,273,2421,300"/>
<area shape="rect" id="node42" href="../../d4/de3/mmal__queue_8h.html" title="mmal_queue.h" alt="" coords="2013,348,2120,375"/>
<area shape="rect" id="node43" href="../../d9/dee/mmal__pool_8h.html" title="mmal_pool.h" alt="" coords="2024,273,2120,300"/>
<area shape="rect" id="node44" href="../../df/dc5/mmal__events_8h.html" title="mmal_events.h" alt="" coords="1766,273,1877,300"/>
<area shape="rect" id="node9" href="../../d6/db4/vcos__assert_8h.html" title="interface/vcos/vcos\l_assert.h" alt="" coords="485,871,621,912"/>
<area shape="rect" id="node10" href="../../da/df3/vcos__types_8h.html" title="interface/vcos/vcos\l_types.h" alt="" coords="1024,960,1160,1001"/>
<area shape="rect" id="node13" href="../../db/db8/vcos__platform_8h.html" title="vcos_platform.h" alt="" coords="2368,878,2483,905"/>
<area shape="rect" id="node18" href="../../d0/d84/vcos__init_8h.html" title="interface/vcos/vcos\l_init.h" alt="" coords="1357,871,1493,912"/>
<area shape="rect" id="node19" href="../../d2/dc2/vcos__semaphore_8h.html" title="interface/vcos/vcos\l_semaphore.h" alt="" coords="1677,871,1813,912"/>
<area shape="rect" id="node20" href="../../de/d30/vcos__thread_8h.html" title="interface/vcos/vcos\l_thread.h" alt="" coords="1837,871,1973,912"/>
<area shape="rect" id="node21" href="../../da/d1b/vcos__mutex_8h.html" title="interface/vcos/vcos\l_mutex.h" alt="" coords="1997,871,2133,912"/>
<area shape="rect" id="node22" href="../../d8/db9/vcos__mem_8h.html" title="interface/vcos/vcos\l_mem.h" alt="" coords="165,871,301,912"/>
<area shape="rect" id="node23" href="../../d0/d85/vcos__logging_8h.html" title="interface/vcos/vcos\l_logging.h" alt="" coords="5,871,141,912"/>
<area shape="rect" id="node24" href="../../d1/d77/vcos__string_8h.html" title="interface/vcos/vcos\l_string.h" alt="" coords="2157,871,2293,912"/>
<area shape="rect" id="node25" href="../../dc/dd7/vcos__event_8h.html" title="interface/vcos/vcos\l_event.h" alt="" coords="325,871,461,912"/>
<area shape="rect" id="node26" href="../../d1/d6d/vcos__thread__attr_8h.html" title="interface/vcos/vcos\l_thread_attr.h" alt="" coords="1517,871,1653,912"/>
<area shape="rect" id="node27" href="../../dc/d07/vcos__tls_8h.html" title="interface/vcos/vcos\l_tls.h" alt="" coords="696,871,832,912"/>
<area shape="rect" id="node28" href="../../d6/da9/vcos__reentrant__mutex_8h.html" title="interface/vcos/vcos\l_reentrant_mutex.h" alt="" coords="856,871,992,912"/>
<area shape="rect" id="node29" href="../../d6/d00/vcos__named__semaphore_8h.html" title="interface/vcos/vcos\l_named_semaphore.h" alt="" coords="1017,871,1167,912"/>
<area shape="rect" id="node30" href="../../dd/dc6/vcos__quickslow__mutex_8h.html" title="interface/vcos/vcos\l_quickslow_mutex.h" alt="" coords="1192,871,1333,912"/>
<area shape="rect" id="node11" href="../../d2/d69/vcos__platform__types_8h.html" title="vcos_platform_types.h" alt="" coords="931,1057,1085,1083"/>
<area shape="rect" id="node12" href="../../df/d5a/vcos__attr_8h.html" title="interface/vcos/vcos\l_attr.h" alt="" coords="1109,1049,1245,1091"/>
<area shape="rect" id="node33" href="../../d2/d50/mmal__format_8h.html" title="mmal_format.h" alt="" coords="2211,572,2320,599"/>
<area shape="rect" id="node34" href="../../de/d47/mmal__buffer_8h.html" title="mmal_buffer.h" alt="" coords="2042,423,2147,449"/>
<area shape="rect" id="node36" href="../../dc/d70/mmal__parameters__camera_8h.html" title="mmal_parameters_camera.h" alt="" coords="1928,497,2115,524"/>
<area shape="rect" id="node37" href="../../d5/d76/mmal__parameters__video_8h.html" title="mmal_parameters_video.h" alt="" coords="1331,497,1506,524"/>
<area shape="rect" id="node38" href="../../d1/dfe/mmal__parameters__audio_8h.html" title="mmal_parameters_audio.h" alt="" coords="1530,497,1705,524"/>
<area shape="rect" id="node39" href="../../dc/d5d/mmal__parameters__clock_8h.html" title="mmal_parameters_clock.h" alt="" coords="1729,497,1903,524"/>
<area shape="rect" id="node40" href="../../d0/d99/mmal__clock_8h.html" title="mmal_clock.h" alt="" coords="1765,572,1867,599"/>
<area shape="rect" id="node48" href="../../d5/dfc/mmal__events__private_8h.html" title="interface/mmal/core\l/mmal_events_private.h" alt="" coords="1703,184,1865,225"/>
</map>
</div>
</div>
<p><a href="../../d6/d4d/mmal__port_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a31a4a6f769bacef7caed4230bb8958e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a31a4a6f769bacef7caed4230bb8958e6">MMAL_COLLECT_PORT_STATS_ENABLED</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a31a4a6f769bacef7caed4230bb8958e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac97cf0ed4e61c5c590c7d3fa0d68f765"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#ac97cf0ed4e61c5c590c7d3fa0d68f765">LOCK_PORT</a>(a)&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;lock);</td></tr>
<tr class="separator:ac97cf0ed4e61c5c590c7d3fa0d68f765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855bb4eb906273be2ec49c83b11ee68c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a855bb4eb906273be2ec49c83b11ee68c">UNLOCK_PORT</a>(a)&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;lock);</td></tr>
<tr class="separator:a855bb4eb906273be2ec49c83b11ee68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab142285ed45da7d803f3d370114b64c2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#ab142285ed45da7d803f3d370114b64c2">LOCK_SENDING</a>(a)&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;send_lock);</td></tr>
<tr class="separator:ab142285ed45da7d803f3d370114b64c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ee2f36ab4cf75a260d3533cdea203d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a41ee2f36ab4cf75a260d3533cdea203d">UNLOCK_SENDING</a>(a)&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;send_lock);</td></tr>
<tr class="separator:a41ee2f36ab4cf75a260d3533cdea203d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01f207b6c2fa1202515a509f053ac143"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a01f207b6c2fa1202515a509f053ac143">LOCK_CONNECTION</a>(a)&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;connection_lock);</td></tr>
<tr class="separator:a01f207b6c2fa1202515a509f053ac143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba9d64b80299e4ba2ffc24875a2655ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#aba9d64b80299e4ba2ffc24875a2655ad">UNLOCK_CONNECTION</a>(a)&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;connection_lock);</td></tr>
<tr class="separator:aba9d64b80299e4ba2ffc24875a2655ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf85c9589e1ca60833cd8da92c11282"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a8cf85c9589e1ca60833cd8da92c11282">IN_TRANSIT_INCREMENT</a>(a)</td></tr>
<tr class="separator:a8cf85c9589e1ca60833cd8da92c11282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a264544a38956dde5a9887b982e581dd8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a264544a38956dde5a9887b982e581dd8">IN_TRANSIT_DECREMENT</a>(a)</td></tr>
<tr class="separator:a264544a38956dde5a9887b982e581dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e352f3e7fafe18f9b6018cd0c78ac93"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a5e352f3e7fafe18f9b6018cd0c78ac93">IN_TRANSIT_WAIT</a>(a)</td></tr>
<tr class="separator:a5e352f3e7fafe18f9b6018cd0c78ac93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58562669e875d46ec77da5256547fa80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a58562669e875d46ec77da5256547fa80">IN_TRANSIT_COUNT</a>(a)&#160;&#160;&#160;(a)-&gt;priv-&gt;core-&gt;transit_buffer_headers</td></tr>
<tr class="separator:a58562669e875d46ec77da5256547fa80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab879d32c633143295273295c2eb3a6b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#ab879d32c633143295273295c2eb3a6b9">PORT_NAME_FORMAT</a>&#160;&#160;&#160;&quot;%s:%.2222s:%i%c%4.4s)&quot;</td></tr>
<tr class="separator:ab879d32c633143295273295c2eb3a6b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2e5981b53e09de8c849d538810c9e040"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a2e5981b53e09de8c849d538810c9e040">MMAL_PORT_PRIVATE_CORE_T</a></td></tr>
<tr class="separator:a2e5981b53e09de8c849d538810c9e040"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a10ab08b4f6ab9ef0fa2651f7c5b2ab06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a10ab08b4f6ab9ef0fa2651f7c5b2ab06">mmal_port_alloc</a> (<a class="el" href="../../d3/d4e/structMMAL__COMPONENT__T.html">MMAL_COMPONENT_T</a> *component, <a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a> <a class="el" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>, unsigned int extra_size)</td></tr>
<tr class="separator:a10ab08b4f6ab9ef0fa2651f7c5b2ab06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6401bae6319279142320bfcf2290cd78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a6401bae6319279142320bfcf2290cd78">mmal_port_free</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:a6401bae6319279142320bfcf2290cd78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0702e0f661526b5ac87677a0d7f1daf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#ab0702e0f661526b5ac87677a0d7f1daf">mmal_ports_alloc</a> (<a class="el" href="../../d3/d4e/structMMAL__COMPONENT__T.html">MMAL_COMPONENT_T</a> *component, unsigned int ports_num, <a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a> <a class="el" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>, unsigned int extra_size)</td></tr>
<tr class="separator:ab0702e0f661526b5ac87677a0d7f1daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af67c275be8cb298079fe9296adffa838"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#af67c275be8cb298079fe9296adffa838">mmal_ports_free</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> **ports, unsigned int ports_num)</td></tr>
<tr class="separator:af67c275be8cb298079fe9296adffa838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae118f5d30974f414fd2ead7891ad9ee9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#gae118f5d30974f414fd2ead7891ad9ee9">mmal_port_format_commit</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:gae118f5d30974f414fd2ead7891ad9ee9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa723c325260a53f553c6ab7ee8038b70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#gaa723c325260a53f553c6ab7ee8038b70">mmal_port_enable</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../d0/d5f/group__MmalPort.html#ga9381e59b90628b9d5968fb18ed2b1cd9">MMAL_PORT_BH_CB_T</a> cb)</td></tr>
<tr class="separator:gaa723c325260a53f553c6ab7ee8038b70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28ba868d23823323340b83499a4992d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga28ba868d23823323340b83499a4992d8">mmal_port_disable</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:ga28ba868d23823323340b83499a4992d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga098a7b91bb6fc596aed0e5585aee3253"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga098a7b91bb6fc596aed0e5585aee3253">mmal_port_send_buffer</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="el" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a>)</td></tr>
<tr class="separator:ga098a7b91bb6fc596aed0e5585aee3253"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3855570ad4aab2b5761fd5897b7b3780"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga3855570ad4aab2b5761fd5897b7b3780">mmal_port_flush</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:ga3855570ad4aab2b5761fd5897b7b3780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7feccb996f0bab5c798b3465747bb0a3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga7feccb996f0bab5c798b3465747bb0a3">mmal_port_parameter_set</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, const <a class="el" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a> *<a class="el" href="../../dc/dd2/glext_8h.html#a5c586586e43adddacf9f74b10ec40a0b">param</a>)</td></tr>
<tr class="separator:ga7feccb996f0bab5c798b3465747bb0a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga58f2b79985132199992a99790264541a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga58f2b79985132199992a99790264541a">mmal_port_parameter_get</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a> *<a class="el" href="../../dc/dd2/glext_8h.html#a5c586586e43adddacf9f74b10ec40a0b">param</a>)</td></tr>
<tr class="separator:ga58f2b79985132199992a99790264541a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae68f2680041b7dee80aa54a29f9afddf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#ae68f2680041b7dee80aa54a29f9afddf">mmal_port_buffer_header_callback</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="el" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a>)</td></tr>
<tr class="separator:ae68f2680041b7dee80aa54a29f9afddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d9224183b123521707f34952b379ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#ac7d9224183b123521707f34952b379ca">mmal_port_event_send</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="el" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a>)</td></tr>
<tr class="separator:ac7d9224183b123521707f34952b379ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0cdb2f64bfe45e79e3b8871e64111ee4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga0cdb2f64bfe45e79e3b8871e64111ee4">mmal_port_connect</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *other_port)</td></tr>
<tr class="separator:ga0cdb2f64bfe45e79e3b8871e64111ee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga195a97ebd206bed9c9d3d1d647610cbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga195a97ebd206bed9c9d3d1d647610cbb">mmal_port_disconnect</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:ga195a97ebd206bed9c9d3d1d647610cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24fe58a6e95a5d69f79e1b69a601b714"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga24fe58a6e95a5d69f79e1b69a601b714">mmal_port_payload_alloc</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> payload_size)</td></tr>
<tr class="separator:ga24fe58a6e95a5d69f79e1b69a601b714"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac130ad58018b781b0522a015bd243801"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#gac130ad58018b781b0522a015bd243801">mmal_port_payload_free</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *payload)</td></tr>
<tr class="separator:gac130ad58018b781b0522a015bd243801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dc6f1939e26c7fdd46485ba1744bd55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5f/group__MmalPort.html#ga2dc6f1939e26c7fdd46485ba1744bd55">mmal_port_event_get</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> **<a class="el" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a>, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> event)</td></tr>
<tr class="separator:ga2dc6f1939e26c7fdd46485ba1744bd55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e11153421e12582efa4b3506fa66502"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#a6e11153421e12582efa4b3506fa66502">mmal_port_pause</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a> pause)</td></tr>
<tr class="separator:a6e11153421e12582efa4b3506fa66502"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd43eda89a2b88ee235d5c6cd6703103"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d4d/mmal__port_8c.html#abd43eda89a2b88ee235d5c6cd6703103">mmal_port_is_connected</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:abd43eda89a2b88ee235d5c6cd6703103"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a58562669e875d46ec77da5256547fa80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58562669e875d46ec77da5256547fa80">&#9670;&nbsp;</a></span>IN_TRANSIT_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IN_TRANSIT_COUNT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;(a)-&gt;priv-&gt;core-&gt;transit_buffer_headers</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00150">150</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00897">mmal_port_buffer_header_callback()</a>.</p>

</div>
</div>
<a id="a264544a38956dde5a9887b982e581dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a264544a38956dde5a9887b982e581dd8">&#9670;&nbsp;</a></span>IN_TRANSIT_DECREMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IN_TRANSIT_DECREMENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;transit_lock); \</div><div class="line">   if (!--(a)-&gt;priv-&gt;core-&gt;transit_buffer_headers) \</div><div class="line">      vcos_semaphore_post(&amp;(a)-&gt;priv-&gt;core-&gt;transit_sema); \</div><div class="line">   vcos_mutex_unlock(&amp;(a)-&gt;priv-&gt;core-&gt;transit_lock)</div><div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00142">142</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00709">mmal_port_send_buffer()</a>.</p>

</div>
</div>
<a id="a8cf85c9589e1ca60833cd8da92c11282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf85c9589e1ca60833cd8da92c11282">&#9670;&nbsp;</a></span>IN_TRANSIT_INCREMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IN_TRANSIT_INCREMENT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;transit_lock); \</div><div class="line">   if (!(a)-&gt;priv-&gt;core-&gt;transit_buffer_headers++) \</div><div class="line">      vcos_semaphore_wait(&amp;(a)-&gt;priv-&gt;core-&gt;transit_sema); \</div><div class="line">   vcos_mutex_unlock(&amp;(a)-&gt;priv-&gt;core-&gt;transit_lock)</div><div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00137">137</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00709">mmal_port_send_buffer()</a>.</p>

</div>
</div>
<a id="a5e352f3e7fafe18f9b6018cd0c78ac93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e352f3e7fafe18f9b6018cd0c78ac93">&#9670;&nbsp;</a></span>IN_TRANSIT_WAIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IN_TRANSIT_WAIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a>(&amp;(a)-&gt;priv-&gt;core-&gt;transit_sema); \</div><div class="line">   vcos_semaphore_post(&amp;(a)-&gt;priv-&gt;core-&gt;transit_sema)</div><div class="ttc" id="vcos__semaphore_8h_html_a1478647a6bc7e82569361d72c04dceb0"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_wait(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Wait on a semaphore. </div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00147">147</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

</div>
</div>
<a id="a01f207b6c2fa1202515a509f053ac143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01f207b6c2fa1202515a509f053ac143">&#9670;&nbsp;</a></span>LOCK_CONNECTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCK_CONNECTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;connection_lock);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00132">132</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00935">mmal_port_connect()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00575">mmal_port_disable()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01016">mmal_port_disconnect()</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00351">mmal_port_enable()</a>.</p>

</div>
</div>
<a id="ac97cf0ed4e61c5c590c7d3fa0d68f765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac97cf0ed4e61c5c590c7d3fa0d68f765">&#9670;&nbsp;</a></span>LOCK_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCK_PORT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;lock);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00124">124</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00288">mmal_port_format_commit()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00868">mmal_port_parameter_get()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00830">mmal_port_parameter_set()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01085">mmal_port_payload_alloc()</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01124">mmal_port_payload_free()</a>.</p>

</div>
</div>
<a id="ab142285ed45da7d803f3d370114b64c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab142285ed45da7d803f3d370114b64c2">&#9670;&nbsp;</a></span>LOCK_SENDING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOCK_SENDING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;send_lock);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00128">128</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00783">mmal_port_flush()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01464">mmal_port_pause()</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00709">mmal_port_send_buffer()</a>.</p>

</div>
</div>
<a id="a31a4a6f769bacef7caed4230bb8958e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31a4a6f769bacef7caed4230bb8958e6">&#9670;&nbsp;</a></span>MMAL_COLLECT_PORT_STATS_ENABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_COLLECT_PORT_STATS_ENABLED&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Only collect port stats if enabled in build. Performance could be affected on an ARM since gettimeofday() involves a system call. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00048">48</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00897">mmal_port_buffer_header_callback()</a>.</p>

</div>
</div>
<a id="ab879d32c633143295273295c2eb3a6b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab879d32c633143295273295c2eb3a6b9">&#9670;&nbsp;</a></span>PORT_NAME_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORT_NAME_FORMAT&#160;&#160;&#160;&quot;%s:%.2222s:%i%c%4.4s)&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00153">153</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00158">mmal_port_alloc()</a>.</p>

</div>
</div>
<a id="aba9d64b80299e4ba2ffc24875a2655ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba9d64b80299e4ba2ffc24875a2655ad">&#9670;&nbsp;</a></span>UNLOCK_CONNECTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK_CONNECTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;connection_lock);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00133">133</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00935">mmal_port_connect()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00575">mmal_port_disable()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01016">mmal_port_disconnect()</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00351">mmal_port_enable()</a>.</p>

</div>
</div>
<a id="a855bb4eb906273be2ec49c83b11ee68c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a855bb4eb906273be2ec49c83b11ee68c">&#9670;&nbsp;</a></span>UNLOCK_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK_PORT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;lock);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00125">125</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01085">mmal_port_payload_alloc()</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01124">mmal_port_payload_free()</a>.</p>

</div>
</div>
<a id="a41ee2f36ab4cf75a260d3533cdea203d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41ee2f36ab4cf75a260d3533cdea203d">&#9670;&nbsp;</a></span>UNLOCK_SENDING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNLOCK_SENDING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;(a)-&gt;priv-&gt;core-&gt;send_lock);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00129">129</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00783">mmal_port_flush()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01464">mmal_port_pause()</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00709">mmal_port_send_buffer()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a2e5981b53e09de8c849d538810c9e040"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e5981b53e09de8c849d538810c9e040">&#9670;&nbsp;</a></span>MMAL_PORT_PRIVATE_CORE_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a>  <a class="el" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition of the core's private structure for a port. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a10ab08b4f6ab9ef0fa2651f7c5b2ab06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10ab08b4f6ab9ef0fa2651f7c5b2ab06">&#9670;&nbsp;</a></span>mmal_port_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a>* mmal_port_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d4e/structMMAL__COMPONENT__T.html">MMAL_COMPONENT_T</a> *&#160;</td>
          <td class="paramname"><em>component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>extra_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a port structure </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00158">158</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00109">MMAL_PORT_T::component</a>, <a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">MMAL_PORT_PRIVATE_T::core</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00063">MMAL_PORT_PRIVATE_CORE_T::lock</a>, <a class="el" href="../../df/da3/containers__logging_8h_source.html#l00062">LOG_ERROR</a>, <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html#l00045">MMAL_PORT_PRIVATE_T::module</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00057">MMAL_COMPONENT_T::name</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00082">MMAL_PORT_T::name</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00098">MMAL_PORT_PRIVATE_CORE_T::name</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00099">MMAL_PORT_PRIVATE_CORE_T::name_size</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00153">PORT_NAME_FORMAT</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00081">MMAL_PORT_T::priv</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00084">MMAL_PORT_T::type</a>, and <a class="el" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db5/mmal__port__clock_8c_source.html#l00563">mmal_port_clock_alloc()</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00247">mmal_ports_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a> *core;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> name_size = strlen(component-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">name</a>) + <span class="keyword">sizeof</span>(<a class="code" href="../../d6/d4d/mmal__port_8c.html#ab879d32c633143295273295c2eb3a6b9">PORT_NAME_FORMAT</a>);</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a> = <span class="keyword">sizeof</span>(*port) + <span class="keyword">sizeof</span>(<a class="code" href="../../d7/d1f/mmal__port__private_8h.html#ae125dbc259f4626b2d18fe05319edd1a">MMAL_PORT_PRIVATE_T</a>) +</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a>) + name_size + extra_size;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <a class="code" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a> lock = 0, lock_send = 0, lock_transit = 0, sema_transit = 0;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <a class="code" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a> lock_stats = 0, lock_connection = 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;component:%s type:%u extra:%u&quot;</span>, component-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">name</a>, <a class="code" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>, extra_size);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   port = <a class="code" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a>(1, size, <span class="stringliteral">&quot;mmal port&quot;</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   <span class="keywordflow">if</span> (!port)</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;failed to allocate port, size %u&quot;</span>, size);</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">type</a> = <a class="code" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a> = (<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html">MMAL_PORT_PRIVATE_T</a> *)(port+1);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a> = core = (<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a> *)(port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>+1);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <span class="keywordflow">if</span> (extra_size)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#ae6ab5efe58539ee37710b28c826f1836">module</a> = (<span class="keyword">struct </span><a class="code" href="../../d5/dd8/structMMAL__PORT__MODULE__T.html">MMAL_PORT_MODULE_T</a> *)(port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>+1);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">component</a> = component;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">name</a> = core-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a0d56aae35b4b1371b2e7dc6193150f04">name</a> = ((<span class="keywordtype">char</span> *)(port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>+1)) + extra_size;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   core-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a8e4ac3653d9472e87905a8ca082b054f">name_size</a> = name_size;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   mmal_port_name_update(port);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   core-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#abca1644448bbed6589bc8f8a0e2aaef7">queue_last</a> = &amp;core-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3b7888f8e169bf09f0e78d912356cca0">queue_first</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#ae40053d5a6b09e614c08200faaacd349">pf_connect</a> = mmal_port_connect_default;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   lock = <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a56fd56fd3ac4c15a8b3501e9dcf23669">lock</a>, <span class="stringliteral">&quot;mmal port lock&quot;</span>) == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   lock_send = <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae9f860a7f75a5d0411ab8d9a8eb32f4d">send_lock</a>, <span class="stringliteral">&quot;mmal port send lock&quot;</span>) == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   lock_transit = <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a20372797d186a59bab349ad28abd2f95">transit_lock</a>, <span class="stringliteral">&quot;mmal port transit lock&quot;</span>) == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   sema_transit = <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#aec46d55c9e9b7f8a4beab46601744b56">vcos_semaphore_create</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afad12fadb112da096cbcae88c5a42235">transit_sema</a>, <span class="stringliteral">&quot;mmal port transit sema&quot;</span>, 1) == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   lock_stats = <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afb8d4ceb6507f47d3a5871b1fb6cab1d">stats_lock</a>, <span class="stringliteral">&quot;mmal stats lock&quot;</span>) == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   lock_connection = <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a2af31d314222eeef8f3d17d9ebc91867">connection_lock</a>, <span class="stringliteral">&quot;mmal connection lock&quot;</span>) == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordflow">if</span> (!lock || !lock_send || !lock_transit || !sema_transit || !lock_stats || !lock_connection)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;   {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;%s: failed to create sync objects (%u,%u,%u,%u,%u,%u)&quot;</span>,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">name</a>, lock, lock_send, lock_transit, sema_transit, lock_stats, lock_connection);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">format</a> = <a class="code" href="../../d5/da1/group__MmalFormat.html#ga3e6626acc933ab7d6cb54c334c7452e8">mmal_format_alloc</a>();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">if</span> (!port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">format</a>)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;%s: failed to allocate format object&quot;</span>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">name</a>);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae1e7dfc1022e2bdd014ec408f97c1fe2">format_ptr_copy</a> = port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">format</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;%s: created at %p&quot;</span>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">name</a>, port);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d5/dd8/structMMAL__PORT__MODULE__T.html#afb4283c4276a9fdfc0432b6246273b76">port</a>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>:</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <span class="keywordflow">if</span> (lock) <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a56fd56fd3ac4c15a8b3501e9dcf23669">lock</a>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <span class="keywordflow">if</span> (lock_send) <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae9f860a7f75a5d0411ab8d9a8eb32f4d">send_lock</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <span class="keywordflow">if</span> (lock_transit) <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a20372797d186a59bab349ad28abd2f95">transit_lock</a>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <span class="keywordflow">if</span> (sema_transit) <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afad12fadb112da096cbcae88c5a42235">transit_sema</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="keywordflow">if</span> (lock_stats) <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afb8d4ceb6507f47d3a5871b1fb6cab1d">stats_lock</a>);</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   <span class="keywordflow">if</span> (lock_connection) <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a2af31d314222eeef8f3d17d9ebc91867">connection_lock</a>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <span class="keywordflow">if</span> (port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">format</a>) <a class="code" href="../../d5/da1/group__MmalFormat.html#ga98d1789190f3ed7b61a57fc329a53119">mmal_format_free</a>(port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">format</a>);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(port);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div><div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html">MMAL_PORT_PRIVATE_CORE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00061">mmal_port.c:61</a></div></div>
<div class="ttc" id="structMMAL__PORT__MODULE__T_html"><div class="ttname"><a href="../../d5/dd8/structMMAL__PORT__MODULE__T.html">MMAL_PORT_MODULE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d48/android__media__codec_8cpp_source.html#l00098">android_media_codec.cpp:98</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a20372797d186a59bab349ad28abd2f95"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a20372797d186a59bab349ad28abd2f95">MMAL_PORT_PRIVATE_CORE_T::transit_lock</a></div><div class="ttdeci">VCOS_MUTEX_T transit_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00073">mmal_port.c:73</a></div></div>
<div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a6e05320463f593c28c74437b8ae7477f"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">MMAL_PORT_T::format</a></div><div class="ttdeci">MMAL_ES_FORMAT_T * format</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00089">mmal_port.h:89</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a56fd56fd3ac4c15a8b3501e9dcf23669"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a56fd56fd3ac4c15a8b3501e9dcf23669">MMAL_PORT_PRIVATE_CORE_T::lock</a></div><div class="ttdeci">VCOS_MUTEX_T lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00063">mmal_port.c:63</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00079">mmal_port.h:79</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a3b7888f8e169bf09f0e78d912356cca0"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3b7888f8e169bf09f0e78d912356cca0">MMAL_PORT_PRIVATE_CORE_T::queue_first</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T * queue_first</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00091">mmal_port.c:91</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html">MMAL_PORT_PRIVATE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00040">mmal_port_private.h:40</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a4f4c63e9c40fea266a97148c8746534d"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_delete(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="utils_8c_html_a31a889e0e0f939aa348887bfc5209b70"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a></div><div class="ttdeci">int error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00443">utils.c:443</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_abca1644448bbed6589bc8f8a0e2aaef7"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#abca1644448bbed6589bc8f8a0e2aaef7">MMAL_PORT_PRIVATE_CORE_T::queue_last</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T ** queue_last</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00093">mmal_port.c:93</a></div></div>
<div class="ttc" id="glext_8h_html_a9f139c614d49f2a707b6037305b0fec0"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a></div><div class="ttdeci">GLsizei size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l01070">glext.h:1070</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a4dd7165fc2dd9873731b11ec07202c91"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_semaphore_delete(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Delete a semaphore, releasing any resources consumed by it. </div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a180d1b32c6fc449ec4a054b9728ac73c"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">MMAL_COMPONENT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00057">mmal_component.h:57</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_afad12fadb112da096cbcae88c5a42235"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afad12fadb112da096cbcae88c5a42235">MMAL_PORT_PRIVATE_CORE_T::transit_sema</a></div><div class="ttdeci">VCOS_SEMAPHORE_T transit_sema</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00074">mmal_port.c:74</a></div></div>
<div class="ttc" id="group__MmalFormat_html_ga3e6626acc933ab7d6cb54c334c7452e8"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#ga3e6626acc933ab7d6cb54c334c7452e8">mmal_format_alloc</a></div><div class="ttdeci">MMAL_ES_FORMAT_T * mmal_format_alloc(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/mmal__format_8c_source.html#l00051">mmal_format.c:51</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a2243d9fb08222a6fd9c5abe82331d796"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_create(VCOS_MUTEX_T *m, const char *name)</div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a5a937f59e4ccd9375ed2dac72863d541"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">MMAL_PORT_T::component</a></div><div class="ttdeci">struct MMAL_COMPONENT_T * component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00109">mmal_port.h:109</a></div></div>
<div class="ttc" id="containers__logging_8h_html_a630f492d1b5c86dcf31edd7280006c45"><div class="ttname"><a href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/containers__logging_8h_source.html#l00062">containers_logging.h:62</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_a95515f4bf2c3fda1c44f907d0df201f8"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">MMAL_PORT_PRIVATE_T::core</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_CORE_T * core</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">mmal_port_private.h:43</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a0d56aae35b4b1371b2e7dc6193150f04"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a0d56aae35b4b1371b2e7dc6193150f04">MMAL_PORT_PRIVATE_CORE_T::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00098">mmal_port.c:98</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_ae6ab5efe58539ee37710b28c826f1836"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#ae6ab5efe58539ee37710b28c826f1836">MMAL_PORT_PRIVATE_T::module</a></div><div class="ttdeci">struct MMAL_PORT_MODULE_T * module</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00045">mmal_port_private.h:45</a></div></div>
<div class="ttc" id="group__MmalFormat_html_ga98d1789190f3ed7b61a57fc329a53119"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#ga98d1789190f3ed7b61a57fc329a53119">mmal_format_free</a></div><div class="ttdeci">void mmal_format_free(MMAL_ES_FORMAT_T *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/mmal__format_8c_source.html#l00067">mmal_format.c:67</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_ae40053d5a6b09e614c08200faaacd349"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#ae40053d5a6b09e614c08200faaacd349">MMAL_PORT_PRIVATE_T::pf_connect</a></div><div class="ttdeci">MMAL_STATUS_T(* pf_connect)(MMAL_PORT_T *port, MMAL_PORT_T *other_port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00056">mmal_port_private.h:56</a></div></div>
<div class="ttc" id="mmal__port_8c_html_ab879d32c633143295273295c2eb3a6b9"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#ab879d32c633143295273295c2eb3a6b9">PORT_NAME_FORMAT</a></div><div class="ttdeci">#define PORT_NAME_FORMAT</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00153">mmal_port.c:153</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_ae9f860a7f75a5d0411ab8d9a8eb32f4d"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae9f860a7f75a5d0411ab8d9a8eb32f4d">MMAL_PORT_PRIVATE_CORE_T::send_lock</a></div><div class="ttdeci">VCOS_MUTEX_T send_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00064">mmal_port.c:64</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_a7759d85a5e6d760910600910404f0a89"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_calloc(VCOS_UNSIGNED num, VCOS_UNSIGNED size, const char *description)</div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_afb8d4ceb6507f47d3a5871b1fb6cab1d"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afb8d4ceb6507f47d3a5871b1fb6cab1d">MMAL_PORT_PRIVATE_CORE_T::stats_lock</a></div><div class="ttdeci">VCOS_MUTEX_T stats_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00065">mmal_port.c:65</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
<div class="ttc" id="mmal__port__private_8h_html_ae125dbc259f4626b2d18fe05319edd1a"><div class="ttname"><a href="../../d7/d1f/mmal__port__private_8h.html#ae125dbc259f4626b2d18fe05319edd1a">MMAL_PORT_PRIVATE_T</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T MMAL_PORT_PRIVATE_T</div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a2af31d314222eeef8f3d17d9ebc91867"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a2af31d314222eeef8f3d17d9ebc91867">MMAL_PORT_PRIVATE_CORE_T::connection_lock</a></div><div class="ttdeci">VCOS_MUTEX_T connection_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00066">mmal_port.c:66</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_aec46d55c9e9b7f8a4beab46601744b56"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#aec46d55c9e9b7f8a4beab46601744b56">vcos_semaphore_create</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_create(VCOS_SEMAPHORE_T *sem, const char *name, VCOS_UNSIGNED count)</div><div class="ttdoc">Create a semaphore. </div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_ae1e7dfc1022e2bdd014ec408f97c1fe2"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae1e7dfc1022e2bdd014ec408f97c1fe2">MMAL_PORT_PRIVATE_CORE_T::format_ptr_copy</a></div><div class="ttdeci">MMAL_ES_FORMAT_T * format_ptr_copy</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00077">mmal_port.c:77</a></div></div>
<div class="ttc" id="mmal__common_8h_html_a742cabbbb0702147feb03e1d9eac7096"><div class="ttname"><a href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a></div><div class="ttdeci">int32_t MMAL_BOOL_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df4/mmal__common_8h_source.html#l00060">mmal_common.h:60</a></div></div>
<div class="ttc" id="structMMAL__PORT__MODULE__T_html_afb4283c4276a9fdfc0432b6246273b76"><div class="ttname"><a href="../../d5/dd8/structMMAL__PORT__MODULE__T.html#afb4283c4276a9fdfc0432b6246273b76">MMAL_PORT_MODULE_T::port</a></div><div class="ttdeci">MMAL_PORT_T * port</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dde/mmal__vc__api_8c_source.html#l00062">mmal_vc_api.c:62</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a9871d93b36d3d65e7b8dcf006a9e391c"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">MMAL_PORT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00082">mmal_port.h:82</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a8e4ac3653d9472e87905a8ca082b054f"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a8e4ac3653d9472e87905a8ca082b054f">MMAL_PORT_PRIVATE_CORE_T::name_size</a></div><div class="ttdeci">unsigned int name_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00099">mmal_port.c:99</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a7dbf4b0f19de707cdf10b7ab16f9533d"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">MMAL_PORT_T::type</a></div><div class="ttdeci">MMAL_PORT_TYPE_T type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00084">mmal_port.h:84</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="eglext_8h_html_ad5ddf6fca7b585646515660e810e0188"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a></div><div class="ttdeci">EGLenum type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00186">eglext.h:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae68f2680041b7dee80aa54a29f9afddf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae68f2680041b7dee80aa54a29f9afddf">&#9670;&nbsp;</a></span>mmal_port_buffer_header_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_port_buffer_header_callback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer header callback. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00897">897</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00075">MMAL_BUFFER_HEADER_T::cmd</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00109">MMAL_PORT_T::component</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00078">MMAL_BUFFER_HEADER_T::data</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00150">IN_TRANSIT_COUNT</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00085">MMAL_PORT_T::index</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00081">MMAL_BUFFER_HEADER_T::length</a>, <a class="el" href="../../df/da3/containers__logging_8h_source.html#l00062">LOG_ERROR</a>, <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00048">MMAL_COLLECT_PORT_STATS_ENABLED</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00057">MMAL_COMPONENT_T::name</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00082">MMAL_PORT_T::name</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00083">MMAL_BUFFER_HEADER_T::offset</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00084">MMAL_PORT_T::type</a>, and <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#aabc5314eba790d654e1d1873091c5890">vcos_verify</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00783">mmal_port_flush()</a>.</p>
<div class="fragment"><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;{</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;<span class="preprocessor">#ifdef ENABLE_MMAL_EXTRA_LOGGING</span></div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;%s(%i:%i) port %p, buffer %p (%i,%p,%i,%i)&quot;</span>,</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;             port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">name</a>, (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">type</a>, (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">index</a>, port, buffer,</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;             buffer ? (<span class="keywordtype">int</span>)buffer-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">cmd</a> : 0, buffer ? buffer-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">data</a> : 0,</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;             buffer ? (<span class="keywordtype">int</span>)buffer-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">offset</a> : 0, buffer ? (<span class="keywordtype">int</span>)buffer-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">length</a> : 0);</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#aabc5314eba790d654e1d1873091c5890">vcos_verify</a>(<a class="code" href="../../d6/d4d/mmal__port_8c.html#a58562669e875d46ec77da5256547fa80">IN_TRANSIT_COUNT</a>(port) &gt;= 0))</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;%s: buffer headers in transit &lt; 0 (%d)&quot;</span>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">name</a>, (<span class="keywordtype">int</span>)<a class="code" href="../../d6/d4d/mmal__port_8c.html#a58562669e875d46ec77da5256547fa80">IN_TRANSIT_COUNT</a>(port));</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d6/d4d/mmal__port_8c.html#a31a4a6f769bacef7caed4230bb8958e6">MMAL_COLLECT_PORT_STATS_ENABLED</a>)</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;   {</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;      mmal_port_update_port_stats(port, <a class="code" href="../../d4/d6f/mmal__parameters__common_8h.html#a7a687e30a9d8d742189ccd7f39bec801a7ef5daaa10598ede97ccb1a1194ca679">MMAL_CORE_STATS_TX</a>);</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;   }</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;   port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a046a3b7525e329dc80bb403624c00b93">buffer_header_callback</a>(port, buffer);</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;   <a class="code" href="../../d6/d4d/mmal__port_8c.html#a264544a38956dde5a9887b982e581dd8">IN_TRANSIT_DECREMENT</a>(port);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;}</div><div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1b2ea032ef9ebaaac9c3ef370585f530"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">MMAL_BUFFER_HEADER_T::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00078">mmal_buffer.h:78</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_aafab0a567a9ba1bc56e79903ce404a7c"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">MMAL_BUFFER_HEADER_T::cmd</a></div><div class="ttdeci">uint32_t cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00075">mmal_buffer.h:75</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a88cdcfd8bb13c900d41c8119c008560a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">MMAL_BUFFER_HEADER_T::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00083">mmal_buffer.h:83</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_abe5b96512548848f0ee82c2e4b530203"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">MMAL_PORT_T::index</a></div><div class="ttdeci">uint16_t index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00085">mmal_port.h:85</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a180d1b32c6fc449ec4a054b9728ac73c"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">MMAL_COMPONENT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00057">mmal_component.h:57</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a046a3b7525e329dc80bb403624c00b93"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a046a3b7525e329dc80bb403624c00b93">MMAL_PORT_PRIVATE_CORE_T::buffer_header_callback</a></div><div class="ttdeci">MMAL_PORT_BH_CB_T buffer_header_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00069">mmal_port.c:69</a></div></div>
<div class="ttc" id="mmal__port_8c_html_a31a4a6f769bacef7caed4230bb8958e6"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#a31a4a6f769bacef7caed4230bb8958e6">MMAL_COLLECT_PORT_STATS_ENABLED</a></div><div class="ttdeci">#define MMAL_COLLECT_PORT_STATS_ENABLED</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00048">mmal_port.c:48</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a5a937f59e4ccd9375ed2dac72863d541"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">MMAL_PORT_T::component</a></div><div class="ttdeci">struct MMAL_COMPONENT_T * component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00109">mmal_port.h:109</a></div></div>
<div class="ttc" id="containers__logging_8h_html_a630f492d1b5c86dcf31edd7280006c45"><div class="ttname"><a href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/containers__logging_8h_source.html#l00062">containers_logging.h:62</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_a95515f4bf2c3fda1c44f907d0df201f8"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">MMAL_PORT_PRIVATE_T::core</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_CORE_T * core</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">mmal_port_private.h:43</a></div></div>
<div class="ttc" id="mmal__port_8c_html_a264544a38956dde5a9887b982e581dd8"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#a264544a38956dde5a9887b982e581dd8">IN_TRANSIT_DECREMENT</a></div><div class="ttdeci">#define IN_TRANSIT_DECREMENT(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00142">mmal_port.c:142</a></div></div>
<div class="ttc" id="mmal__port_8c_html_a58562669e875d46ec77da5256547fa80"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#a58562669e875d46ec77da5256547fa80">IN_TRANSIT_COUNT</a></div><div class="ttdeci">#define IN_TRANSIT_COUNT(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00150">mmal_port.c:150</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_aabc5314eba790d654e1d1873091c5890"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#aabc5314eba790d654e1d1873091c5890">vcos_verify</a></div><div class="ttdeci">#define vcos_verify(cond)</div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a9871d93b36d3d65e7b8dcf006a9e391c"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">MMAL_PORT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00082">mmal_port.h:82</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a7dbf4b0f19de707cdf10b7ab16f9533d"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">MMAL_PORT_T::type</a></div><div class="ttdeci">MMAL_PORT_TYPE_T type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00084">mmal_port.h:84</a></div></div>
<div class="ttc" id="mmal__parameters__common_8h_html_a7a687e30a9d8d742189ccd7f39bec801a7ef5daaa10598ede97ccb1a1194ca679"><div class="ttname"><a href="../../d4/d6f/mmal__parameters__common_8h.html#a7a687e30a9d8d742189ccd7f39bec801a7ef5daaa10598ede97ccb1a1194ca679">MMAL_CORE_STATS_TX</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00156">mmal_parameters_common.h:156</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1d0ab32b72631f893e60b72f23f8570a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">MMAL_BUFFER_HEADER_T::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00081">mmal_buffer.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7d9224183b123521707f34952b379ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7d9224183b123521707f34952b379ca">&#9670;&nbsp;</a></span>mmal_port_event_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_port_event_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Event callback </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00920">920</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00069">MMAL_PORT_PRIVATE_CORE_T::buffer_header_callback</a>, <a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">MMAL_PORT_PRIVATE_T::core</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00085">MMAL_PORT_T::index</a>, <a class="el" href="../../df/da3/containers__logging_8h_source.html#l00062">LOG_ERROR</a>, <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00057">mmal_buffer_header_release()</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00081">MMAL_PORT_T::priv</a>, and <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00084">MMAL_PORT_T::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d8/d6d/mmal__events_8c_source.html#l00078">mmal_event_eos_send()</a>, <a class="el" href="../../d8/d6d/mmal__events_8c_source.html#l00053">mmal_event_error_send()</a>, and <a class="el" href="../../d8/d6d/mmal__events_8c_source.html#l00106">mmal_event_forward()</a>.</p>
<div class="fragment"><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;{</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;   <span class="keywordflow">if</span> (port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a046a3b7525e329dc80bb403624c00b93">buffer_header_callback</a>)</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;   {</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a046a3b7525e329dc80bb403624c00b93">buffer_header_callback</a>(port, buffer);</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;   }</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;   {</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;event lost on port %i,%i (buffer header callback not defined)&quot;</span>,</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">type</a>, (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">index</a>);</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <a class="code" href="../../d6/d42/group__MmalBufferHeader.html#ga69dfbc6faf317c320c4abbeb750a556e">mmal_buffer_header_release</a>(buffer);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;   }</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div><div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_abe5b96512548848f0ee82c2e4b530203"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">MMAL_PORT_T::index</a></div><div class="ttdeci">uint16_t index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00085">mmal_port.h:85</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a046a3b7525e329dc80bb403624c00b93"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a046a3b7525e329dc80bb403624c00b93">MMAL_PORT_PRIVATE_CORE_T::buffer_header_callback</a></div><div class="ttdeci">MMAL_PORT_BH_CB_T buffer_header_callback</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00069">mmal_port.c:69</a></div></div>
<div class="ttc" id="group__MmalBufferHeader_html_ga69dfbc6faf317c320c4abbeb750a556e"><div class="ttname"><a href="../../d6/d42/group__MmalBufferHeader.html#ga69dfbc6faf317c320c4abbeb750a556e">mmal_buffer_header_release</a></div><div class="ttdeci">void mmal_buffer_header_release(MMAL_BUFFER_HEADER_T *header)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0f/mmal__buffer_8c_source.html#l00057">mmal_buffer.c:57</a></div></div>
<div class="ttc" id="containers__logging_8h_html_a630f492d1b5c86dcf31edd7280006c45"><div class="ttname"><a href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/containers__logging_8h_source.html#l00062">containers_logging.h:62</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_a95515f4bf2c3fda1c44f907d0df201f8"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">MMAL_PORT_PRIVATE_T::core</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_CORE_T * core</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">mmal_port_private.h:43</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a7dbf4b0f19de707cdf10b7ab16f9533d"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">MMAL_PORT_T::type</a></div><div class="ttdeci">MMAL_PORT_TYPE_T type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00084">mmal_port.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6401bae6319279142320bfcf2290cd78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6401bae6319279142320bfcf2290cd78">&#9670;&nbsp;</a></span>mmal_port_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_port_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a port structure </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00228">228</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00066">MMAL_PORT_PRIVATE_CORE_T::connection_lock</a>, <a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">MMAL_PORT_PRIVATE_T::core</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00089">MMAL_PORT_T::format</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00077">MMAL_PORT_PRIVATE_CORE_T::format_ptr_copy</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00063">MMAL_PORT_PRIVATE_CORE_T::lock</a>, <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../d9/d40/mmal__format_8c_source.html#l00067">mmal_format_free()</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00082">MMAL_PORT_T::name</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00081">MMAL_PORT_T::priv</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00064">MMAL_PORT_PRIVATE_CORE_T::send_lock</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00065">MMAL_PORT_PRIVATE_CORE_T::stats_lock</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00073">MMAL_PORT_PRIVATE_CORE_T::transit_lock</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00074">MMAL_PORT_PRIVATE_CORE_T::transit_sema</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete()</a>, and <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00278">mmal_ports_free()</a>.</p>
<div class="fragment"><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;{</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;%s at %p&quot;</span>, port ? port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">name</a> : <span class="stringliteral">&quot;&lt;invalid&gt;&quot;</span>, port);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordflow">if</span> (!port)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">format</a> == port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae1e7dfc1022e2bdd014ec408f97c1fe2">format_ptr_copy</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <a class="code" href="../../d5/da1/group__MmalFormat.html#ga98d1789190f3ed7b61a57fc329a53119">mmal_format_free</a>(port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae1e7dfc1022e2bdd014ec408f97c1fe2">format_ptr_copy</a>);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a2af31d314222eeef8f3d17d9ebc91867">connection_lock</a>);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afb8d4ceb6507f47d3a5871b1fb6cab1d">stats_lock</a>);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afad12fadb112da096cbcae88c5a42235">transit_sema</a>);</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a20372797d186a59bab349ad28abd2f95">transit_lock</a>);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae9f860a7f75a5d0411ab8d9a8eb32f4d">send_lock</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a56fd56fd3ac4c15a8b3501e9dcf23669">lock</a>);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(port);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a20372797d186a59bab349ad28abd2f95"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a20372797d186a59bab349ad28abd2f95">MMAL_PORT_PRIVATE_CORE_T::transit_lock</a></div><div class="ttdeci">VCOS_MUTEX_T transit_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00073">mmal_port.c:73</a></div></div>
<div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a6e05320463f593c28c74437b8ae7477f"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">MMAL_PORT_T::format</a></div><div class="ttdeci">MMAL_ES_FORMAT_T * format</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00089">mmal_port.h:89</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a56fd56fd3ac4c15a8b3501e9dcf23669"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a56fd56fd3ac4c15a8b3501e9dcf23669">MMAL_PORT_PRIVATE_CORE_T::lock</a></div><div class="ttdeci">VCOS_MUTEX_T lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00063">mmal_port.c:63</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a4f4c63e9c40fea266a97148c8746534d"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_delete(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a4dd7165fc2dd9873731b11ec07202c91"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_semaphore_delete(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Delete a semaphore, releasing any resources consumed by it. </div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_afad12fadb112da096cbcae88c5a42235"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afad12fadb112da096cbcae88c5a42235">MMAL_PORT_PRIVATE_CORE_T::transit_sema</a></div><div class="ttdeci">VCOS_SEMAPHORE_T transit_sema</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00074">mmal_port.c:74</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_a95515f4bf2c3fda1c44f907d0df201f8"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">MMAL_PORT_PRIVATE_T::core</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_CORE_T * core</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">mmal_port_private.h:43</a></div></div>
<div class="ttc" id="group__MmalFormat_html_ga98d1789190f3ed7b61a57fc329a53119"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#ga98d1789190f3ed7b61a57fc329a53119">mmal_format_free</a></div><div class="ttdeci">void mmal_format_free(MMAL_ES_FORMAT_T *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d40/mmal__format_8c_source.html#l00067">mmal_format.c:67</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_ae9f860a7f75a5d0411ab8d9a8eb32f4d"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae9f860a7f75a5d0411ab8d9a8eb32f4d">MMAL_PORT_PRIVATE_CORE_T::send_lock</a></div><div class="ttdeci">VCOS_MUTEX_T send_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00064">mmal_port.c:64</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_afb8d4ceb6507f47d3a5871b1fb6cab1d"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#afb8d4ceb6507f47d3a5871b1fb6cab1d">MMAL_PORT_PRIVATE_CORE_T::stats_lock</a></div><div class="ttdeci">VCOS_MUTEX_T stats_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00065">mmal_port.c:65</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a2af31d314222eeef8f3d17d9ebc91867"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a2af31d314222eeef8f3d17d9ebc91867">MMAL_PORT_PRIVATE_CORE_T::connection_lock</a></div><div class="ttdeci">VCOS_MUTEX_T connection_lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00066">mmal_port.c:66</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_ae1e7dfc1022e2bdd014ec408f97c1fe2"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#ae1e7dfc1022e2bdd014ec408f97c1fe2">MMAL_PORT_PRIVATE_CORE_T::format_ptr_copy</a></div><div class="ttdeci">MMAL_ES_FORMAT_T * format_ptr_copy</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00077">mmal_port.c:77</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a9871d93b36d3d65e7b8dcf006a9e391c"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">MMAL_PORT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00082">mmal_port.h:82</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd43eda89a2b88ee235d5c6cd6703103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd43eda89a2b88ee235d5c6cd6703103">&#9670;&nbsp;</a></span>mmal_port_is_connected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a> mmal_port_is_connected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns whether a port is connected or not </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01506">1506</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00080">MMAL_PORT_PRIVATE_CORE_T::connected_port</a>, <a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">MMAL_PORT_PRIVATE_T::core</a>, and <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00081">MMAL_PORT_T::priv</a>.</p>
<div class="fragment"><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;{</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;   <span class="keywordflow">return</span> !!port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a05cb9bf0435826f6303e8db1c015749e">connected_port</a>;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;}</div><div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_a95515f4bf2c3fda1c44f907d0df201f8"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">MMAL_PORT_PRIVATE_T::core</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_CORE_T * core</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">mmal_port_private.h:43</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a05cb9bf0435826f6303e8db1c015749e"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a05cb9bf0435826f6303e8db1c015749e">MMAL_PORT_PRIVATE_CORE_T::connected_port</a></div><div class="ttdeci">MMAL_PORT_T * connected_port</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00080">mmal_port.c:80</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e11153421e12582efa4b3506fa66502"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e11153421e12582efa4b3506fa66502">&#9670;&nbsp;</a></span>mmal_port_pause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> mmal_port_pause </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a>&#160;</td>
          <td class="paramname"><em>pause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pause processing on a port </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01464">1464</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">MMAL_PORT_PRIVATE_T::core</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00088">MMAL_PORT_T::is_enabled</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00089">MMAL_PORT_PRIVATE_CORE_T::is_paused</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00128">LOCK_SENDING</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00048">MMAL_SUCCESS</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00071">MMAL_BUFFER_HEADER_T::next</a>, <a class="el" href="../../d7/d1f/mmal__port__private_8h_source.html#l00052">MMAL_PORT_PRIVATE_T::pf_send</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00081">MMAL_PORT_T::priv</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00091">MMAL_PORT_PRIVATE_CORE_T::queue_first</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00093">MMAL_PORT_PRIVATE_CORE_T::queue_last</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00037">status</a>, and <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00129">UNLOCK_SENDING</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/db8/mmal__component_8c_source.html#l00406">mmal_component_disable()</a>, and <a class="el" href="../../de/db8/mmal__component_8c_source.html#l00359">mmal_component_enable()</a>.</p>
<div class="fragment"><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;{</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;   <a class="code" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a> = <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;   <a class="code" href="../../d6/d4d/mmal__port_8c.html#ab142285ed45da7d803f3d370114b64c2">LOCK_SENDING</a>(port);</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;   <span class="comment">/* When resuming from pause, we send all our queued buffers to the port */</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;   <span class="keywordflow">if</span> (!pause &amp;&amp; port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#ae5a91f852f8b8ffed71eb01922998b3d">is_enabled</a>)</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;   {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;      <a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="code" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a> = port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3b7888f8e169bf09f0e78d912356cca0">queue_first</a>;</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      <span class="keywordflow">while</span> (buffer)</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      {</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;         <a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *next = buffer-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a089a4e72a9d8a2ceddfe7ab0ec3ececa">next</a>;</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;         status = port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a5bc3dcd0555ff867f07b6750c89685c4">pf_send</a>(port, buffer);</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;         <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;         {</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            buffer-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a089a4e72a9d8a2ceddfe7ab0ec3ececa">next</a> = next;</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;         }</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;         buffer = next;</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      }</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <span class="comment">/* If for some reason we could not send one of the buffers, we just</span></div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;<span class="comment">       * leave all the buffers in our internal queue and return an error. */</span></div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      {</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;         port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3b7888f8e169bf09f0e78d912356cca0">queue_first</a> = <a class="code" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a>;</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;      }</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      {</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;         port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3b7888f8e169bf09f0e78d912356cca0">queue_first</a> = 0;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;         port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#abca1644448bbed6589bc8f8a0e2aaef7">queue_last</a> = &amp;port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3b7888f8e169bf09f0e78d912356cca0">queue_first</a>;</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;   }</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;   <span class="keywordflow">if</span> (status == <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;      port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>-&gt;<a class="code" href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">core</a>-&gt;<a class="code" href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3d742ba882f7179cfc8e1a9df19a8998">is_paused</a> = pause;</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;   <a class="code" href="../../d6/d4d/mmal__port_8c.html#a41ee2f36ab4cf75a260d3533cdea203d">UNLOCK_SENDING</a>(port);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;}</div><div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a089a4e72a9d8a2ceddfe7ab0ec3ececa"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a089a4e72a9d8a2ceddfe7ab0ec3ececa">MMAL_BUFFER_HEADER_T::next</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_T * next</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00071">mmal_buffer.h:71</a></div></div>
<div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a3b7888f8e169bf09f0e78d912356cca0"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3b7888f8e169bf09f0e78d912356cca0">MMAL_PORT_PRIVATE_CORE_T::queue_first</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T * queue_first</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00091">mmal_port.c:91</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_ae5a91f852f8b8ffed71eb01922998b3d"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#ae5a91f852f8b8ffed71eb01922998b3d">MMAL_PORT_T::is_enabled</a></div><div class="ttdeci">uint32_t is_enabled</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00088">mmal_port.h:88</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_abca1644448bbed6589bc8f8a0e2aaef7"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#abca1644448bbed6589bc8f8a0e2aaef7">MMAL_PORT_PRIVATE_CORE_T::queue_last</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T ** queue_last</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00093">mmal_port.c:93</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_a95515f4bf2c3fda1c44f907d0df201f8"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a95515f4bf2c3fda1c44f907d0df201f8">MMAL_PORT_PRIVATE_T::core</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_CORE_T * core</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00043">mmal_port_private.h:43</a></div></div>
<div class="ttc" id="group__MmalTypes_html_ga5ac87230bd615d2b154a9d5899bc37fd"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a></div><div class="ttdeci">MMAL_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00046">mmal_types.h:46</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__CORE__T_html_a3d742ba882f7179cfc8e1a9df19a8998"><div class="ttname"><a href="../../d3/dcc/structMMAL__PORT__PRIVATE__CORE__T.html#a3d742ba882f7179cfc8e1a9df19a8998">MMAL_PORT_PRIVATE_CORE_T::is_paused</a></div><div class="ttdeci">MMAL_BOOL_T is_paused</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00089">mmal_port.c:89</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00069">mmal_buffer.h:69</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="mmal__port_8c_html_a41ee2f36ab4cf75a260d3533cdea203d"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#a41ee2f36ab4cf75a260d3533cdea203d">UNLOCK_SENDING</a></div><div class="ttdeci">#define UNLOCK_SENDING(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00129">mmal_port.c:129</a></div></div>
<div class="ttc" id="structMMAL__PORT__PRIVATE__T_html_a5bc3dcd0555ff867f07b6750c89685c4"><div class="ttname"><a href="../../d4/d6c/structMMAL__PORT__PRIVATE__T.html#a5bc3dcd0555ff867f07b6750c89685c4">MMAL_PORT_PRIVATE_T::pf_send</a></div><div class="ttdeci">MMAL_STATUS_T(* pf_send)(MMAL_PORT_T *port, MMAL_BUFFER_HEADER_T *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1f/mmal__port__private_8h_source.html#l00052">mmal_port_private.h:52</a></div></div>
<div class="ttc" id="mmal__port_8c_html_ab142285ed45da7d803f3d370114b64c2"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#ab142285ed45da7d803f3d370114b64c2">LOCK_SENDING</a></div><div class="ttdeci">#define LOCK_SENDING(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00128">mmal_port.c:128</a></div></div>
<div class="ttc" id="eglext_8h_html_a769ee876630087de1b07d78b25dcecea"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a></div><div class="ttdeci">EGLContext EGLenum EGLClientBuffer buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00092">eglext.h:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0702e0f661526b5ac87677a0d7f1daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0702e0f661526b5ac87677a0d7f1daf">&#9670;&nbsp;</a></span>mmal_ports_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a>** mmal_ports_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d4e/structMMAL__COMPONENT__T.html">MMAL_COMPONENT_T</a> *&#160;</td>
          <td class="paramname"><em>component</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ports_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>extra_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate an array of ports </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00247">247</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00085">MMAL_PORT_T::index</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00158">mmal_port_alloc()</a>, and <a class="el" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/db5/mmal__port__clock_8c_source.html#l00590">mmal_ports_clock_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;{</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> **ports;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   ports = <a class="code" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a>(1, <span class="keyword">sizeof</span>(<a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *) * ports_num, <span class="stringliteral">&quot;mmal ports&quot;</span>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">if</span> (!ports)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; ports_num; i++)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      ports[i] = <a class="code" href="../../d6/d4d/mmal__port_8c.html#a10ab08b4f6ab9ef0fa2651f7c5b2ab06">mmal_port_alloc</a>(component, <a class="code" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>, extra_size);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">if</span> (!ports[i])</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      ports[i]-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">index</a> = i;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      mmal_port_name_update(ports[i]);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keywordflow">if</span> (i != ports_num)</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;      <span class="keywordflow">for</span> (ports_num = i, i = 0; i &lt; ports_num; i++)</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;         <a class="code" href="../../d6/d4d/mmal__port_8c.html#a6401bae6319279142320bfcf2290cd78">mmal_port_free</a>(ports[i]);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(ports);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="keywordflow">return</span> ports;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div><div class="ttc" id="structMMAL__PORT__T_html"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00079">mmal_port.h:79</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_abe5b96512548848f0ee82c2e4b530203"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">MMAL_PORT_T::index</a></div><div class="ttdeci">uint16_t index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00085">mmal_port.h:85</a></div></div>
<div class="ttc" id="mmal__port_8c_html_a10ab08b4f6ab9ef0fa2651f7c5b2ab06"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#a10ab08b4f6ab9ef0fa2651f7c5b2ab06">mmal_port_alloc</a></div><div class="ttdeci">MMAL_PORT_T * mmal_port_alloc(MMAL_COMPONENT_T *component, MMAL_PORT_TYPE_T type, unsigned int extra_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00158">mmal_port.c:158</a></div></div>
<div class="ttc" id="mmal__port_8c_html_a6401bae6319279142320bfcf2290cd78"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#a6401bae6319279142320bfcf2290cd78">mmal_port_free</a></div><div class="ttdeci">void mmal_port_free(MMAL_PORT_T *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00228">mmal_port.c:228</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_a7759d85a5e6d760910600910404f0a89"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_calloc(VCOS_UNSIGNED num, VCOS_UNSIGNED size, const char *description)</div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="eglext_8h_html_ad5ddf6fca7b585646515660e810e0188"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a></div><div class="ttdeci">EGLenum type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00186">eglext.h:186</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af67c275be8cb298079fe9296adffa838"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af67c275be8cb298079fe9296adffa838">&#9670;&nbsp;</a></span>mmal_ports_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_ports_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> **&#160;</td>
          <td class="paramname"><em>ports</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ports_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free an array of ports </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00278">278</a> of file <a class="el" href="../../d6/d4d/mmal__port_8c_source.html">mmal_port.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00228">mmal_port_free()</a>, and <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; ports_num; i++)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <a class="code" href="../../d6/d4d/mmal__port_8c.html#a6401bae6319279142320bfcf2290cd78">mmal_port_free</a>(ports[i]);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(ports);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;}</div><div class="ttc" id="mmal__port_8c_html_a6401bae6319279142320bfcf2290cd78"><div class="ttname"><a href="../../d6/d4d/mmal__port_8c.html#a6401bae6319279142320bfcf2290cd78">mmal_port_free</a></div><div class="ttdeci">void mmal_port_free(MMAL_PORT_T *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00228">mmal_port.c:228</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

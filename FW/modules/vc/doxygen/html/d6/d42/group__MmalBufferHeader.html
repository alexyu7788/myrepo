<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: Buffer headers</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Buffer headers</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8a/structMMAL__BUFFER__HEADER__VIDEO__SPECIFIC__T.html">MMAL_BUFFER_HEADER_VIDEO_SPECIFIC_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc2/unionMMAL__BUFFER__HEADER__TYPE__SPECIFIC__T.html">MMAL_BUFFER_HEADER_TYPE_SPECIFIC_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga04b1287ff1819730dac76ec2f1b71755"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga04b1287ff1819730dac76ec2f1b71755">MMAL_BUFFER_HEADER_T</a></td></tr>
<tr class="separator:ga04b1287ff1819730dac76ec2f1b71755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83d2d9944c72cbac55332fefcd48fc9a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga83d2d9944c72cbac55332fefcd48fc9a">MMAL_BH_PRE_RELEASE_CB_T</a>) (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *userdata)</td></tr>
<tr class="separator:ga83d2d9944c72cbac55332fefcd48fc9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad9609b896dba5cdbddc8b7b82905465a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gad9609b896dba5cdbddc8b7b82905465a">mmal_buffer_header_acquire</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header)</td></tr>
<tr class="separator:gad9609b896dba5cdbddc8b7b82905465a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga902874a4bfadacde38cde0357433cb02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga902874a4bfadacde38cde0357433cb02">mmal_buffer_header_reset</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header)</td></tr>
<tr class="separator:ga902874a4bfadacde38cde0357433cb02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69dfbc6faf317c320c4abbeb750a556e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga69dfbc6faf317c320c4abbeb750a556e">mmal_buffer_header_release</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header)</td></tr>
<tr class="separator:ga69dfbc6faf317c320c4abbeb750a556e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51c263bfb9addd37edf0c641230c038c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga51c263bfb9addd37edf0c641230c038c">mmal_buffer_header_release_continue</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header)</td></tr>
<tr class="separator:ga51c263bfb9addd37edf0c641230c038c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a760f6cb1ed797372babe58c16ce98a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga0a760f6cb1ed797372babe58c16ce98a">mmal_buffer_header_pre_release_cb_set</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header, <a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga83d2d9944c72cbac55332fefcd48fc9a">MMAL_BH_PRE_RELEASE_CB_T</a> cb, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *userdata)</td></tr>
<tr class="separator:ga0a760f6cb1ed797372babe58c16ce98a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea1bde05ffa6baacd37ceeef9773c32b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gaea1bde05ffa6baacd37ceeef9773c32b">mmal_buffer_header_replicate</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *dest, <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="el" href="../../d8/dec/vgext_8h.html#a06a6d354b227d4872f831c8d67dd2280">src</a>)</td></tr>
<tr class="separator:gaea1bde05ffa6baacd37ceeef9773c32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga194fe6814a3bb4eb68dd4d999bef8b06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga194fe6814a3bb4eb68dd4d999bef8b06">mmal_buffer_header_mem_lock</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header)</td></tr>
<tr class="separator:ga194fe6814a3bb4eb68dd4d999bef8b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e381687103b8c14895ba349d6668b7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga3e381687103b8c14895ba349d6668b7c">mmal_buffer_header_mem_unlock</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header)</td></tr>
<tr class="separator:ga3e381687103b8c14895ba349d6668b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Buffer header flags</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp77535e1ef4bf30d7bd80fb68bf144af9"></a><a class="anchor" id="bufferheaderflags"></a>The following flags describe properties of a buffer header </p>
</td></tr>
<tr class="memitem:ga265678709b4a6279d37c0fb93886a316"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga265678709b4a6279d37c0fb93886a316">MMAL_BUFFER_HEADER_FLAG_EOS</a>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr class="separator:ga265678709b4a6279d37c0fb93886a316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1c1b617d93e55e151b34b786bfda8e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gae1c1b617d93e55e151b34b786bfda8e5">MMAL_BUFFER_HEADER_FLAG_FRAME_START</a>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr class="separator:gae1c1b617d93e55e151b34b786bfda8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga688a824d5f3e0c6404ffb9f25399d056"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga688a824d5f3e0c6404ffb9f25399d056">MMAL_BUFFER_HEADER_FLAG_FRAME_END</a>&#160;&#160;&#160;(1&lt;&lt;2)</td></tr>
<tr class="separator:ga688a824d5f3e0c6404ffb9f25399d056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff3f7d947c1527d6d5587742760d4e05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gaff3f7d947c1527d6d5587742760d4e05">MMAL_BUFFER_HEADER_FLAG_FRAME</a>&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gae1c1b617d93e55e151b34b786bfda8e5">MMAL_BUFFER_HEADER_FLAG_FRAME_START</a>|<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga688a824d5f3e0c6404ffb9f25399d056">MMAL_BUFFER_HEADER_FLAG_FRAME_END</a>)</td></tr>
<tr class="separator:gaff3f7d947c1527d6d5587742760d4e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81c521ef84efeb6dd2d5631cd0167694"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga81c521ef84efeb6dd2d5631cd0167694">MMAL_BUFFER_HEADER_FLAG_KEYFRAME</a>&#160;&#160;&#160;(1&lt;&lt;3)</td></tr>
<tr class="separator:ga81c521ef84efeb6dd2d5631cd0167694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0c98ff46840e65aadf4379237b8695b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gac0c98ff46840e65aadf4379237b8695b">MMAL_BUFFER_HEADER_FLAG_DISCONTINUITY</a>&#160;&#160;&#160;(1&lt;&lt;4)</td></tr>
<tr class="separator:gac0c98ff46840e65aadf4379237b8695b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8318e7a886bd9f303511fae4ce67dcef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga8318e7a886bd9f303511fae4ce67dcef">MMAL_BUFFER_HEADER_FLAG_CONFIG</a>&#160;&#160;&#160;(1&lt;&lt;5)</td></tr>
<tr class="separator:ga8318e7a886bd9f303511fae4ce67dcef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88dc737873fdc1e73eea7a722e4af533"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga88dc737873fdc1e73eea7a722e4af533">MMAL_BUFFER_HEADER_FLAG_ENCRYPTED</a>&#160;&#160;&#160;(1&lt;&lt;6)</td></tr>
<tr class="separator:ga88dc737873fdc1e73eea7a722e4af533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad65a01dcc3f853cb69f9a5a100c68f4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gad65a01dcc3f853cb69f9a5a100c68f4e">MMAL_BUFFER_HEADER_FLAG_CODECSIDEINFO</a>&#160;&#160;&#160;(1&lt;&lt;7)</td></tr>
<tr class="separator:gad65a01dcc3f853cb69f9a5a100c68f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b69d0c111e7aca2b2f0714ea63752f1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga9b69d0c111e7aca2b2f0714ea63752f1">MMAL_BUFFER_HEADER_FLAGS_SNAPSHOT</a>&#160;&#160;&#160;(1&lt;&lt;8)</td></tr>
<tr class="separator:ga9b69d0c111e7aca2b2f0714ea63752f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23be573ebc78be0b08c0dae10f3fa7ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga23be573ebc78be0b08c0dae10f3fa7ea">MMAL_BUFFER_HEADER_FLAG_CORRUPTED</a>&#160;&#160;&#160;(1&lt;&lt;9)</td></tr>
<tr class="separator:ga23be573ebc78be0b08c0dae10f3fa7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea28576f27fea073f5fc5d56c64ccfa3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gaea28576f27fea073f5fc5d56c64ccfa3">MMAL_BUFFER_HEADER_FLAG_TRANSMISSION_FAILED</a>&#160;&#160;&#160;(1&lt;&lt;10)</td></tr>
<tr class="separator:gaea28576f27fea073f5fc5d56c64ccfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab297c5499331bd2ed16fc95f22147ff0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gab297c5499331bd2ed16fc95f22147ff0">MMAL_BUFFER_HEADER_FLAG_DECODEONLY</a>&#160;&#160;&#160;(1&lt;&lt;11)</td></tr>
<tr class="separator:gab297c5499331bd2ed16fc95f22147ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5db3974ae7934bb0aaa9cfc2622de0d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gab5db3974ae7934bb0aaa9cfc2622de0d">MMAL_BUFFER_HEADER_FLAG_NAL_END</a>&#160;&#160;&#160;(1&lt;&lt;12)</td></tr>
<tr class="separator:gab5db3974ae7934bb0aaa9cfc2622de0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac759911e957c62a83326e3e030f497c1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gac759911e957c62a83326e3e030f497c1">MMAL_BUFFER_HEADER_FLAG_USER0</a>&#160;&#160;&#160;(1&lt;&lt;28)</td></tr>
<tr class="separator:gac759911e957c62a83326e3e030f497c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad58f98eecae445669cf48f450a6cf1b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gad58f98eecae445669cf48f450a6cf1b5">MMAL_BUFFER_HEADER_FLAG_USER1</a>&#160;&#160;&#160;(1&lt;&lt;29)</td></tr>
<tr class="separator:gad58f98eecae445669cf48f450a6cf1b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0f403c64d06ace1f3e78d94efe1f3cf5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga0f403c64d06ace1f3e78d94efe1f3cf5">MMAL_BUFFER_HEADER_FLAG_USER2</a>&#160;&#160;&#160;(1&lt;&lt;30)</td></tr>
<tr class="separator:ga0f403c64d06ace1f3e78d94efe1f3cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d1a8b518efcda178ca9a0197e1f00c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga4d1a8b518efcda178ca9a0197e1f00c5">MMAL_BUFFER_HEADER_FLAG_USER3</a>&#160;&#160;&#160;(1&lt;&lt;31)</td></tr>
<tr class="separator:ga4d1a8b518efcda178ca9a0197e1f00c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Video buffer header flags</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrpf7c428061f84b01128eb0b8479440e5c"></a><a class="anchor" id="videobufferheaderflags"></a>The following flags describe properties of a video buffer header. As there is no collision with the MMAL_BUFFER_HEADER_FLAGS_ defines, these flags will also be present in the <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> flags field. </p>
</td></tr>
<tr class="memitem:ga2737ae410d999928f2f8344c8cfe30da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga2737ae410d999928f2f8344c8cfe30da">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START_BIT</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ga2737ae410d999928f2f8344c8cfe30da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabff30b39ea2afae18176d52334b17328"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&#160;&#160;&#160;(1&lt;&lt;<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga2737ae410d999928f2f8344c8cfe30da">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START_BIT</a>)</td></tr>
<tr class="separator:gabff30b39ea2afae18176d52334b17328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef2c5ebb41c4ae52529aca253f853d66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gaef2c5ebb41c4ae52529aca253f853d66">MMAL_BUFFER_HEADER_VIDEO_FLAG_INTERLACED</a>&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;0)</td></tr>
<tr class="separator:gaef2c5ebb41c4ae52529aca253f853d66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e38937ab2b2d737afae67952ad45180"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga5e38937ab2b2d737afae67952ad45180">MMAL_BUFFER_HEADER_VIDEO_FLAG_TOP_FIELD_FIRST</a>&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;1)</td></tr>
<tr class="separator:ga5e38937ab2b2d737afae67952ad45180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55edb907692c25d3fd924fd5931567ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga55edb907692c25d3fd924fd5931567ce">MMAL_BUFFER_HEADER_VIDEO_FLAG_DISPLAY_EXTERNAL</a>&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;3)</td></tr>
<tr class="separator:ga55edb907692c25d3fd924fd5931567ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa18815e153fb590d7bea0673814ec859"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gaa18815e153fb590d7bea0673814ec859">MMAL_BUFFER_HEADER_VIDEO_FLAG_PROTECTED</a>&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;4)</td></tr>
<tr class="separator:gaa18815e153fb590d7bea0673814ec859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac698c87984adf0e1f1e52f951dd4fcc7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gac698c87984adf0e1f1e52f951dd4fcc7">MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_SHIFT</a>&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga2737ae410d999928f2f8344c8cfe30da">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START_BIT</a>+8)</td></tr>
<tr class="separator:gac698c87984adf0e1f1e52f951dd4fcc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27e5da039f3176d6caee88896f0de589"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga27e5da039f3176d6caee88896f0de589">MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_MASK</a>&#160;&#160;&#160;(0xF&lt;&lt;MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_SHIFT)</td></tr>
<tr class="separator:ga27e5da039f3176d6caee88896f0de589"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Definition of a buffer header and its associated API. Buffer headers are the basic element used to pass data and information between different parts of the system. They are passed to components via ports and sent back to the client using a callback mechanism. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gad65a01dcc3f853cb69f9a5a100c68f4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad65a01dcc3f853cb69f9a5a100c68f4e">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_CODECSIDEINFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_CODECSIDEINFO&#160;&#160;&#160;(1&lt;&lt;7)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals a buffer containing side information </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00124">124</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="ga8318e7a886bd9f303511fae4ce67dcef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8318e7a886bd9f303511fae4ce67dcef">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_CONFIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_CONFIG&#160;&#160;&#160;(1&lt;&lt;5)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals a buffer containing some kind of config data for the component (e.g. codec config data) </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00120">120</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="ga23be573ebc78be0b08c0dae10f3fa7ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23be573ebc78be0b08c0dae10f3fa7ea">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_CORRUPTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_CORRUPTED&#160;&#160;&#160;(1&lt;&lt;9)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals a buffer which contains data known to be corrupted </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00128">128</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gab297c5499331bd2ed16fc95f22147ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab297c5499331bd2ed16fc95f22147ff0">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_DECODEONLY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_DECODEONLY&#160;&#160;&#160;(1&lt;&lt;11)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals the output buffer won't be used, just update reference frames </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00132">132</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gac0c98ff46840e65aadf4379237b8695b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0c98ff46840e65aadf4379237b8695b">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_DISCONTINUITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_DISCONTINUITY&#160;&#160;&#160;(1&lt;&lt;4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals a discontinuity in the stream of data (e.g. after a seek). Can be used for instance by a decoder to reset its state </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00117">117</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="ga88dc737873fdc1e73eea7a722e4af533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88dc737873fdc1e73eea7a722e4af533">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_ENCRYPTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_ENCRYPTED&#160;&#160;&#160;(1&lt;&lt;6)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals an encrypted payload </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00122">122</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="ga265678709b4a6279d37c0fb93886a316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga265678709b4a6279d37c0fb93886a316">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_EOS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_EOS&#160;&#160;&#160;(1&lt;&lt;0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals that the current payload is the end of the stream of data </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00106">106</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/mmal__encode_8c_source.html#l00088">mmal_encode_test()</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gabff30b39ea2afae18176d52334b17328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabff30b39ea2afae18176d52334b17328">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START&#160;&#160;&#160;(1&lt;&lt;<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga2737ae410d999928f2f8344c8cfe30da">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START_BIT</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00149">149</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="ga2737ae410d999928f2f8344c8cfe30da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2737ae410d999928f2f8344c8cfe30da">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START_BIT&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00148">148</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="gaff3f7d947c1527d6d5587742760d4e05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff3f7d947c1527d6d5587742760d4e05">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_FRAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_FRAME&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gae1c1b617d93e55e151b34b786bfda8e5">MMAL_BUFFER_HEADER_FLAG_FRAME_START</a>|<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga688a824d5f3e0c6404ffb9f25399d056">MMAL_BUFFER_HEADER_FLAG_FRAME_END</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals that the current payload contains only complete frames (1 or more) </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00112">112</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="ga688a824d5f3e0c6404ffb9f25399d056"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga688a824d5f3e0c6404ffb9f25399d056">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_FRAME_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_FRAME_END&#160;&#160;&#160;(1&lt;&lt;2)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals that the end of the current payload ends a frame </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00110">110</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gae1c1b617d93e55e151b34b786bfda8e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae1c1b617d93e55e151b34b786bfda8e5">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_FRAME_START</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_FRAME_START&#160;&#160;&#160;(1&lt;&lt;1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals that the start of the current payload starts a frame </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00108">108</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="ga81c521ef84efeb6dd2d5631cd0167694"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81c521ef84efeb6dd2d5631cd0167694">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_KEYFRAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_KEYFRAME&#160;&#160;&#160;(1&lt;&lt;3)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals that the current payload is a keyframe (i.e. self decodable) </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00114">114</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gab5db3974ae7934bb0aaa9cfc2622de0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab5db3974ae7934bb0aaa9cfc2622de0d">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_NAL_END</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_NAL_END&#160;&#160;&#160;(1&lt;&lt;12)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals that the end of the current payload ends a NAL </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00134">134</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gaea28576f27fea073f5fc5d56c64ccfa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea28576f27fea073f5fc5d56c64ccfa3">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_TRANSMISSION_FAILED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_TRANSMISSION_FAILED&#160;&#160;&#160;(1&lt;&lt;10)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals that a buffer failed to be transmitted </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00130">130</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="gac759911e957c62a83326e3e030f497c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac759911e957c62a83326e3e030f497c1">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_USER0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_USER0&#160;&#160;&#160;(1&lt;&lt;28)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>User flags - can be passed in and will get returned </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00136">136</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gad58f98eecae445669cf48f450a6cf1b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad58f98eecae445669cf48f450a6cf1b5">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_USER1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_USER1&#160;&#160;&#160;(1&lt;&lt;29)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00137">137</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="ga0f403c64d06ace1f3e78d94efe1f3cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0f403c64d06ace1f3e78d94efe1f3cf5">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_USER2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_USER2&#160;&#160;&#160;(1&lt;&lt;30)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00138">138</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="ga4d1a8b518efcda178ca9a0197e1f00c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d1a8b518efcda178ca9a0197e1f00c5">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAG_USER3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAG_USER3&#160;&#160;&#160;(1&lt;&lt;31)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00139">139</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="ga9b69d0c111e7aca2b2f0714ea63752f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b69d0c111e7aca2b2f0714ea63752f1">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_FLAGS_SNAPSHOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_FLAGS_SNAPSHOT&#160;&#160;&#160;(1&lt;&lt;8)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Signals a buffer which is the snapshot/postview image from a stills capture </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00126">126</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="ga27e5da039f3176d6caee88896f0de589"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga27e5da039f3176d6caee88896f0de589">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_MASK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_MASK&#160;&#160;&#160;(0xF&lt;&lt;MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_SHIFT)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00163">163</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="gac698c87984adf0e1f1e52f951dd4fcc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac698c87984adf0e1f1e52f951dd4fcc7">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_SHIFT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_VIDEO_FLAG_COLUMN_LOG2_SHIFT&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga2737ae410d999928f2f8344c8cfe30da">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START_BIT</a>+8)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>27-24: If non-zero it signals the video frame is encoded in column mode, with a column width equal to 2^&lt;masked value&gt;=""&gt;. Zero is raster order. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00162">162</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="ga55edb907692c25d3fd924fd5931567ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga55edb907692c25d3fd924fd5931567ce">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_VIDEO_FLAG_DISPLAY_EXTERNAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_VIDEO_FLAG_DISPLAY_EXTERNAL&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;3)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>19: Signals that the buffer should be displayed on external display if attached. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00156">156</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="gaef2c5ebb41c4ae52529aca253f853d66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef2c5ebb41c4ae52529aca253f853d66">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_VIDEO_FLAG_INTERLACED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_VIDEO_FLAG_INTERLACED&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>16: Signals an interlaced video frame </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00152">152</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00157">mmalil_video_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00145">mmalil_video_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<a id="gaa18815e153fb590d7bea0673814ec859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa18815e153fb590d7bea0673814ec859">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_VIDEO_FLAG_PROTECTED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_VIDEO_FLAG_PROTECTED&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;4)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>20: Signals that contents of the buffer requires copy protection. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00158">158</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="ga5e38937ab2b2d737afae67952ad45180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e38937ab2b2d737afae67952ad45180">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_VIDEO_FLAG_TOP_FIELD_FIRST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_BUFFER_HEADER_VIDEO_FLAG_TOP_FIELD_FIRST&#160;&#160;&#160;(<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#gabff30b39ea2afae18176d52334b17328">MMAL_BUFFER_HEADER_FLAG_FORMAT_SPECIFIC_START</a>&lt;&lt;1)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>17: Signals that the top field of the current interlaced frame should be displayed first </p>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00154">154</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00104">mmalil_buffer_flags_to_mmal()</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00063">mmalil_buffer_flags_to_omx()</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00157">mmalil_video_buffer_flags_to_mmal()</a>, and <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00145">mmalil_video_buffer_flags_to_omx()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga83d2d9944c72cbac55332fefcd48fc9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83d2d9944c72cbac55332fefcd48fc9a">&#9670;&nbsp;</a></span>MMAL_BH_PRE_RELEASE_CB_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a>(* MMAL_BH_PRE_RELEASE_CB_T) (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *userdata)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Buffer header pre-release callback. The callback is invoked just before a buffer is released back into a pool. This is used by clients who need to trigger additional actions before the buffer can finally be released (e.g. wait for a bulk transfer to complete).</p>
<p>The callback should return TRUE if the buffer release need to be post-poned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header about to be released </td></tr>
    <tr><td class="paramname">userdata</td><td>user-specific data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the buffer should not be released </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00217">217</a> of file <a class="el" href="../../de/d47/mmal__buffer_8h_source.html">mmal_buffer.h</a>.</p>

</div>
</div>
<a id="ga04b1287ff1819730dac76ec2f1b71755"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04b1287ff1819730dac76ec2f1b71755">&#9670;&nbsp;</a></span>MMAL_BUFFER_HEADER_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>  <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition of the buffer header structure. A buffer header does not directly carry the data to be passed to a component but instead it references the actual data using a pointer (and an associated length). It also contains an internal area which can be used to store command to be associated with the external data. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gad9609b896dba5cdbddc8b7b82905465a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9609b896dba5cdbddc8b7b82905465a">&#9670;&nbsp;</a></span>mmal_buffer_header_acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_buffer_header_acquire </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquire a buffer header. Acquiring a buffer header increases a reference counter on it and makes sure that the buffer header won't be recycled until all the references to it are gone. This is useful for instance if a component needs to return a buffer header but still needs access to it for some internal processing (e.g. reference frames in video codecs).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header to acquire</td></tr>
  </table>
  </dd>
</dl>
<p>Acquire a buffer header </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00038">38</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>, and <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00051">MMAL_BUFFER_HEADER_PRIVATE_T::refcount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00085">mmal_buffer_header_replicate()</a>, and <a class="el" href="../../da/d0f/mmal__connection_8c_source.html#l00486">mmal_connection_event_format_changed()</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#ifdef ENABLE_MMAL_EXTRA_LOGGING</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;%p (%i)&quot;</span>, header, (<span class="keywordtype">int</span>)header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a9b991be0ea1d7951eaa213711f463d3b">refcount</a>+1);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a9b991be0ea1d7951eaa213711f463d3b">refcount</a>++;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div><div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a9b991be0ea1d7951eaa213711f463d3b"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a9b991be0ea1d7951eaa213711f463d3b">MMAL_BUFFER_HEADER_PRIVATE_T::refcount</a></div><div class="ttdeci">int32_t refcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00051">mmal_buffer_private.h:51</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga194fe6814a3bb4eb68dd4d999bef8b06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga194fe6814a3bb4eb68dd4d999bef8b06">&#9670;&nbsp;</a></span>mmal_buffer_header_mem_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> mmal_buffer_header_mem_lock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lock the data buffer contained in the buffer header in memory. This call does nothing on all platforms except VideoCore where it is needed to pin a buffer in memory before any access to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header to lock</td></tr>
  </table>
  </dd>
</dl>
<p>Lock the data buffer contained in the buffer header </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00157">157</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00078">MMAL_BUFFER_HEADER_T::data</a>, <a class="el" href="../../dc/d09/mailbox_8c_source.html#l00143">mem_lock()</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00051">MMAL_EINVAL</a>, <a class="el" href="../../d4/df4/mmal__common_8h_source.html#l00057">MMAL_PARAM_UNUSED</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00048">MMAL_SUCCESS</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00064">MMAL_BUFFER_HEADER_PRIVATE_T::payload_handle</a>, and <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#ifdef __VIDEOCORE__</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <a class="code" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *<a class="code" href="../../d1/d3f/eglext__brcm_8h.html#ae71d2e007af6a1d1ed622d3e8be266e2">data</a> = <a class="code" href="../../dc/d09/mailbox_8c.html#a7362873ff557c1d421eaf84f70e74460">mem_lock</a>((<a class="code" href="../../d8/dc9/rtos__common__mem_8h.html#a65466ff01745883d776e5d100551e411">MEM_HANDLE_T</a>)header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">data</a>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   <span class="keywordflow">if</span> (!data)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9">MMAL_EINVAL</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a10f1aea7c4a66d2d346f46c78a0e3e3f">payload_handle</a> = (<span class="keywordtype">void</span> *)header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">data</a>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">data</a> = data;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;#<span class="keywordflow">else</span></div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <a class="code" href="../../d4/df4/mmal__common_8h.html#a530f71b6be3263a2eb15c71dd4f0f60c">MMAL_PARAM_UNUSED</a>(header);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;}</div><div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1b2ea032ef9ebaaac9c3ef370585f530"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">MMAL_BUFFER_HEADER_T::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00078">mmal_buffer.h:78</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a10f1aea7c4a66d2d346f46c78a0e3e3f"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a10f1aea7c4a66d2d346f46c78a0e3e3f">MMAL_BUFFER_HEADER_PRIVATE_T::payload_handle</a></div><div class="ttdeci">void * payload_handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00064">mmal_buffer_private.h:64</a></div></div>
<div class="ttc" id="rtos__common__mem_8h_html_a65466ff01745883d776e5d100551e411"><div class="ttname"><a href="../../d8/dc9/rtos__common__mem_8h.html#a65466ff01745883d776e5d100551e411">MEM_HANDLE_T</a></div><div class="ttdeci">MEM_HANDLE_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc9/rtos__common__mem_8h_source.html#l00145">rtos_common_mem.h:145</a></div></div>
<div class="ttc" id="eglext__brcm_8h_html_ae71d2e007af6a1d1ed622d3e8be266e2"><div class="ttname"><a href="../../d1/d3f/eglext__brcm_8h.html#ae71d2e007af6a1d1ed622d3e8be266e2">data</a></div><div class="ttdeci">EGLint EGLint const void * data</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3f/eglext__brcm_8h_source.html#l00091">eglext_brcm.h:91</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9">MMAL_EINVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00051">mmal_types.h:51</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="containers__types_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5f/containers__types_8h_source.html#l00069">containers_types.h:69</a></div></div>
<div class="ttc" id="mmal__common_8h_html_a530f71b6be3263a2eb15c71dd4f0f60c"><div class="ttname"><a href="../../d4/df4/mmal__common_8h.html#a530f71b6be3263a2eb15c71dd4f0f60c">MMAL_PARAM_UNUSED</a></div><div class="ttdeci">#define MMAL_PARAM_UNUSED(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df4/mmal__common_8h_source.html#l00057">mmal_common.h:57</a></div></div>
<div class="ttc" id="mailbox_8c_html_a7362873ff557c1d421eaf84f70e74460"><div class="ttname"><a href="../../dc/d09/mailbox_8c.html#a7362873ff557c1d421eaf84f70e74460">mem_lock</a></div><div class="ttdeci">unsigned mem_lock(int file_desc, unsigned handle)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d09/mailbox_8c_source.html#l00143">mailbox.c:143</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga3e381687103b8c14895ba349d6668b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3e381687103b8c14895ba349d6668b7c">&#9670;&nbsp;</a></span>mmal_buffer_header_mem_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_buffer_header_mem_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unlock the data buffer contained in the buffer header. This call does nothing on all platforms except VideoCore where it is needed to un-pin a buffer in memory after any access to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header to unlock</td></tr>
  </table>
  </dd>
</dl>
<p>Unlock the data buffer contained in the buffer header </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00173">173</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00078">MMAL_BUFFER_HEADER_T::data</a>, <a class="el" href="../../dc/d09/mailbox_8c_source.html#l00162">mem_unlock()</a>, <a class="el" href="../../d4/df4/mmal__common_8h_source.html#l00057">MMAL_PARAM_UNUSED</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00064">MMAL_BUFFER_HEADER_PRIVATE_T::payload_handle</a>, and <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;{</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#ifdef __VIDEOCORE__</span></div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <a class="code" href="../../dc/d09/mailbox_8c.html#a39d90599b0dce1a4cbeb3d2bdc014cbb">mem_unlock</a>((<a class="code" href="../../d8/dc9/rtos__common__mem_8h.html#a65466ff01745883d776e5d100551e411">MEM_HANDLE_T</a>)header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a10f1aea7c4a66d2d346f46c78a0e3e3f">payload_handle</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">data</a> = header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a10f1aea7c4a66d2d346f46c78a0e3e3f">payload_handle</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <a class="code" href="../../d4/df4/mmal__common_8h.html#a530f71b6be3263a2eb15c71dd4f0f60c">MMAL_PARAM_UNUSED</a>(header);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;}</div><div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1b2ea032ef9ebaaac9c3ef370585f530"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">MMAL_BUFFER_HEADER_T::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00078">mmal_buffer.h:78</a></div></div>
<div class="ttc" id="mailbox_8c_html_a39d90599b0dce1a4cbeb3d2bdc014cbb"><div class="ttname"><a href="../../dc/d09/mailbox_8c.html#a39d90599b0dce1a4cbeb3d2bdc014cbb">mem_unlock</a></div><div class="ttdeci">unsigned mem_unlock(int file_desc, unsigned handle)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d09/mailbox_8c_source.html#l00162">mailbox.c:162</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a10f1aea7c4a66d2d346f46c78a0e3e3f"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a10f1aea7c4a66d2d346f46c78a0e3e3f">MMAL_BUFFER_HEADER_PRIVATE_T::payload_handle</a></div><div class="ttdeci">void * payload_handle</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00064">mmal_buffer_private.h:64</a></div></div>
<div class="ttc" id="rtos__common__mem_8h_html_a65466ff01745883d776e5d100551e411"><div class="ttname"><a href="../../d8/dc9/rtos__common__mem_8h.html#a65466ff01745883d776e5d100551e411">MEM_HANDLE_T</a></div><div class="ttdeci">MEM_HANDLE_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dc9/rtos__common__mem_8h_source.html#l00145">rtos_common_mem.h:145</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
<div class="ttc" id="mmal__common_8h_html_a530f71b6be3263a2eb15c71dd4f0f60c"><div class="ttname"><a href="../../d4/df4/mmal__common_8h.html#a530f71b6be3263a2eb15c71dd4f0f60c">MMAL_PARAM_UNUSED</a></div><div class="ttdeci">#define MMAL_PARAM_UNUSED(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/df4/mmal__common_8h_source.html#l00057">mmal_common.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga0a760f6cb1ed797372babe58c16ce98a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a760f6cb1ed797372babe58c16ce98a">&#9670;&nbsp;</a></span>mmal_buffer_header_pre_release_cb_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_buffer_header_pre_release_cb_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga83d2d9944c72cbac55332fefcd48fc9a">MMAL_BH_PRE_RELEASE_CB_T</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a buffer header pre-release callback. If the callback is NULL, the buffer will be released back into the pool immediately as usual.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header to associate callback with </td></tr>
    <tr><td class="paramname">cb</td><td>pre-release callback to invoke </td></tr>
    <tr><td class="paramname">userdata</td><td>user-specific data</td></tr>
  </table>
  </dd>
</dl>
<p>Set a pre-release callback for a buffer header </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00184">184</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00042">MMAL_BUFFER_HEADER_PRIVATE_T::pf_pre_release</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00043">MMAL_BUFFER_HEADER_PRIVATE_T::pre_release_userdata</a>, and <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00291">mmal_pool_pre_release_callback_set()</a>.</p>
<div class="fragment"><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;{</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a0cae64d7523f3a83f4abdc382c710a9c">pf_pre_release</a> = cb;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a58d957b94598c85ae09c4d9032e1249a">pre_release_userdata</a> = userdata;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div><div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a58d957b94598c85ae09c4d9032e1249a"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a58d957b94598c85ae09c4d9032e1249a">MMAL_BUFFER_HEADER_PRIVATE_T::pre_release_userdata</a></div><div class="ttdeci">void * pre_release_userdata</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00043">mmal_buffer_private.h:43</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a0cae64d7523f3a83f4abdc382c710a9c"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a0cae64d7523f3a83f4abdc382c710a9c">MMAL_BUFFER_HEADER_PRIVATE_T::pf_pre_release</a></div><div class="ttdeci">MMAL_BH_PRE_RELEASE_CB_T pf_pre_release</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00042">mmal_buffer_private.h:42</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga69dfbc6faf317c320c4abbeb750a556e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69dfbc6faf317c320c4abbeb750a556e">&#9670;&nbsp;</a></span>mmal_buffer_header_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_buffer_header_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release a buffer header. Releasing a buffer header will decrease its reference counter and when no more references are left, the buffer header will be recycled by calling its 'release' callback function.</p>
<p>If a pre-release callback is set (<a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga83d2d9944c72cbac55332fefcd48fc9a">MMAL_BH_PRE_RELEASE_CB_T</a>), this will be invoked before calling the buffer's release callback and potentially postpone buffer recycling. Once pre-release is complete the buffer header is recycled with <a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga51c263bfb9addd37edf0c641230c038c">mmal_buffer_header_release_continue</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header to release</td></tr>
  </table>
  </dd>
</dl>
<p>Release a buffer header </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00057">57</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00075">mmal_buffer_header_release_continue()</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00042">MMAL_BUFFER_HEADER_PRIVATE_T::pf_pre_release</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00043">MMAL_BUFFER_HEADER_PRIVATE_T::pre_release_userdata</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>, and <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00051">MMAL_BUFFER_HEADER_PRIVATE_T::refcount</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/de2/RaspiCamControl_8c_source.html#l01794">default_camera_control_callback()</a>, <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00075">mmal_buffer_header_release_continue()</a>, <a class="el" href="../../da/d0f/mmal__connection_8c_source.html#l00386">mmal_connection_disable()</a>, <a class="el" href="../../da/d0f/mmal__connection_8c_source.html#l00486">mmal_connection_event_format_changed()</a>, <a class="el" href="../../d8/d6d/mmal__events_8c_source.html#l00106">mmal_event_forward()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01150">mmal_port_event_get()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00920">mmal_port_event_send()</a>, <a class="el" href="../../df/d67/mmal__component__wrapper_8c_source.html#l00275">mmal_wrapper_port_disable()</a>, and <a class="el" href="../../d0/d3e/mmalomx__commands_8c_source.html#l00410">mmalomx_command_dequeue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#ifdef ENABLE_MMAL_EXTRA_LOGGING</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;%p (%i)&quot;</span>, header, (<span class="keywordtype">int</span>)header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a9b991be0ea1d7951eaa213711f463d3b">refcount</a>-1);</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <span class="keywordflow">if</span>(--header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a9b991be0ea1d7951eaa213711f463d3b">refcount</a> != 0)</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;   <span class="keywordflow">if</span> (header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a0cae64d7523f3a83f4abdc382c710a9c">pf_pre_release</a>)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   {</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="keywordflow">if</span> (header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a0cae64d7523f3a83f4abdc382c710a9c">pf_pre_release</a>(header, header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a58d957b94598c85ae09c4d9032e1249a">pre_release_userdata</a>))</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;         <span class="keywordflow">return</span>; <span class="comment">/* delay releasing the buffer */</span></div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;   }</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   <a class="code" href="../../d6/d42/group__MmalBufferHeader.html#ga51c263bfb9addd37edf0c641230c038c">mmal_buffer_header_release_continue</a>(header);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div><div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="group__MmalBufferHeader_html_ga51c263bfb9addd37edf0c641230c038c"><div class="ttname"><a href="../../d6/d42/group__MmalBufferHeader.html#ga51c263bfb9addd37edf0c641230c038c">mmal_buffer_header_release_continue</a></div><div class="ttdeci">void mmal_buffer_header_release_continue(MMAL_BUFFER_HEADER_T *header)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0f/mmal__buffer_8c_source.html#l00075">mmal_buffer.c:75</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a58d957b94598c85ae09c4d9032e1249a"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a58d957b94598c85ae09c4d9032e1249a">MMAL_BUFFER_HEADER_PRIVATE_T::pre_release_userdata</a></div><div class="ttdeci">void * pre_release_userdata</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00043">mmal_buffer_private.h:43</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a9b991be0ea1d7951eaa213711f463d3b"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a9b991be0ea1d7951eaa213711f463d3b">MMAL_BUFFER_HEADER_PRIVATE_T::refcount</a></div><div class="ttdeci">int32_t refcount</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00051">mmal_buffer_private.h:51</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a0cae64d7523f3a83f4abdc382c710a9c"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a0cae64d7523f3a83f4abdc382c710a9c">MMAL_BUFFER_HEADER_PRIVATE_T::pf_pre_release</a></div><div class="ttdeci">MMAL_BH_PRE_RELEASE_CB_T pf_pre_release</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00042">mmal_buffer_private.h:42</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga51c263bfb9addd37edf0c641230c038c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga51c263bfb9addd37edf0c641230c038c">&#9670;&nbsp;</a></span>mmal_buffer_header_release_continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_buffer_header_release_continue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Continue the buffer header release process. This should be called to complete buffer header recycling once all pre-release activity has been completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header to release</td></tr>
  </table>
  </dd>
</dl>
<p>Finalise buffer release following a pre-release event </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00075">75</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00057">mmal_buffer_header_release()</a>, <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00047">mmal_buffer_header_reset()</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00047">MMAL_BUFFER_HEADER_PRIVATE_T::pf_release</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>, and <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00054">MMAL_BUFFER_HEADER_PRIVATE_T::reference</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00057">mmal_buffer_header_release()</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;{</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <a class="code" href="../../d6/d42/group__MmalBufferHeader.html#ga902874a4bfadacde38cde0357433cb02">mmal_buffer_header_reset</a>(header);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;   <span class="keywordflow">if</span> (header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a22fef5cc98e735d97f501db38322aaaa">reference</a>)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="../../d6/d42/group__MmalBufferHeader.html#ga69dfbc6faf317c320c4abbeb750a556e">mmal_buffer_header_release</a>(header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a22fef5cc98e735d97f501db38322aaaa">reference</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a22fef5cc98e735d97f501db38322aaaa">reference</a> = 0;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#aa852776a033852f464b784e221e88cc6">pf_release</a>(header);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="ttc" id="group__MmalBufferHeader_html_ga69dfbc6faf317c320c4abbeb750a556e"><div class="ttname"><a href="../../d6/d42/group__MmalBufferHeader.html#ga69dfbc6faf317c320c4abbeb750a556e">mmal_buffer_header_release</a></div><div class="ttdeci">void mmal_buffer_header_release(MMAL_BUFFER_HEADER_T *header)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0f/mmal__buffer_8c_source.html#l00057">mmal_buffer.c:57</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_aa852776a033852f464b784e221e88cc6"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#aa852776a033852f464b784e221e88cc6">MMAL_BUFFER_HEADER_PRIVATE_T::pf_release</a></div><div class="ttdeci">void(* pf_release)(struct MMAL_BUFFER_HEADER_T *header)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00047">mmal_buffer_private.h:47</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a22fef5cc98e735d97f501db38322aaaa"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a22fef5cc98e735d97f501db38322aaaa">MMAL_BUFFER_HEADER_PRIVATE_T::reference</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T * reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00054">mmal_buffer_private.h:54</a></div></div>
<div class="ttc" id="group__MmalBufferHeader_html_ga902874a4bfadacde38cde0357433cb02"><div class="ttname"><a href="../../d6/d42/group__MmalBufferHeader.html#ga902874a4bfadacde38cde0357433cb02">mmal_buffer_header_reset</a></div><div class="ttdeci">void mmal_buffer_header_reset(MMAL_BUFFER_HEADER_T *header)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0f/mmal__buffer_8c_source.html#l00047">mmal_buffer.c:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaea1bde05ffa6baacd37ceeef9773c32b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaea1bde05ffa6baacd37ceeef9773c32b">&#9670;&nbsp;</a></span>mmal_buffer_header_replicate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> mmal_buffer_header_replicate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replicate a buffer header into another one. Replicating a buffer header will not only do an exact copy of all the public fields of the buffer header (including data and alloc_size), but it will also acquire a reference to the source buffer header which will only be released once the replicate has been released.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>buffer header into which to replicate </td></tr>
    <tr><td class="paramname">src</td><td>buffer header to use as the source for the replication </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MMAL_SUCCESS on success</dd></dl>
<p>Replicate a buffer header </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00085">85</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00080">MMAL_BUFFER_HEADER_T::alloc_size</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00075">MMAL_BUFFER_HEADER_T::cmd</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00078">MMAL_BUFFER_HEADER_T::data</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00090">MMAL_BUFFER_HEADER_T::dts</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00085">MMAL_BUFFER_HEADER_T::flags</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00081">MMAL_BUFFER_HEADER_T::length</a>, <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00038">mmal_buffer_header_acquire()</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00051">MMAL_EINVAL</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00048">MMAL_SUCCESS</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00083">MMAL_BUFFER_HEADER_T::offset</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00088">MMAL_BUFFER_HEADER_T::pts</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00054">MMAL_BUFFER_HEADER_PRIVATE_T::reference</a>, and <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00095">MMAL_BUFFER_HEADER_T::type</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#ifdef ENABLE_MMAL_EXTRA_LOGGING</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;dest: %p src: %p&quot;</span>, dest, src);</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;   <span class="keywordflow">if</span> (!dest || !src || dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a22fef5cc98e735d97f501db38322aaaa">reference</a>)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9">MMAL_EINVAL</a>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <a class="code" href="../../d6/d42/group__MmalBufferHeader.html#gad9609b896dba5cdbddc8b7b82905465a">mmal_buffer_header_acquire</a>(src);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a22fef5cc98e735d97f501db38322aaaa">reference</a> = <a class="code" href="../../d8/dec/vgext_8h.html#a06a6d354b227d4872f831c8d67dd2280">src</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;   <span class="comment">/* Copy all the relevant fields */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">cmd</a>        = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">cmd</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a62ee3f1c192d03704acdd777cb1048de">alloc_size</a> = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a62ee3f1c192d03704acdd777cb1048de">alloc_size</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">data</a>       = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">data</a>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">offset</a>     = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">offset</a>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">length</a>     = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">length</a>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">flags</a>      = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">flags</a>;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">pts</a>        = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">pts</a>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">dts</a>        = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">dts</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   *dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#abe2ff099e2f96c4c8cca5a8fb949469b">type</a>      = *src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#abe2ff099e2f96c4c8cca5a8fb949469b">type</a>;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a8ddb959f740b63406248bd2e5d457163"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">MMAL_BUFFER_HEADER_T::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00088">mmal_buffer.h:88</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1b2ea032ef9ebaaac9c3ef370585f530"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1b2ea032ef9ebaaac9c3ef370585f530">MMAL_BUFFER_HEADER_T::data</a></div><div class="ttdeci">uint8_t * data</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00078">mmal_buffer.h:78</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_aafab0a567a9ba1bc56e79903ce404a7c"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">MMAL_BUFFER_HEADER_T::cmd</a></div><div class="ttdeci">uint32_t cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00075">mmal_buffer.h:75</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a88cdcfd8bb13c900d41c8119c008560a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">MMAL_BUFFER_HEADER_T::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00083">mmal_buffer.h:83</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_aad0f33e9407d0d8ad8957aa80cd62359"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">MMAL_BUFFER_HEADER_T::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00085">mmal_buffer.h:85</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1809c0e0d776987a453445ac52030354"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">MMAL_BUFFER_HEADER_T::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00090">mmal_buffer.h:90</a></div></div>
<div class="ttc" id="group__MmalBufferHeader_html_gad9609b896dba5cdbddc8b7b82905465a"><div class="ttname"><a href="../../d6/d42/group__MmalBufferHeader.html#gad9609b896dba5cdbddc8b7b82905465a">mmal_buffer_header_acquire</a></div><div class="ttdeci">void mmal_buffer_header_acquire(MMAL_BUFFER_HEADER_T *header)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0f/mmal__buffer_8c_source.html#l00038">mmal_buffer.c:38</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_abe2ff099e2f96c4c8cca5a8fb949469b"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#abe2ff099e2f96c4c8cca5a8fb949469b">MMAL_BUFFER_HEADER_T::type</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_TYPE_SPECIFIC_T * type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00095">mmal_buffer.h:95</a></div></div>
<div class="ttc" id="vgext_8h_html_a06a6d354b227d4872f831c8d67dd2280"><div class="ttname"><a href="../../d8/dec/vgext_8h.html#a06a6d354b227d4872f831c8d67dd2280">src</a></div><div class="ttdeci">VGImage src</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dec/vgext_8h_source.html#l00088">vgext.h:88</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a22fef5cc98e735d97f501db38322aaaa"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a22fef5cc98e735d97f501db38322aaaa">MMAL_BUFFER_HEADER_PRIVATE_T::reference</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T * reference</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00054">mmal_buffer_private.h:54</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a62ee3f1c192d03704acdd777cb1048de"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a62ee3f1c192d03704acdd777cb1048de">MMAL_BUFFER_HEADER_T::alloc_size</a></div><div class="ttdeci">uint32_t alloc_size</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00080">mmal_buffer.h:80</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9">MMAL_EINVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00051">mmal_types.h:51</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1d0ab32b72631f893e60b72f23f8570a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">MMAL_BUFFER_HEADER_T::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00081">mmal_buffer.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga902874a4bfadacde38cde0357433cb02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga902874a4bfadacde38cde0357433cb02">&#9670;&nbsp;</a></span>mmal_buffer_header_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_buffer_header_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reset a buffer header. Resets all header variables to default values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">header</td><td>buffer header to reset</td></tr>
  </table>
  </dd>
</dl>
<p>Reset a buffer header </p>

<p class="definition">Definition at line <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00047">47</a> of file <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html">mmal_buffer.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00090">MMAL_BUFFER_HEADER_T::dts</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00085">MMAL_BUFFER_HEADER_T::flags</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00081">MMAL_BUFFER_HEADER_T::length</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00088">MMAL_TIME_UNKNOWN</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00083">MMAL_BUFFER_HEADER_T::offset</a>, and <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00088">MMAL_BUFFER_HEADER_T::pts</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00075">mmal_buffer_header_release_continue()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">length</a> = 0;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">offset</a> = 0;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">flags</a> = 0;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">pts</a> = <a class="code" href="../../df/d8f/group__MmalTypes.html#ga7ee89012925b9c443ae1856532731034">MMAL_TIME_UNKNOWN</a>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   header-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">dts</a> = <a class="code" href="../../df/d8f/group__MmalTypes.html#ga7ee89012925b9c443ae1856532731034">MMAL_TIME_UNKNOWN</a>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div><div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a8ddb959f740b63406248bd2e5d457163"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">MMAL_BUFFER_HEADER_T::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00088">mmal_buffer.h:88</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a88cdcfd8bb13c900d41c8119c008560a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">MMAL_BUFFER_HEADER_T::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00083">mmal_buffer.h:83</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_aad0f33e9407d0d8ad8957aa80cd62359"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">MMAL_BUFFER_HEADER_T::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00085">mmal_buffer.h:85</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1809c0e0d776987a453445ac52030354"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">MMAL_BUFFER_HEADER_T::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00090">mmal_buffer.h:90</a></div></div>
<div class="ttc" id="group__MmalTypes_html_ga7ee89012925b9c443ae1856532731034"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#ga7ee89012925b9c443ae1856532731034">MMAL_TIME_UNKNOWN</a></div><div class="ttdeci">#define MMAL_TIME_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00088">mmal_types.h:88</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1d0ab32b72631f893e60b72f23f8570a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">MMAL_BUFFER_HEADER_T::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00081">mmal_buffer.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

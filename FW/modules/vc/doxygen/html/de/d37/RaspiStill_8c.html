<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: host_applications/linux/apps/raspicam/RaspiStill.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_195c69405b3ccf68dc267e50a7607549.html">host_applications</a></li><li class="navelem"><a class="el" href="../../dir_ae667c0685e91b0f02394ef15b55cb69.html">linux</a></li><li class="navelem"><a class="el" href="../../dir_828b50a65cb82fa3a052ff0ddf76562c.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_62c16307d7e2e5fb3d32f35d248c8245.html">raspicam</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">RaspiStill.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;memory.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;sysexits.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d7/dc4/bcm__host_8h_source.html">bcm_host.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/de3/vcos_8h_source.html">interface/vcos/vcos.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/de1/mmal_8h_source.html">interface/mmal/mmal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dea/mmal__logging_8h_source.html">interface/mmal/mmal_logging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/mmal__buffer_8h_source.html">interface/mmal/mmal_buffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d12/mmal__util_8h_source.html">interface/mmal/util/mmal_util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/dbd/mmal__util__params_8h_source.html">interface/mmal/util/mmal_util_params.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/ddf/mmal__default__components_8h_source.html">interface/mmal/util/mmal_default_components.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/db3/mmal__connection_8h_source.html">interface/mmal/util/mmal_connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d70/mmal__parameters__camera_8h_source.html">interface/mmal/mmal_parameters_camera.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d4c/RaspiCommonSettings_8h_source.html">RaspiCommonSettings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d97/RaspiCamControl_8h_source.html">RaspiCamControl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d05/RaspiPreview_8h_source.html">RaspiPreview.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d60/RaspiCLI_8h_source.html">RaspiCLI.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d5c/RaspiTex_8h_source.html">RaspiTex.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d0d/RaspiHelpers_8h_source.html">RaspiHelpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d3e/RaspiGPS_8h_source.html">RaspiGPS.h</a>&quot;</code><br />
<code>#include &lt;semaphore.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;pthread.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for RaspiStill.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/da5/RaspiStill_8c__incl.png" border="0" usemap="#host__applications_2linux_2apps_2raspicam_2RaspiStill_8c" alt=""/></div>
<map name="host__applications_2linux_2apps_2raspicam_2RaspiStill_8c" id="host__applications_2linux_2apps_2raspicam_2RaspiStill_8c">
<area shape="rect" id="node10" href="../../d7/dc4/bcm__host_8h.html" title="bcm_host.h" alt="" coords="1645,102,1736,129"/>
<area shape="rect" id="node13" href="../../d4/de3/vcos_8h.html" title="interface/vcos/vcos.h" alt="" coords="1117,281,1264,307"/>
<area shape="rect" id="node35" href="../../df/de1/mmal_8h.html" title="interface/mmal/mmal.h" alt="" coords="717,191,872,218"/>
<area shape="rect" id="node36" href="../../d4/dea/mmal__logging_8h.html" title="interface/mmal/mmal\l_logging.h" alt="" coords="719,273,863,315"/>
<area shape="rect" id="node37" href="../../de/d47/mmal__buffer_8h.html" title="mmal_buffer.h" alt="" coords="2795,102,2901,129"/>
<area shape="rect" id="node38" href="../../d0/d12/mmal__util_8h.html" title="interface/mmal/util\l/mmal_util.h" alt="" coords="679,95,809,136"/>
<area shape="rect" id="node39" href="../../d2/dbd/mmal__util__params_8h.html" title="interface/mmal/util\l/mmal_util_params.h" alt="" coords="833,95,975,136"/>
<area shape="rect" id="node40" href="../../d3/ddf/mmal__default__components_8h.html" title="interface/mmal/util\l/mmal_default_components.h" alt="" coords="2925,95,3118,136"/>
<area shape="rect" id="node41" href="../../db/db3/mmal__connection_8h.html" title="interface/mmal/util\l/mmal_connection.h" alt="" coords="3143,95,3281,136"/>
<area shape="rect" id="node42" href="../../dc/d70/mmal__parameters__camera_8h.html" title="mmal_parameters_camera.h" alt="" coords="3356,191,3543,218"/>
<area shape="rect" id="node43" href="../../d5/d4c/RaspiCommonSettings_8h.html" title="RaspiCommonSettings.h" alt="" coords="3305,102,3473,129"/>
<area shape="rect" id="node44" href="../../d4/d97/RaspiCamControl_8h.html" title="RaspiCamControl.h" alt="" coords="3549,102,3686,129"/>
<area shape="rect" id="node45" href="../../db/d05/RaspiPreview_8h.html" title="RaspiPreview.h" alt="" coords="3711,102,3825,129"/>
<area shape="rect" id="node46" href="../../d2/d60/RaspiCLI_8h.html" title="RaspiCLI.h" alt="" coords="3849,102,3937,129"/>
<area shape="rect" id="node47" href="../../d0/d5c/RaspiTex_8h.html" title="RaspiTex.h" alt="" coords="566,102,655,129"/>
<area shape="rect" id="node48" href="../../d3/d0d/RaspiHelpers_8h.html" title="RaspiHelpers.h" alt="" coords="3961,102,4073,129"/>
<area shape="rect" id="node49" href="../../d2/d3e/RaspiGPS_8h.html" title="RaspiGPS.h" alt="" coords="2393,370,2487,397"/>
<area shape="rect" id="node12" href="../../db/d61/vc__dispmanx_8h.html" title="interface/vmcs_host\l/vc_dispmanx.h" alt="" coords="1457,184,1597,225"/>
<area shape="rect" id="node31" href="../../d9/d2a/vc__tvservice_8h.html" title="interface/vmcs_host\l/vc_tvservice.h" alt="" coords="1621,184,1761,225"/>
<area shape="rect" id="node32" href="../../d6/d46/vc__cec_8h.html" title="interface/vmcs_host\l/vc_cec.h" alt="" coords="1810,273,1950,315"/>
<area shape="rect" id="node33" href="../../d2/d09/vc__cecservice_8h.html" title="interface/vmcs_host\l/vc_cecservice.h" alt="" coords="1785,184,1925,225"/>
<area shape="rect" id="node34" href="../../d0/dd5/vcgencmd_8h.html" title="interface/vmcs_host\l/vcgencmd.h" alt="" coords="1293,184,1433,225"/>
<area shape="rect" id="node14" href="../../d6/db4/vcos__assert_8h.html" title="interface/vcos/vcos\l_assert.h" alt="" coords="989,363,1125,404"/>
<area shape="rect" id="node15" href="../../da/df3/vcos__types_8h.html" title="interface/vcos/vcos\l_types.h" alt="" coords="909,452,1045,493"/>
<area shape="rect" id="node16" href="../../db/db8/vcos__platform_8h.html" title="vcos_platform.h" alt="" coords="2101,370,2216,397"/>
<area shape="rect" id="node20" href="../../d0/d84/vcos__init_8h.html" title="interface/vcos/vcos\l_init.h" alt="" coords="1360,363,1496,404"/>
<area shape="rect" id="node21" href="../../d2/dc2/vcos__semaphore_8h.html" title="interface/vcos/vcos\l_semaphore.h" alt="" coords="1520,363,1656,404"/>
<area shape="rect" id="node22" href="../../de/d30/vcos__thread_8h.html" title="interface/vcos/vcos\l_thread.h" alt="" coords="1680,363,1816,404"/>
<area shape="rect" id="node23" href="../../da/d1b/vcos__mutex_8h.html" title="interface/vcos/vcos\l_mutex.h" alt="" coords="1840,363,1976,404"/>
<area shape="rect" id="node24" href="../../d8/db9/vcos__mem_8h.html" title="interface/vcos/vcos\l_mem.h" alt="" coords="349,363,485,404"/>
<area shape="rect" id="node25" href="../../d0/d85/vcos__logging_8h.html" title="interface/vcos/vcos\l_logging.h" alt="" coords="29,363,165,404"/>
<area shape="rect" id="node26" href="../../d1/d77/vcos__string_8h.html" title="interface/vcos/vcos\l_string.h" alt="" coords="189,363,325,404"/>
<area shape="rect" id="node27" href="../../dc/dd7/vcos__event_8h.html" title="interface/vcos/vcos\l_event.h" alt="" coords="509,363,645,404"/>
<area shape="rect" id="node28" href="../../d1/d6d/vcos__thread__attr_8h.html" title="interface/vcos/vcos\l_thread_attr.h" alt="" coords="1149,363,1285,404"/>
<area shape="rect" id="node29" href="../../dc/d07/vcos__tls_8h.html" title="interface/vcos/vcos\l_tls.h" alt="" coords="829,363,965,404"/>
<area shape="rect" id="node30" href="../../d6/da9/vcos__reentrant__mutex_8h.html" title="interface/vcos/vcos\l_reentrant_mutex.h" alt="" coords="669,363,805,404"/>
</map>
</div>
</div>
<p><a href="../../de/d37/RaspiStill_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/dd0/structRASPISTILL__STATE.html">RASPISTILL_STATE</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbc/structPORT__USERDATA.html">PORT_USERDATA</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a369266c24eacffb87046522897a570d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a369266c24eacffb87046522897a570d5">_GNU_SOURCE</a></td></tr>
<tr class="separator:a369266c24eacffb87046522897a570d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc92011d6ebe2f6c3bd842467181fe0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a8cc92011d6ebe2f6c3bd842467181fe0">MMAL_CAMERA_PREVIEW_PORT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a8cc92011d6ebe2f6c3bd842467181fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b496a6c64a35c25734f640ff2909db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#ab8b496a6c64a35c25734f640ff2909db">MMAL_CAMERA_VIDEO_PORT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab8b496a6c64a35c25734f640ff2909db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea8994f409e4b977b3f49529bd8836e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a6ea8994f409e4b977b3f49529bd8836e">MMAL_CAMERA_CAPTURE_PORT</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a6ea8994f409e4b977b3f49529bd8836e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1cd57790def94505c3b4507aeb42e3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a7c1cd57790def94505c3b4507aeb42e3">STILLS_FRAME_RATE_NUM</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a7c1cd57790def94505c3b4507aeb42e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ef3e70e36c423824d0d8c32ae3cd362"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a9ef3e70e36c423824d0d8c32ae3cd362">STILLS_FRAME_RATE_DEN</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a9ef3e70e36c423824d0d8c32ae3cd362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ef30a3e903c0589d9c1191047fb960"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a45ef30a3e903c0589d9c1191047fb960">VIDEO_OUTPUT_BUFFERS_NUM</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a45ef30a3e903c0589d9c1191047fb960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Video render needs at least 2 buffers.  <a href="#a45ef30a3e903c0589d9c1191047fb960">More...</a><br /></td></tr>
<tr class="separator:a45ef30a3e903c0589d9c1191047fb960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad40a9b23f8923a1bec42a88697ed7b99"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#ad40a9b23f8923a1bec42a88697ed7b99">MAX_USER_EXIF_TAGS</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:ad40a9b23f8923a1bec42a88697ed7b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5deead59ba65ab0a847c8422f8baab82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a5deead59ba65ab0a847c8422f8baab82">MAX_EXIF_PAYLOAD_LENGTH</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:a5deead59ba65ab0a847c8422f8baab82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1064b96199d1adbed4ddd3d9d69e5d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#ae1064b96199d1adbed4ddd3d9d69e5d8">CAMERA_SETTLE_TIME</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:ae1064b96199d1adbed4ddd3d9d69e5d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a3153161a0d848ec64bf4895db3cf1be4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a62e3cb9c8337b8ad7d10a6b8dab580a7">FRAME_NEXT_SINGLE</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a0c3652b4cb7cb8bc06007173c4797d68">FRAME_NEXT_TIMELAPSE</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4aa102ba7c7d0dbdfaebfeb0bdd2b06657">FRAME_NEXT_KEYPRESS</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a2340e6d6d994a9b605f0deac3d511a10">FRAME_NEXT_FOREVER</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4aff30a05947e8960ead56dd748f1abf80">FRAME_NEXT_GPIO</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4ab8d49598e59b678a64385a02f62b9f68">FRAME_NEXT_SIGNAL</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a5dff6fa3165c6a5125641d7617580e72">FRAME_NEXT_IMMEDIATELY</a>
<br />
 }<tr class="memdesc:a3153161a0d848ec64bf4895db3cf1be4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame advance method.  <a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a3153161a0d848ec64bf4895db3cf1be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8feb5a39a55448c86e0dfc20f53a6c1d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da64699c9b827c1093f98774c6d7b9f5ad">CommandQuality</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dadebcfe6cd6fbc870a7d457cdbdfc0352">CommandRaw</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da66aaf2ee3201f300b4afa248e2a49ba8">CommandTimeout</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dadca41ff3c37fd9e50aec3acee49f80c6">CommandThumbnail</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dae74c4a46aa039a54621a5b516e6a1aa0">CommandDemoMode</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da61a4bed4239a9ea067833975ef848e11">CommandEncoding</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da8f7e1b256a8203398997508b221c556b">CommandExifTag</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da44b605c6327d99db107b513b8b21bfbf">CommandTimelapse</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da63d14419afcdf446336aff2ecb71fe19">CommandFullResPreview</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da3ef79fc635ad63d9fa46e4201cbec53e">CommandLink</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da6a88bfbfd3a75d0d65845ef9d33e8152">CommandKeypress</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da1faeea6e2150797fb5d079c4a492d44a">CommandSignal</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da042bef0a7f12cbce0639d47270a30267">CommandGL</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da82bb7f7e47996fa983367f2c7a33ec6d">CommandGLCapture</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1daa7415dc0a74f9ba2a7ab0c92aa36658e">CommandBurstMode</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da7aa8bd6f3e9ac07f75a1869dc1629f3a">CommandDateTime</a>, 
<br />
&#160;&#160;<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dad91fae1661ed9fdb9a6d727cb9a821c4">CommandTimeStamp</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dab7ffe74590bc2cd2b82e8322279062a0">CommandFrameStart</a>, 
<a class="el" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1daebe4cf007ab8d83463fea15a1915a51b">CommandRestartInterval</a>
<br />
 }<tr class="memdesc:a8feb5a39a55448c86e0dfc20f53a6c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command ID's and Structure defining our command line options.  <a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1d">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a8feb5a39a55448c86e0dfc20f53a6c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a04f044c445ee46aab2afe72c6d6eb5c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a04f044c445ee46aab2afe72c6d6eb5c3">create_filenames</a> (char **finalName, char **tempName, char *pattern, int frame)</td></tr>
<tr class="separator:a04f044c445ee46aab2afe72c6d6eb5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217dbf8b442f20279ea00b898af96f52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d37/RaspiStill_8c.html#a217dbf8b442f20279ea00b898af96f52">main</a> (int argc, const char **argv)</td></tr>
<tr class="separator:a217dbf8b442f20279ea00b898af96f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Command line program to capture a still frame and encode it to file. Also optionally display a preview/viewfinder of current camera input.</p>
<p>Description</p>
<p>3 components are created; camera, preview and JPG encoder. Camera component has three ports, preview, video and stills. This program connects preview and stills to the preview and jpg encoder. Using mmal we don't need to worry about buffers between these components, but we do need to handle buffers from the encoder, which are simply written straight to the file in the requisite buffer callback.</p>
<p>We use the RaspiCamControl code to handle the specific camera settings. </p>

<p class="definition">Definition in file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a369266c24eacffb87046522897a570d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369266c24eacffb87046522897a570d5">&#9670;&nbsp;</a></span>_GNU_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _GNU_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00049">49</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="ae1064b96199d1adbed4ddd3d9d69e5d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1064b96199d1adbed4ddd3d9d69e5d8">&#9670;&nbsp;</a></span>CAMERA_SETTLE_TIME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAMERA_SETTLE_TIME&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Amount of time before first image taken to allow settling of exposure etc. in milliseconds. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00120">120</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a5deead59ba65ab0a847c8422f8baab82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5deead59ba65ab0a847c8422f8baab82">&#9670;&nbsp;</a></span>MAX_EXIF_PAYLOAD_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_EXIF_PAYLOAD_LENGTH&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00104">104</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="ad40a9b23f8923a1bec42a88697ed7b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad40a9b23f8923a1bec42a88697ed7b99">&#9670;&nbsp;</a></span>MAX_USER_EXIF_TAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_USER_EXIF_TAGS&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00103">103</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a6ea8994f409e4b977b3f49529bd8836e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ea8994f409e4b977b3f49529bd8836e">&#9670;&nbsp;</a></span>MMAL_CAMERA_CAPTURE_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_CAMERA_CAPTURE_PORT&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00093">93</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a8cc92011d6ebe2f6c3bd842467181fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc92011d6ebe2f6c3bd842467181fe0">&#9670;&nbsp;</a></span>MMAL_CAMERA_PREVIEW_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_CAMERA_PREVIEW_PORT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00091">91</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="ab8b496a6c64a35c25734f640ff2909db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b496a6c64a35c25734f640ff2909db">&#9670;&nbsp;</a></span>MMAL_CAMERA_VIDEO_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_CAMERA_VIDEO_PORT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00092">92</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a9ef3e70e36c423824d0d8c32ae3cd362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ef3e70e36c423824d0d8c32ae3cd362">&#9670;&nbsp;</a></span>STILLS_FRAME_RATE_DEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STILLS_FRAME_RATE_DEN&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00098">98</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a7c1cd57790def94505c3b4507aeb42e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c1cd57790def94505c3b4507aeb42e3">&#9670;&nbsp;</a></span>STILLS_FRAME_RATE_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STILLS_FRAME_RATE_NUM&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00097">97</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a45ef30a3e903c0589d9c1191047fb960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ef30a3e903c0589d9c1191047fb960">&#9670;&nbsp;</a></span>VIDEO_OUTPUT_BUFFERS_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIDEO_OUTPUT_BUFFERS_NUM&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Video render needs at least 2 buffers. </p>

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00101">101</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a3153161a0d848ec64bf4895db3cf1be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3153161a0d848ec64bf4895db3cf1be4">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frame advance method. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3153161a0d848ec64bf4895db3cf1be4a62e3cb9c8337b8ad7d10a6b8dab580a7"></a>FRAME_NEXT_SINGLE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3153161a0d848ec64bf4895db3cf1be4a0c3652b4cb7cb8bc06007173c4797d68"></a>FRAME_NEXT_TIMELAPSE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3153161a0d848ec64bf4895db3cf1be4aa102ba7c7d0dbdfaebfeb0bdd2b06657"></a>FRAME_NEXT_KEYPRESS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3153161a0d848ec64bf4895db3cf1be4a2340e6d6d994a9b605f0deac3d511a10"></a>FRAME_NEXT_FOREVER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3153161a0d848ec64bf4895db3cf1be4aff30a05947e8960ead56dd748f1abf80"></a>FRAME_NEXT_GPIO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3153161a0d848ec64bf4895db3cf1be4ab8d49598e59b678a64385a02f62b9f68"></a>FRAME_NEXT_SIGNAL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a3153161a0d848ec64bf4895db3cf1be4a5dff6fa3165c6a5125641d7617580e72"></a>FRAME_NEXT_IMMEDIATELY&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00107">107</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;{</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a62e3cb9c8337b8ad7d10a6b8dab580a7">FRAME_NEXT_SINGLE</a>,</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a0c3652b4cb7cb8bc06007173c4797d68">FRAME_NEXT_TIMELAPSE</a>,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4aa102ba7c7d0dbdfaebfeb0bdd2b06657">FRAME_NEXT_KEYPRESS</a>,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a2340e6d6d994a9b605f0deac3d511a10">FRAME_NEXT_FOREVER</a>,</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4aff30a05947e8960ead56dd748f1abf80">FRAME_NEXT_GPIO</a>,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4ab8d49598e59b678a64385a02f62b9f68">FRAME_NEXT_SIGNAL</a>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a5dff6fa3165c6a5125641d7617580e72">FRAME_NEXT_IMMEDIATELY</a></div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;};</div><div class="ttc" id="RaspiStill_8c_html_a3153161a0d848ec64bf4895db3cf1be4a62e3cb9c8337b8ad7d10a6b8dab580a7"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a62e3cb9c8337b8ad7d10a6b8dab580a7">FRAME_NEXT_SINGLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00109">RaspiStill.c:109</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a3153161a0d848ec64bf4895db3cf1be4ab8d49598e59b678a64385a02f62b9f68"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4ab8d49598e59b678a64385a02f62b9f68">FRAME_NEXT_SIGNAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00114">RaspiStill.c:114</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a3153161a0d848ec64bf4895db3cf1be4aff30a05947e8960ead56dd748f1abf80"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4aff30a05947e8960ead56dd748f1abf80">FRAME_NEXT_GPIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00113">RaspiStill.c:113</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a3153161a0d848ec64bf4895db3cf1be4aa102ba7c7d0dbdfaebfeb0bdd2b06657"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4aa102ba7c7d0dbdfaebfeb0bdd2b06657">FRAME_NEXT_KEYPRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00111">RaspiStill.c:111</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a3153161a0d848ec64bf4895db3cf1be4a5dff6fa3165c6a5125641d7617580e72"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a5dff6fa3165c6a5125641d7617580e72">FRAME_NEXT_IMMEDIATELY</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00115">RaspiStill.c:115</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a3153161a0d848ec64bf4895db3cf1be4a0c3652b4cb7cb8bc06007173c4797d68"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a0c3652b4cb7cb8bc06007173c4797d68">FRAME_NEXT_TIMELAPSE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00110">RaspiStill.c:110</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a3153161a0d848ec64bf4895db3cf1be4a2340e6d6d994a9b605f0deac3d511a10"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a3153161a0d848ec64bf4895db3cf1be4a2340e6d6d994a9b605f0deac3d511a10">FRAME_NEXT_FOREVER</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00112">RaspiStill.c:112</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8feb5a39a55448c86e0dfc20f53a6c1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8feb5a39a55448c86e0dfc20f53a6c1d">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command ID's and Structure defining our command line options. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da64699c9b827c1093f98774c6d7b9f5ad"></a>CommandQuality&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1dadebcfe6cd6fbc870a7d457cdbdfc0352"></a>CommandRaw&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da66aaf2ee3201f300b4afa248e2a49ba8"></a>CommandTimeout&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1dadca41ff3c37fd9e50aec3acee49f80c6"></a>CommandThumbnail&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1dae74c4a46aa039a54621a5b516e6a1aa0"></a>CommandDemoMode&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da61a4bed4239a9ea067833975ef848e11"></a>CommandEncoding&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da8f7e1b256a8203398997508b221c556b"></a>CommandExifTag&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da44b605c6327d99db107b513b8b21bfbf"></a>CommandTimelapse&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da63d14419afcdf446336aff2ecb71fe19"></a>CommandFullResPreview&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da3ef79fc635ad63d9fa46e4201cbec53e"></a>CommandLink&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da6a88bfbfd3a75d0d65845ef9d33e8152"></a>CommandKeypress&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da1faeea6e2150797fb5d079c4a492d44a"></a>CommandSignal&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da042bef0a7f12cbce0639d47270a30267"></a>CommandGL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da82bb7f7e47996fa983367f2c7a33ec6d"></a>CommandGLCapture&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1daa7415dc0a74f9ba2a7ab0c92aa36658e"></a>CommandBurstMode&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1da7aa8bd6f3e9ac07f75a1869dc1629f3a"></a>CommandDateTime&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1dad91fae1661ed9fdb9a6d727cb9a821c4"></a>CommandTimeStamp&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1dab7ffe74590bc2cd2b82e8322279062a0"></a>CommandFrameStart&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a8feb5a39a55448c86e0dfc20f53a6c1daebe4cf007ab8d83463fea15a1915a51b"></a>CommandRestartInterval&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00176">176</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da64699c9b827c1093f98774c6d7b9f5ad">CommandQuality</a>,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dadebcfe6cd6fbc870a7d457cdbdfc0352">CommandRaw</a>,</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da66aaf2ee3201f300b4afa248e2a49ba8">CommandTimeout</a>,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dadca41ff3c37fd9e50aec3acee49f80c6">CommandThumbnail</a>,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dae74c4a46aa039a54621a5b516e6a1aa0">CommandDemoMode</a>,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da61a4bed4239a9ea067833975ef848e11">CommandEncoding</a>,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da8f7e1b256a8203398997508b221c556b">CommandExifTag</a>,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da44b605c6327d99db107b513b8b21bfbf">CommandTimelapse</a>,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da63d14419afcdf446336aff2ecb71fe19">CommandFullResPreview</a>,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da3ef79fc635ad63d9fa46e4201cbec53e">CommandLink</a>,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da6a88bfbfd3a75d0d65845ef9d33e8152">CommandKeypress</a>,</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da1faeea6e2150797fb5d079c4a492d44a">CommandSignal</a>,</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da042bef0a7f12cbce0639d47270a30267">CommandGL</a>,</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da82bb7f7e47996fa983367f2c7a33ec6d">CommandGLCapture</a>,</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1daa7415dc0a74f9ba2a7ab0c92aa36658e">CommandBurstMode</a>,</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da7aa8bd6f3e9ac07f75a1869dc1629f3a">CommandDateTime</a>,</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dad91fae1661ed9fdb9a6d727cb9a821c4">CommandTimeStamp</a>,</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dab7ffe74590bc2cd2b82e8322279062a0">CommandFrameStart</a>,</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   <a class="code" href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1daebe4cf007ab8d83463fea15a1915a51b">CommandRestartInterval</a>,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;};</div><div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da61a4bed4239a9ea067833975ef848e11"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da61a4bed4239a9ea067833975ef848e11">CommandEncoding</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00183">RaspiStill.c:183</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da6a88bfbfd3a75d0d65845ef9d33e8152"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da6a88bfbfd3a75d0d65845ef9d33e8152">CommandKeypress</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00188">RaspiStill.c:188</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1dae74c4a46aa039a54621a5b516e6a1aa0"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dae74c4a46aa039a54621a5b516e6a1aa0">CommandDemoMode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00182">RaspiStill.c:182</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da82bb7f7e47996fa983367f2c7a33ec6d"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da82bb7f7e47996fa983367f2c7a33ec6d">CommandGLCapture</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00191">RaspiStill.c:191</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1dad91fae1661ed9fdb9a6d727cb9a821c4"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dad91fae1661ed9fdb9a6d727cb9a821c4">CommandTimeStamp</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00194">RaspiStill.c:194</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da66aaf2ee3201f300b4afa248e2a49ba8"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da66aaf2ee3201f300b4afa248e2a49ba8">CommandTimeout</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00180">RaspiStill.c:180</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1dadebcfe6cd6fbc870a7d457cdbdfc0352"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dadebcfe6cd6fbc870a7d457cdbdfc0352">CommandRaw</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00179">RaspiStill.c:179</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da1faeea6e2150797fb5d079c4a492d44a"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da1faeea6e2150797fb5d079c4a492d44a">CommandSignal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00189">RaspiStill.c:189</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da042bef0a7f12cbce0639d47270a30267"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da042bef0a7f12cbce0639d47270a30267">CommandGL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00190">RaspiStill.c:190</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da8f7e1b256a8203398997508b221c556b"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da8f7e1b256a8203398997508b221c556b">CommandExifTag</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00184">RaspiStill.c:184</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da64699c9b827c1093f98774c6d7b9f5ad"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da64699c9b827c1093f98774c6d7b9f5ad">CommandQuality</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00178">RaspiStill.c:178</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da63d14419afcdf446336aff2ecb71fe19"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da63d14419afcdf446336aff2ecb71fe19">CommandFullResPreview</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00186">RaspiStill.c:186</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da44b605c6327d99db107b513b8b21bfbf"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da44b605c6327d99db107b513b8b21bfbf">CommandTimelapse</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00185">RaspiStill.c:185</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1dab7ffe74590bc2cd2b82e8322279062a0"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dab7ffe74590bc2cd2b82e8322279062a0">CommandFrameStart</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00195">RaspiStill.c:195</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da3ef79fc635ad63d9fa46e4201cbec53e"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da3ef79fc635ad63d9fa46e4201cbec53e">CommandLink</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00187">RaspiStill.c:187</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1dadca41ff3c37fd9e50aec3acee49f80c6"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1dadca41ff3c37fd9e50aec3acee49f80c6">CommandThumbnail</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00181">RaspiStill.c:181</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1da7aa8bd6f3e9ac07f75a1869dc1629f3a"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1da7aa8bd6f3e9ac07f75a1869dc1629f3a">CommandDateTime</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00193">RaspiStill.c:193</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1daebe4cf007ab8d83463fea15a1915a51b"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1daebe4cf007ab8d83463fea15a1915a51b">CommandRestartInterval</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00196">RaspiStill.c:196</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8feb5a39a55448c86e0dfc20f53a6c1daa7415dc0a74f9ba2a7ab0c92aa36658e"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8feb5a39a55448c86e0dfc20f53a6c1daa7415dc0a74f9ba2a7ab0c92aa36658e">CommandBurstMode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00192">RaspiStill.c:192</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a04f044c445ee46aab2afe72c6d6eb5c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f044c445ee46aab2afe72c6d6eb5c3">&#9670;&nbsp;</a></span>create_filenames()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> create_filenames </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>finalName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>tempName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates and generates a filename based on the user-supplied pattern and the frame number. On successful return, finalName and tempName point to malloc()ed strings which must be freed externally. (On failure, returns nulls that don't need free()ing.)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">finalName</td><td>pointer receives an </td></tr>
    <tr><td class="paramname">pattern</td><td>sprintf pattern with d to be replaced by frame </td></tr>
    <tr><td class="paramname">frame</td><td>for timelapse, the frame number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a MMAL_STATUS_T giving result of operation </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l01402">1402</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00049">MMAL_ENOMEM</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00048">MMAL_SUCCESS</a>, and <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;{</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;   *finalName = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;   *tempName = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;   <span class="keywordflow">if</span> (0 &gt; asprintf(finalName, pattern, frame) ||</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;         0 &gt; asprintf(tempName, <span class="stringliteral">&quot;%s~&quot;</span>, *finalName))</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;   {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;      <span class="keywordflow">if</span> (*finalName != <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      {</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;         free(*finalName);</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      }</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e">MMAL_ENOMEM</a>;    <span class="comment">// It may be some other error, but it is not worth getting it right</span></div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;   }</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;}</div><div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e">MMAL_ENOMEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00049">mmal_types.h:49</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a217dbf8b442f20279ea00b898af96f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217dbf8b442f20279ea00b898af96f52">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>main </p>

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l01636">1636</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;{</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;   <span class="comment">// Our main data storage vessel..</span></div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;   <a class="code" href="../../df/dd0/structRASPISTILL__STATE.html">RASPISTILL_STATE</a> state;</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;   <span class="keywordtype">int</span> exit_code = EX_OK;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;   <a class="code" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a> = <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *camera_preview_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *camera_video_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *camera_still_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *preview_input_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *encoder_input_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *encoder_output_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;   <a class="code" href="../../d3/d2b/bcm__host_8c.html#a025ab636eab15ab5dd55860ee86e0b5f">bcm_host_init</a>();</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;   <span class="comment">// Register our application with the logging system</span></div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;   <a class="code" href="../../d1/d3a/vcos__logcat_8c.html#a3b1a5dfa854033cd021dac6db2934b9c">vcos_log_register</a>(<span class="stringliteral">&quot;RaspiStill&quot;</span>, <a class="code" href="../../d0/d5e/applog_8h.html#a0c35674425ccbeb9a3b5d5f96e619fb4">VCOS_LOG_CATEGORY</a>);</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;   signal(SIGINT, <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a0ff0702d8497950dd64bded4dab6adb1">default_signal_handler</a>);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;   <span class="comment">// Disable USR1 and USR2 for the moment - may be reenabled if go in to signal capture mode</span></div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;   signal(SIGUSR1, SIG_IGN);</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;   signal(SIGUSR2, SIG_IGN);</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;   <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a64c107e038adf2b50d9a71d89ab96846">set_app_name</a>(argv[0]);</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;   <span class="comment">// Do we have any parameters</span></div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;   <span class="keywordflow">if</span> (argc == 1)</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;   {</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a5fcadb5e7cb367c0828155e537330377">display_valid_parameters</a>(basename(argv[0]), &amp;application_help_message);</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;      exit(EX_USAGE);</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;   }</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;   default_status(&amp;state);</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;   <span class="comment">// Parse the command line and put options in to our status structure</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;   <span class="keywordflow">if</span> (parse_cmdline(argc, argv, &amp;state))</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;   {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;      exit(EX_USAGE);</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;   }</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;   <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a1a7c53762d11ce8c1d82f98c784775c7">timeout</a> == -1)</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;      state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a1a7c53762d11ce8c1d82f98c784775c7">timeout</a> = 5000;</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;   <span class="comment">// Setup for sensor specific parameters</span></div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;   <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a07cbe15e2ee5ddb50a741bb261030b6c">get_sensor_defaults</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a9b90146346239dc9f7e87d11c7072f7a">cameraNum</a>, state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a6b2c90a7e37344a29a6e8b0cd5534613">camera_name</a>,</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;                       &amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a41427adc2afddece4f43632067813331">width</a>, &amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a4707532f0c0fc7dcf63df46d1f9fe8a7">height</a>);</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;   <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;   {</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#af70a9c53cff9c6a9e183194f6467261b">print_app_details</a>(stderr);</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      dump_status(&amp;state);</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;   }</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;   <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">gps</a>)</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;   {</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d54/RaspiGPS_8c.html#a76aa58352d6931fff1dc1c0e375f774b">raspi_gps_setup</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>))</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;         state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">gps</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;   }</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;   <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a3bb6e92635c3a8a77f9ec991d5fe34d8">useGL</a>)</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;      <a class="code" href="../../d5/d34/RaspiTex_8c.html#a9222212815a7ff70aef22dcc73792639">raspitex_init</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aa5d6b0944322b7f5ebe74628daaa8f4e">raspitex_state</a>);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;   <span class="comment">// OK, we have a nice set of parameters. Now set up our components</span></div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;   <span class="comment">// We have three components. Camera, Preview and encoder.</span></div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;   <span class="comment">// Camera and encoder are different in stills/video, but preview</span></div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;   <span class="comment">// is the same so handed off to a separate module</span></div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;   <span class="keywordflow">if</span> ((status = create_camera_component(&amp;state)) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;   {</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      vcos_log_error(<span class="stringliteral">&quot;%s: Failed to create camera component&quot;</span>, __func__);</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;      exit_code = EX_SOFTWARE;</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;   }</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((!state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a3bb6e92635c3a8a77f9ec991d5fe34d8">useGL</a>) &amp;&amp; (status = <a class="code" href="../../d2/dc8/RaspiPreview_8c.html#a921c8f8a37bdc5fb441d42df3b8b97bd">raspipreview_create</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a7a62833d70ff68cc4497886519422685">preview_parameters</a>)) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;   {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      vcos_log_error(<span class="stringliteral">&quot;%s: Failed to create preview component&quot;</span>, __func__);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      destroy_camera_component(&amp;state);</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;      exit_code = EX_SOFTWARE;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;   }</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((status = create_encoder_component(&amp;state)) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;   {</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      vcos_log_error(<span class="stringliteral">&quot;%s: Failed to create encode component&quot;</span>, __func__);</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <a class="code" href="../../d2/dc8/RaspiPreview_8c.html#ac016a89aeafc7d2a2c150f274e79e7c7">raspipreview_destroy</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a7a62833d70ff68cc4497886519422685">preview_parameters</a>);</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      destroy_camera_component(&amp;state);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      exit_code = EX_SOFTWARE;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;   }</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;   {</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;      <a class="code" href="../../d2/dbc/structPORT__USERDATA.html">PORT_USERDATA</a> callback_data;</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Starting component connection stage\n&quot;</span>);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;      camera_preview_port = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[<a class="code" href="../../de/d37/RaspiStill_8c.html#a8cc92011d6ebe2f6c3bd842467181fe0">MMAL_CAMERA_PREVIEW_PORT</a>];</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;      camera_video_port   = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[<a class="code" href="../../de/d37/RaspiStill_8c.html#ab8b496a6c64a35c25734f640ff2909db">MMAL_CAMERA_VIDEO_PORT</a>];</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      camera_still_port   = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[<a class="code" href="../../de/d37/RaspiStill_8c.html#a6ea8994f409e4b977b3f49529bd8836e">MMAL_CAMERA_CAPTURE_PORT</a>];</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      encoder_input_port  = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a96b3d3a8bf3a61b83e0366f748a39733">encoder_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a483ff43ab82509dc9188e01081d96f1b">input</a>[0];</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;      encoder_output_port = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a96b3d3a8bf3a61b83e0366f748a39733">encoder_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[0];</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;      <span class="keywordflow">if</span> (! state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a3bb6e92635c3a8a77f9ec991d5fe34d8">useGL</a>)</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;      {</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;         <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Connecting camera preview port to video render.\n&quot;</span>);</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;         <span class="comment">// Note we are lucky that the preview and null sink components use the same input port</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;         <span class="comment">// so we can simple do this without conditionals</span></div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;         preview_input_port  = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a7a62833d70ff68cc4497886519422685">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">preview_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a483ff43ab82509dc9188e01081d96f1b">input</a>[0];</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;         <span class="comment">// Connect camera to preview (which might be a null_sink if no preview required)</span></div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;         status = <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#acfab552079d093f29033596575fe69ad">connect_ports</a>(camera_preview_port, preview_input_port, &amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a6ff628acb9f0f94bfc07c1a72a824274">preview_connection</a>);</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;      }</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="keywordflow">if</span> (status == <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;      {</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;         <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> vcos_status;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;         <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Connecting camera stills port to encoder input port\n&quot;</span>);</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;         <span class="comment">// Now connect the camera to the encoder</span></div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;         status = <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#acfab552079d093f29033596575fe69ad">connect_ports</a>(camera_still_port, encoder_input_port, &amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a0388acffb380d36f3ec3797d4425905a">encoder_connection</a>);</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;         <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;         {</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            vcos_log_error(<span class="stringliteral">&quot;%s: Failed to connect camera video port to encoder input&quot;</span>, __func__);</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;         }</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;         <span class="comment">// Set up our userdata - this is passed though to the callback where we need the information.</span></div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;         <span class="comment">// Null until we open our filename</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;         callback_data.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;         callback_data.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a9922560bbbcd7b756e83a58c084318b3">pstate</a> = &amp;state;</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;         vcos_status = <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#aec46d55c9e9b7f8a4beab46601744b56">vcos_semaphore_create</a>(&amp;callback_data.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#ab057da487fe0d71b9e8f9ad9347f17ef">complete_semaphore</a>, <span class="stringliteral">&quot;RaspiStill-sem&quot;</span>, 0);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;         <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(vcos_status == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>);</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;         <span class="comment">/* If GL preview is requested then start the GL threads */</span></div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;         <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a3bb6e92635c3a8a77f9ec991d5fe34d8">useGL</a> &amp;&amp; (<a class="code" href="../../d5/d34/RaspiTex_8c.html#a011084dc0f75e0ae08b53998360b9961">raspitex_start</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aa5d6b0944322b7f5ebe74628daaa8f4e">raspitex_state</a>) != 0))</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;         <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;         {</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            vcos_log_error(<span class="stringliteral">&quot;Failed to setup encoder output&quot;</span>);</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;            <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;         }</div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;         <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a613236903df3f5aebcd6c95be8342179">demoMode</a>)</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;         {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            <span class="comment">// Run for the user specific time..</span></div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            <span class="keywordtype">int</span> num_iterations = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a1a7c53762d11ce8c1d82f98c784775c7">timeout</a> / state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aba7ab1d5dabd5f1a7e5632d8c60c09ee">demoInterval</a>;</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            <span class="keywordflow">for</span> (i=0; i&lt;num_iterations; i++)</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;            {</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;               <a class="code" href="../../db/de2/RaspiCamControl_8c.html#a65a8c22cd83559eb1d17d43f9a8f575a">raspicamcontrol_cycle_test</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>);</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;               <a class="code" href="../../de/d30/vcos__thread_8h.html#a0a8ff046abbe0114d9bd85c46d642ad4">vcos_sleep</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aba7ab1d5dabd5f1a7e5632d8c60c09ee">demoInterval</a>);</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;            }</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;         }</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;         {</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="keywordtype">int</span> frame, keep_looping = 1;</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            FILE *output_file = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            <span class="keywordtype">char</span> *use_filename = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;      <span class="comment">// Temporary filename while image being written</span></div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            <span class="keywordtype">char</span> *final_filename = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;    <span class="comment">// Name that file gets once writing complete</span></div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;            frame = state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a697b73edbe4b47aacb588f27d2ae683b">frameStart</a> - 1;</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <span class="keywordflow">while</span> (keep_looping)</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            {</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;               keep_looping = wait_for_next_frame(&amp;state, &amp;frame);</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a0d689d5ed0e2ee91ba05f5296aa41346">datetime</a>)</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;               {</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;                  time_t rawtime;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;                  <span class="keyword">struct </span>tm *timeinfo;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                  time(&amp;rawtime);</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;                  timeinfo = localtime(&amp;rawtime);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;                  frame = timeinfo-&gt;tm_mon+1;</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;                  frame *= 100;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;                  frame += timeinfo-&gt;tm_mday;</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;                  frame *= 100;</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                  frame += timeinfo-&gt;tm_hour;</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;                  frame *= 100;</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;                  frame += timeinfo-&gt;tm_min;</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;                  frame *= 100;</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;                  frame += timeinfo-&gt;tm_sec;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;               }</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#ab675615c37b6e49b2bc9a0299564a55f">timestamp</a>)</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;               {</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;                  frame = (int)time(<a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;               }</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;               <span class="comment">// Open the file</span></div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">filename</a>)</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;               {</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                  <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">filename</a>[0] == <span class="charliteral">&#39;-&#39;</span>)</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;                  {</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;                     output_file = stdout;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                  }</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;                  {</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;                     <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(use_filename == <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; final_filename == <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                     status = <a class="code" href="../../de/d37/RaspiStill_8c.html#a04f044c445ee46aab2afe72c6d6eb5c3">create_filenames</a>(&amp;final_filename, &amp;use_filename, state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">filename</a>, frame);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;                     <span class="keywordflow">if</span> (status  != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;                     {</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;                        vcos_log_error(<span class="stringliteral">&quot;Unable to create filenames&quot;</span>);</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                        <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                     }</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                     <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                        fprintf(stderr, <span class="stringliteral">&quot;Opening output file %s\n&quot;</span>, final_filename);</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;                     <span class="comment">// Technically it is opening the temp~ filename which will be renamed to the final filename</span></div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;                     output_file = fopen(use_filename, <span class="stringliteral">&quot;wb&quot;</span>);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;                     <span class="keywordflow">if</span> (!output_file)</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;                     {</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;                        <span class="comment">// Notify user, carry on but discarding encoded output buffers</span></div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;                        vcos_log_error(<span class="stringliteral">&quot;%s: Error opening output file: %s\nNo output file will be generated\n&quot;</span>, __func__, use_filename);</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;                     }</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                  }</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;                  callback_data.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> = output_file;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;               }</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;               <span class="comment">// We only capture if a filename was specified and it opened</span></div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a3bb6e92635c3a8a77f9ec991d5fe34d8">useGL</a> &amp;&amp; state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a6a9a6ab8e69a655cdea6d4959dc47a96">glCapture</a> &amp;&amp; output_file)</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;               {</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;                  <span class="comment">/* Save the next GL framebuffer as the next camera still */</span></div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;                  <span class="keywordtype">int</span> rc = <a class="code" href="../../d5/d34/RaspiTex_8c.html#a94b3a0f896e510831da779cdc45b8464">raspitex_capture</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aa5d6b0944322b7f5ebe74628daaa8f4e">raspitex_state</a>, output_file);</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;                  <span class="keywordflow">if</span> (rc != 0)</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                     vcos_log_error(<span class="stringliteral">&quot;Failed to capture GL preview&quot;</span>);</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;                  rename_file(&amp;state, output_file, final_filename, use_filename, frame);</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;               }</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;               <span class="keywordflow">else</span> <span class="keywordflow">if</span> (output_file)</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;               {</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;                  <span class="keywordtype">int</span> num, <a class="code" href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a>;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;                  <span class="comment">// Must do this before the encoder output port is enabled since</span></div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                  <span class="comment">// once enabled no further exif data is accepted</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;                  <span class="keywordflow">if</span> ( state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a06d7ea88a753abecdba74eacc5534dac">enableExifTags</a> )</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;                  {</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;                     <span class="keyword">struct </span><a class="code" href="../../dd/d7a/structgps__data__t.html">gps_data_t</a> *<a class="code" href="../../db/d34/gps_8h.html#a7d3df4fab6dcdf7c8a8751f932f76c23">gps_data</a> = <a class="code" href="../../d1/d54/RaspiGPS_8c.html#a5ab13c88aa3441884ca42dd3e3616341">raspi_gps_lock</a>();</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;                     add_exif_tags(&amp;state, gps_data);</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;                     <a class="code" href="../../d1/d54/RaspiGPS_8c.html#ac457caf80c704ee1d7d822a7d9140aeb">raspi_gps_unlock</a>();</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                  }</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                  {</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                     <a class="code" href="../../db/d48/mmal__util__params_8c.html#aba9fe4904a386eaa681c7bdbbcf93023">mmal_port_parameter_set_boolean</a>(</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                        state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a96b3d3a8bf3a61b83e0366f748a39733">encoder_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[0], <a class="code" href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa021357992ac2df01def123f70bcf0b90">MMAL_PARAMETER_EXIF_DISABLE</a>, 1);</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                  }</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;                  <span class="comment">// Same with raw, apparently need to set it for each capture, whilst port</span></div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;                  <span class="comment">// is not enabled</span></div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;                  <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#abfa611d5cee3930d9b140d711981d8c2">wantRAW</a>)</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                  {</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                     <span class="keywordflow">if</span> (<a class="code" href="../../db/d48/mmal__util__params_8c.html#aba9fe4904a386eaa681c7bdbbcf93023">mmal_port_parameter_set_boolean</a>(camera_still_port, <a class="code" href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa64136e8352ad167b904f125c8cdc1c45">MMAL_PARAMETER_ENABLE_RAW_CAPTURE</a>, 1) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                     {</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                        vcos_log_error(<span class="stringliteral">&quot;RAW was requested, but failed to enable&quot;</span>);</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                     }</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;                  }</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                  <span class="comment">// There is a possibility that shutter needs to be set each loop.</span></div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="../../d4/d88/RaspiHelpers_8c.html#ad6cc73ee106e56252e3e10278aa463b7">mmal_status_to_int</a>(<a class="code" href="../../db/d48/mmal__util__params_8c.html#a894ac86900b66cb84da1b264e88d640a">mmal_port_parameter_set_uint32</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#abdf5b139e180f5fa535249f003a74540">control</a>, <a class="code" href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa297c0e0e09536bc83b862ce1cbeb5d37">MMAL_PARAMETER_SHUTTER_SPEED</a>, state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#ab13a43f5d4c33c2731b04cdbb136a293">shutter_speed</a>)) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;                     vcos_log_error(<span class="stringliteral">&quot;Unable to set shutter speed&quot;</span>);</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                  <span class="comment">// Enable the encoder output port</span></div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                  encoder_output_port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#ac48ce60dae764525880438aabb058faa">userdata</a> = (<span class="keyword">struct </span>MMAL_PORT_USERDATA_T *)&amp;callback_data;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                  <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;                     fprintf(stderr, <span class="stringliteral">&quot;Enabling encoder output port\n&quot;</span>);</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;                  <span class="comment">// Enable the encoder output port and tell it its callback function</span></div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;                  status = <a class="code" href="../../d0/d5f/group__MmalPort.html#gaa723c325260a53f553c6ab7ee8038b70">mmal_port_enable</a>(encoder_output_port, encoder_buffer_callback);</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;                  <span class="comment">// Send all the buffers to the encoder output port</span></div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;                  num = <a class="code" href="../../d8/d82/group__MmalQueue.html#ga710521f92c381a4ad9cfb620f0117456">mmal_queue_length</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#ac725c3506a835ad0713b372dabd017b6">encoder_pool</a>-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>);</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;                  <span class="keywordflow">for</span> (q=0; q&lt;num; q++)</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;                  {</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;                     <a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="code" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a> = <a class="code" href="../../d8/d82/group__MmalQueue.html#gae03a53a1cba809a9c42fefe1af835932">mmal_queue_get</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#ac725c3506a835ad0713b372dabd017b6">encoder_pool</a>-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>);</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;                     <span class="keywordflow">if</span> (!buffer)</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;                        vcos_log_error(<span class="stringliteral">&quot;Unable to get a required buffer %d from pool queue&quot;</span>, q);</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;                     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5f/group__MmalPort.html#ga098a7b91bb6fc596aed0e5585aee3253">mmal_port_send_buffer</a>(encoder_output_port, buffer)!= <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;                        vcos_log_error(<span class="stringliteral">&quot;Unable to send a buffer to encoder output port (%d)&quot;</span>, q);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;                  }</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                  <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aeadc336d314f94cc82801099a6d0dfa4">burstCaptureMode</a>)</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;                  {</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;                     <a class="code" href="../../db/d48/mmal__util__params_8c.html#aba9fe4904a386eaa681c7bdbbcf93023">mmal_port_parameter_set_boolean</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#abdf5b139e180f5fa535249f003a74540">control</a>,  <a class="code" href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516faf1b41727bfcfb57281376f8d45b01fac">MMAL_PARAMETER_CAMERA_BURST_CAPTURE</a>, 1);</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;                  }</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;                  <span class="keywordflow">if</span>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a89a23e4fc13b1ee07a40d9e8c6b4ebda">enable_annotate</a>)</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                  {</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;                     <span class="keywordflow">if</span> ((state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a89a23e4fc13b1ee07a40d9e8c6b4ebda">enable_annotate</a> &amp; <a class="code" href="../../d4/d97/RaspiCamControl_8h.html#aaec2a10ceb66a704eec7bbf252ca1501">ANNOTATE_APP_TEXT</a>) &amp;&amp; state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">gps</a>)</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;                     {</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;                        <span class="keywordtype">char</span> *text = <a class="code" href="../../d1/d54/RaspiGPS_8c.html#ae8aa8e490804dd82bd52c5c9256e3deb">raspi_gps_location_string</a>();</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;                        <a class="code" href="../../db/de2/RaspiCamControl_8c.html#ad123adf66b96bfe500654631f6a5005e">raspicamcontrol_set_annotate</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>, state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a89a23e4fc13b1ee07a40d9e8c6b4ebda">enable_annotate</a>,</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;                                                     text,</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#af3f1b461d17f55ec874e1063a11b9e5c">annotate_text_size</a>,</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a86836ec9ebac11835283571cce79a5ab">annotate_text_colour</a>,</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#af7fceb459a0c8ad099ff042690753141">annotate_bg_colour</a>,</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#afc486c5aa685ca171fa1acf1002ccdc9">annotate_justify</a>,</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a18c922c241fdc5426826d2c664d69b80">annotate_x</a>,</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a493f4d13988f9a1c3c981421a6ea2831">annotate_y</a></div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;                                                    );</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;                        free(text);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;                     }</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;                     <span class="keywordflow">else</span></div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;                        <a class="code" href="../../db/de2/RaspiCamControl_8c.html#ad123adf66b96bfe500654631f6a5005e">raspicamcontrol_set_annotate</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>, state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a89a23e4fc13b1ee07a40d9e8c6b4ebda">enable_annotate</a>,</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a580b981c1118c3abb2b79ed2113dc00d">annotate_string</a>,</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#af3f1b461d17f55ec874e1063a11b9e5c">annotate_text_size</a>,</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a86836ec9ebac11835283571cce79a5ab">annotate_text_colour</a>,</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#af7fceb459a0c8ad099ff042690753141">annotate_bg_colour</a>,</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#afc486c5aa685ca171fa1acf1002ccdc9">annotate_justify</a>,</div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a18c922c241fdc5426826d2c664d69b80">annotate_x</a>,</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;                                                     state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">camera_parameters</a>.<a class="code" href="../../d3/d30/structraspicam__camera__parameters__s.html#a493f4d13988f9a1c3c981421a6ea2831">annotate_y</a></div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;                                                    );</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;                  }</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                  <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;                     fprintf(stderr, <span class="stringliteral">&quot;Starting capture %d\n&quot;</span>, frame);</div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="../../db/d48/mmal__util__params_8c.html#aba9fe4904a386eaa681c7bdbbcf93023">mmal_port_parameter_set_boolean</a>(camera_still_port, <a class="code" href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa7d63afa317c4adc763a80fff17d9a6e8">MMAL_PARAMETER_CAPTURE</a>, 1) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                  {</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;                     vcos_log_error(<span class="stringliteral">&quot;%s: Failed to start capture&quot;</span>, __func__);</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;                  }</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;                  {</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;                     <span class="comment">// Wait for capture to complete</span></div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;                     <span class="comment">// For some reason using vcos_semaphore_wait_timeout sometimes returns immediately with bad parameter error</span></div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;                     <span class="comment">// even though it appears to be all correct, so reverting to untimed one until figure out why its erratic</span></div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;                     <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a>(&amp;callback_data.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#ab057da487fe0d71b9e8f9ad9347f17ef">complete_semaphore</a>);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;                     <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;                        fprintf(stderr, <span class="stringliteral">&quot;Finished capture %d\n&quot;</span>, frame);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                  }</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;                  <span class="comment">// Ensure we don&#39;t die if get callback with no open file</span></div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;                  callback_data.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                  <span class="keywordflow">if</span> (output_file != stdout)</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                  {</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                     rename_file(&amp;state, output_file, final_filename, use_filename, frame);</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                  }</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                  <span class="keywordflow">else</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;                  {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;                     fflush(output_file);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;                  }</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                  <span class="comment">// Disable encoder output port</span></div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;                  status = <a class="code" href="../../d0/d5f/group__MmalPort.html#ga28ba868d23823323340b83499a4992d8">mmal_port_disable</a>(encoder_output_port);</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;               }</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;               <span class="keywordflow">if</span> (use_filename)</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;               {</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;                  free(use_filename);</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                  use_filename = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;               }</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;               <span class="keywordflow">if</span> (final_filename)</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;               {</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                  free(final_filename);</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                  final_filename = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;               }</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;            } <span class="comment">// end for (frame)</span></div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a>(&amp;callback_data.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#ab057da487fe0d71b9e8f9ad9347f17ef">complete_semaphore</a>);</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;         }</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      {</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;         <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#ad6cc73ee106e56252e3e10278aa463b7">mmal_status_to_int</a>(status);</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;         vcos_log_error(<span class="stringliteral">&quot;%s: Failed to connect camera to preview&quot;</span>, __func__);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      }</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;<a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>:</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#ad6cc73ee106e56252e3e10278aa463b7">mmal_status_to_int</a>(status);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Closing down\n&quot;</span>);</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a3bb6e92635c3a8a77f9ec991d5fe34d8">useGL</a>)</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;      {</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;         <a class="code" href="../../d5/d34/RaspiTex_8c.html#a654b91398d5a12049e23c6022ec647ee">raspitex_stop</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aa5d6b0944322b7f5ebe74628daaa8f4e">raspitex_state</a>);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;         <a class="code" href="../../d5/d34/RaspiTex_8c.html#a79729992f4649430719acdd184ee41c1">raspitex_destroy</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#aa5d6b0944322b7f5ebe74628daaa8f4e">raspitex_state</a>);</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      }</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;      <span class="comment">// Disable all our ports that are not handled by connections</span></div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a293de76f9ccf60623b116623ef1b4a43">check_disable_port</a>(camera_video_port);</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a293de76f9ccf60623b116623ef1b4a43">check_disable_port</a>(encoder_output_port);</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a6ff628acb9f0f94bfc07c1a72a824274">preview_connection</a>)</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;         <a class="code" href="../../d7/dfb/group__MmalConnectionUtility.html#ga0b872de7d96b262486ee4e5c72971513">mmal_connection_destroy</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a6ff628acb9f0f94bfc07c1a72a824274">preview_connection</a>);</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a0388acffb380d36f3ec3797d4425905a">encoder_connection</a>)</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;         <a class="code" href="../../d7/dfb/group__MmalConnectionUtility.html#ga0b872de7d96b262486ee4e5c72971513">mmal_connection_destroy</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a0388acffb380d36f3ec3797d4425905a">encoder_connection</a>);</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;      <span class="comment">/* Disable components */</span></div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a96b3d3a8bf3a61b83e0366f748a39733">encoder_component</a>)</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;         <a class="code" href="../../df/db6/group__MmalComponent.html#ga9477827891cb5a2a5c77fb23dd4ea7d9">mmal_component_disable</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a96b3d3a8bf3a61b83e0366f748a39733">encoder_component</a>);</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a7a62833d70ff68cc4497886519422685">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">preview_component</a>)</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;         <a class="code" href="../../df/db6/group__MmalComponent.html#ga9477827891cb5a2a5c77fb23dd4ea7d9">mmal_component_disable</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a7a62833d70ff68cc4497886519422685">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">preview_component</a>);</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>)</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;         <a class="code" href="../../df/db6/group__MmalComponent.html#ga9477827891cb5a2a5c77fb23dd4ea7d9">mmal_component_disable</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">camera_component</a>);</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      destroy_encoder_component(&amp;state);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      <a class="code" href="../../d2/dc8/RaspiPreview_8c.html#ac016a89aeafc7d2a2c150f274e79e7c7">raspipreview_destroy</a>(&amp;state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a7a62833d70ff68cc4497886519422685">preview_parameters</a>);</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;      destroy_camera_component(&amp;state);</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Close down completed, all components disconnected, disabled and destroyed\n\n&quot;</span>);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">gps</a>)</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;         <a class="code" href="../../d1/d54/RaspiGPS_8c.html#af511436177b465eb70696dc1d89635fc">raspi_gps_shutdown</a>(state.<a class="code" href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>);</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;   }</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;   <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;      <a class="code" href="../../db/de2/RaspiCamControl_8c.html#a6f2166444b5f3ae0eebddeb252a5d955">raspicamcontrol_check_configuration</a>(128);</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;   <span class="keywordflow">return</span> exit_code;</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;}</div><div class="ttc" id="structRASPISTILL__STATE_html_aa5d6b0944322b7f5ebe74628daaa8f4e"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#aa5d6b0944322b7f5ebe74628daaa8f4e">RASPISTILL_STATE::raspitex_state</a></div><div class="ttdeci">RASPITEX_STATE raspitex_state</div><div class="ttdoc">Pointer to the pool of buffers used by encoder output port. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00160">RaspiStill.c:160</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a41427adc2afddece4f43632067813331"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a41427adc2afddece4f43632067813331">RASPICOMMONSETTINGS_PARAMETERS::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00044">RaspiCommonSettings.h:44</a></div></div>
<div class="ttc" id="RaspiGPS_8c_html_af511436177b465eb70696dc1d89635fc"><div class="ttname"><a href="../../d1/d54/RaspiGPS_8c.html#af511436177b465eb70696dc1d89635fc">raspi_gps_shutdown</a></div><div class="ttdeci">void raspi_gps_shutdown(int verbose)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d54/RaspiGPS_8c_source.html#l00115">RaspiGPS.c:115</a></div></div>
<div class="ttc" id="group__MMAL__PARAMETER__IDS_html_gga16db4876b192da08f3ad0cb41afe516fa297c0e0e09536bc83b862ce1cbeb5d37"><div class="ttname"><a href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa297c0e0e09536bc83b862ce1cbeb5d37">MMAL_PARAMETER_SHUTTER_SPEED</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/mmal__parameters__camera_8h_source.html#l00126">mmal_parameters_camera.h:126</a></div></div>
<div class="ttc" id="RaspiGPS_8c_html_a5ab13c88aa3441884ca42dd3e3616341"><div class="ttname"><a href="../../d1/d54/RaspiGPS_8c.html#a5ab13c88aa3441884ca42dd3e3616341">raspi_gps_lock</a></div><div class="ttdeci">struct gps_data_t * raspi_gps_lock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d54/RaspiGPS_8c_source.html#l00052">RaspiGPS.c:52</a></div></div>
<div class="ttc" id="structRASPIPREVIEW__PARAMETERS_html_a6fadac79ee8fcf052ea5ae14a8904666"><div class="ttname"><a href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">RASPIPREVIEW_PARAMETERS::preview_component</a></div><div class="ttdeci">MMAL_COMPONENT_T * preview_component</div><div class="ttdoc">Destination rectangle for the preview window. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d05/RaspiPreview_8h_source.html#l00057">RaspiPreview.h:57</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_aba7ab1d5dabd5f1a7e5632d8c60c09ee"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#aba7ab1d5dabd5f1a7e5632d8c60c09ee">RASPISTILL_STATE::demoInterval</a></div><div class="ttdeci">int demoInterval</div><div class="ttdoc">Run app in demo mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00134">RaspiStill.c:134</a></div></div>
<div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a96b3d3a8bf3a61b83e0366f748a39733"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a96b3d3a8bf3a61b83e0366f748a39733">RASPISTILL_STATE::encoder_component</a></div><div class="ttdeci">MMAL_COMPONENT_T * encoder_component</div><div class="ttdoc">Pointer to the camera component. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00153">RaspiStill.c:153</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a483ff43ab82509dc9188e01081d96f1b"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a483ff43ab82509dc9188e01081d96f1b">MMAL_COMPONENT_T::input</a></div><div class="ttdeci">MMAL_PORT_T ** input</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00070">mmal_component.h:70</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a1478647a6bc7e82569361d72c04dceb0"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_wait(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Wait on a semaphore. </div></div>
<div class="ttc" id="group__MmalPort_html_gaa723c325260a53f553c6ab7ee8038b70"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#gaa723c325260a53f553c6ab7ee8038b70">mmal_port_enable</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_enable(MMAL_PORT_T *port, MMAL_PORT_BH_CB_T cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00351">mmal_port.c:351</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a0d689d5ed0e2ee91ba05f5296aa41346"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a0d689d5ed0e2ee91ba05f5296aa41346">RASPISTILL_STATE::datetime</a></div><div class="ttdeci">int datetime</div><div class="ttdoc">Enable burst mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00145">RaspiStill.c:145</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_abdf5b139e180f5fa535249f003a74540"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#abdf5b139e180f5fa535249f003a74540">MMAL_COMPONENT_T::control</a></div><div class="ttdeci">MMAL_PORT_T * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00067">mmal_component.h:67</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a7a62833d70ff68cc4497886519422685"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a7a62833d70ff68cc4497886519422685">RASPISTILL_STATE::preview_parameters</a></div><div class="ttdeci">RASPIPREVIEW_PARAMETERS preview_parameters</div><div class="ttdoc">JPEG restart interval. 0 for none. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00149">RaspiStill.c:149</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a229086f1bb05b3484c3056c2e9de052f"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a229086f1bb05b3484c3056c2e9de052f">RASPISTILL_STATE::camera_parameters</a></div><div class="ttdeci">RASPICAM_CAMERA_PARAMETERS camera_parameters</div><div class="ttdoc">Preview setup parameters. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00150">RaspiStill.c:150</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_a89a23e4fc13b1ee07a40d9e8c6b4ebda"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#a89a23e4fc13b1ee07a40d9e8c6b4ebda">raspicam_camera_parameters_s::enable_annotate</a></div><div class="ttdeci">int enable_annotate</div><div class="ttdoc">Stills capture statistics pass on/off. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00162">RaspiCamControl.h:162</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a9b90146346239dc9f7e87d11c7072f7a"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a9b90146346239dc9f7e87d11c7072f7a">RASPICOMMONSETTINGS_PARAMETERS::cameraNum</a></div><div class="ttdeci">int cameraNum</div><div class="ttdoc">filename of output file </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00047">RaspiCommonSettings.h:47</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a0ff0702d8497950dd64bded4dab6adb1"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a0ff0702d8497950dd64bded4dab6adb1">default_signal_handler</a></div><div class="ttdeci">void default_signal_handler(int signal_number)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00199">RaspiHelpers.c:199</a></div></div>
<div class="ttc" id="RaspiTex_8c_html_a011084dc0f75e0ae08b53998360b9961"><div class="ttname"><a href="../../d5/d34/RaspiTex_8c.html#a011084dc0f75e0ae08b53998360b9961">raspitex_start</a></div><div class="ttdeci">int raspitex_start(RASPITEX_STATE *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d34/RaspiTex_8c_source.html#l00692">RaspiTex.c:692</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a></div><div class="ttdeci">VCOS_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00073">vcos_types.h:73</a></div></div>
<div class="ttc" id="group__MmalConnectionUtility_html_ga0b872de7d96b262486ee4e5c72971513"><div class="ttname"><a href="../../d7/dfb/group__MmalConnectionUtility.html#ga0b872de7d96b262486ee4e5c72971513">mmal_connection_destroy</a></div><div class="ttdeci">MMAL_STATUS_T mmal_connection_destroy(MMAL_CONNECTION_T *connection)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/mmal__connection_8c_source.html#l00140">mmal_connection.c:140</a></div></div>
<div class="ttc" id="RaspiPreview_8c_html_a921c8f8a37bdc5fb441d42df3b8b97bd"><div class="ttname"><a href="../../d2/dc8/RaspiPreview_8c.html#a921c8f8a37bdc5fb441d42df3b8b97bd">raspipreview_create</a></div><div class="ttdeci">MMAL_STATUS_T raspipreview_create(RASPIPREVIEW_PARAMETERS *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/RaspiPreview_8c_source.html#l00075">RaspiPreview.c:75</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a6a9a6ab8e69a655cdea6d4959dc47a96"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a6a9a6ab8e69a655cdea6d4959dc47a96">RASPISTILL_STATE::glCapture</a></div><div class="ttdeci">int glCapture</div><div class="ttdoc">Render preview using OpenGL. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00143">RaspiStill.c:143</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="group__MmalPort_html_ga28ba868d23823323340b83499a4992d8"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ga28ba868d23823323340b83499a4992d8">mmal_port_disable</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_disable(MMAL_PORT_T *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00575">mmal_port.c:575</a></div></div>
<div class="ttc" id="gps_8h_html_a7d3df4fab6dcdf7c8a8751f932f76c23"><div class="ttname"><a href="../../db/d34/gps_8h.html#a7d3df4fab6dcdf7c8a8751f932f76c23">gps_data</a></div><div class="ttdeci">const char * gps_data(const struct gps_data_t *)</div></div>
<div class="ttc" id="RaspiTex_8c_html_a94b3a0f896e510831da779cdc45b8464"><div class="ttname"><a href="../../d5/d34/RaspiTex_8c.html#a94b3a0f896e510831da779cdc45b8464">raspitex_capture</a></div><div class="ttdeci">int raspitex_capture(RASPITEX_STATE *state, FILE *output_file)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d34/RaspiTex_8c_source.html#l00714">RaspiTex.c:714</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_afc486c5aa685ca171fa1acf1002ccdc9"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#afc486c5aa685ca171fa1acf1002ccdc9">raspicam_camera_parameters_s::annotate_justify</a></div><div class="ttdeci">unsigned int annotate_justify</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00167">RaspiCamControl.h:167</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a5fcadb5e7cb367c0828155e537330377"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a5fcadb5e7cb367c0828155e537330377">display_valid_parameters</a></div><div class="ttdeci">void display_valid_parameters(char *name, void(*app_help)(char *))</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00069">RaspiHelpers.c:69</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00079">mmal_port.h:79</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_ae4175dd1f85f1adbe6be2dc4207fb064"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">MMAL_POOL_T::queue</a></div><div class="ttdeci">MMAL_QUEUE_T * queue</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00045">mmal_pool.h:45</a></div></div>
<div class="ttc" id="applog_8h_html_a0c35674425ccbeb9a3b5d5f96e619fb4"><div class="ttname"><a href="../../d0/d5e/applog_8h.html#a0c35674425ccbeb9a3b5d5f96e619fb4">VCOS_LOG_CATEGORY</a></div><div class="ttdeci">#define VCOS_LOG_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5e/applog_8h_source.html#l00040">applog.h:40</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a1a7c53762d11ce8c1d82f98c784775c7"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a1a7c53762d11ce8c1d82f98c784775c7">RASPISTILL_STATE::timeout</a></div><div class="ttdeci">int timeout</div><div class="ttdoc">Common settings. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00127">RaspiStill.c:127</a></div></div>
<div class="ttc" id="group__MMAL__PARAMETER__IDS_html_gga16db4876b192da08f3ad0cb41afe516fa021357992ac2df01def123f70bcf0b90"><div class="ttname"><a href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa021357992ac2df01def123f70bcf0b90">MMAL_PARAMETER_EXIF_DISABLE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/mmal__parameters__camera_8h_source.html#l00054">mmal_parameters_camera.h:54</a></div></div>
<div class="ttc" id="utils_8c_html_a31a889e0e0f939aa348887bfc5209b70"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a></div><div class="ttdeci">int error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00443">utils.c:443</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_af70a9c53cff9c6a9e183194f6467261b"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#af70a9c53cff9c6a9e183194f6467261b">print_app_details</a></div><div class="ttdeci">void print_app_details(FILE *fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00061">RaspiHelpers.c:61</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_a18c922c241fdc5426826d2c664d69b80"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#a18c922c241fdc5426826d2c664d69b80">raspicam_camera_parameters_s::annotate_x</a></div><div class="ttdeci">unsigned int annotate_x</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00168">RaspiCamControl.h:168</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a6b2c90a7e37344a29a6e8b0cd5534613"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a6b2c90a7e37344a29a6e8b0cd5534613">RASPICOMMONSETTINGS_PARAMETERS::camera_name</a></div><div class="ttdeci">char camera_name[MMAL_PARAMETER_CAMERA_INFO_MAX_STR_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00043">RaspiCommonSettings.h:43</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a4dd7165fc2dd9873731b11ec07202c91"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_semaphore_delete(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Delete a semaphore, releasing any resources consumed by it. </div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a64c107e038adf2b50d9a71d89ab96846"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a64c107e038adf2b50d9a71d89ab96846">set_app_name</a></div><div class="ttdeci">void set_app_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00145">RaspiHelpers.c:145</a></div></div>
<div class="ttc" id="mmal__util__params_8c_html_a894ac86900b66cb84da1b264e88d640a"><div class="ttname"><a href="../../db/d48/mmal__util__params_8c.html#a894ac86900b66cb84da1b264e88d640a">mmal_port_parameter_set_uint32</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_parameter_set_uint32(MMAL_PORT_T *port, uint32_t id, uint32_t value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d48/mmal__util__params_8c_source.html#l00085">mmal_util_params.c:85</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_aeadc336d314f94cc82801099a6d0dfa4"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#aeadc336d314f94cc82801099a6d0dfa4">RASPISTILL_STATE::burstCaptureMode</a></div><div class="ttdeci">int burstCaptureMode</div><div class="ttdoc">Save the GL frame-buffer instead of camera output. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00144">RaspiStill.c:144</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a4707532f0c0fc7dcf63df46d1f9fe8a7"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a4707532f0c0fc7dcf63df46d1f9fe8a7">RASPICOMMONSETTINGS_PARAMETERS::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">Requested width of image. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00045">RaspiCommonSettings.h:45</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_ac725c3506a835ad0713b372dabd017b6"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#ac725c3506a835ad0713b372dabd017b6">RASPISTILL_STATE::encoder_pool</a></div><div class="ttdeci">MMAL_POOL_T * encoder_pool</div><div class="ttdoc">Pointer to the connection from camera to encoder. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00158">RaspiStill.c:158</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a0388acffb380d36f3ec3797d4425905a"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a0388acffb380d36f3ec3797d4425905a">RASPISTILL_STATE::encoder_connection</a></div><div class="ttdeci">MMAL_CONNECTION_T * encoder_connection</div><div class="ttdoc">Pointer to the connection from camera to preview. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00156">RaspiStill.c:156</a></div></div>
<div class="ttc" id="vcos__logcat_8c_html_a3b1a5dfa854033cd021dac6db2934b9c"><div class="ttname"><a href="../../d1/d3a/vcos__logcat_8c.html#a3b1a5dfa854033cd021dac6db2934b9c">vcos_log_register</a></div><div class="ttdeci">void vcos_log_register(const char *name, VCOS_LOG_CAT_T *category)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3a/vcos__logcat_8c_source.html#l00373">vcos_logcat.c:373</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_af3f1b461d17f55ec874e1063a11b9e5c"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#af3f1b461d17f55ec874e1063a11b9e5c">raspicam_camera_parameters_s::annotate_text_size</a></div><div class="ttdeci">int annotate_text_size</div><div class="ttdoc">String to use for annotate - overrides certain bitmask settings. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00164">RaspiCamControl.h:164</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a05918625e284f44e2f62d633561c6dd1"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">RASPICOMMONSETTINGS_PARAMETERS::gps</a></div><div class="ttdeci">int gps</div><div class="ttdoc">!0 if want detailed run information </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00050">RaspiCommonSettings.h:50</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a07cbe15e2ee5ddb50a741bb261030b6c"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a07cbe15e2ee5ddb50a741bb261030b6c">get_sensor_defaults</a></div><div class="ttdeci">void get_sensor_defaults(int camera_num, char *camera_name, int *width, int *height)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00090">RaspiHelpers.c:90</a></div></div>
<div class="ttc" id="RaspiGPS_8c_html_ac457caf80c704ee1d7d822a7d9140aeb"><div class="ttname"><a href="../../d1/d54/RaspiGPS_8c.html#ac457caf80c704ee1d7d822a7d9140aeb">raspi_gps_unlock</a></div><div class="ttdeci">void raspi_gps_unlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d54/RaspiGPS_8c_source.html#l00058">RaspiGPS.c:58</a></div></div>
<div class="ttc" id="RaspiTex_8c_html_a9222212815a7ff70aef22dcc73792639"><div class="ttname"><a href="../../d5/d34/RaspiTex_8c.html#a9222212815a7ff70aef22dcc73792639">raspitex_init</a></div><div class="ttdeci">int raspitex_init(RASPITEX_STATE *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d34/RaspiTex_8c_source.html#l00556">RaspiTex.c:556</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a72d2ddc49b470011473739148d3b7dbf"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a72d2ddc49b470011473739148d3b7dbf">RASPISTILL_STATE::common_settings</a></div><div class="ttdeci">RASPICOMMONSETTINGS_PARAMETERS common_settings</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00126">RaspiStill.c:126</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html">RASPISTILL_STATE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00124">RaspiStill.c:124</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_ab13a43f5d4c33c2731b04cdbb136a293"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#ab13a43f5d4c33c2731b04cdbb136a293">raspicam_camera_parameters_s::shutter_speed</a></div><div class="ttdeci">int shutter_speed</div><div class="ttdoc">region of interest to use on the sensor. Normalised [0,1] values in the rect </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00157">RaspiCamControl.h:157</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_ab675615c37b6e49b2bc9a0299564a55f"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#ab675615c37b6e49b2bc9a0299564a55f">RASPISTILL_STATE::timestamp</a></div><div class="ttdeci">int timestamp</div><div class="ttdoc">Use DateTime instead of frame#. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00146">RaspiStill.c:146</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html_ab057da487fe0d71b9e8f9ad9347f17ef"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html#ab057da487fe0d71b9e8f9ad9347f17ef">PORT_USERDATA::complete_semaphore</a></div><div class="ttdeci">VCOS_SEMAPHORE_T complete_semaphore</div><div class="ttdoc">File handle to write buffer data to. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00169">RaspiStill.c:169</a></div></div>
<div class="ttc" id="group__MmalPort_html_ga098a7b91bb6fc596aed0e5585aee3253"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ga098a7b91bb6fc596aed0e5585aee3253">mmal_port_send_buffer</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_send_buffer(MMAL_PORT_T *port, MMAL_BUFFER_HEADER_T *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00709">mmal_port.c:709</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_af7fceb459a0c8ad099ff042690753141"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#af7fceb459a0c8ad099ff042690753141">raspicam_camera_parameters_s::annotate_bg_colour</a></div><div class="ttdeci">int annotate_bg_colour</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00166">RaspiCamControl.h:166</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_ad72cb088c104a965ef0ce3672670f484"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">RASPICOMMONSETTINGS_PARAMETERS::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdoc">requested height of image </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00046">RaspiCommonSettings.h:46</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_ac48ce60dae764525880438aabb058faa"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#ac48ce60dae764525880438aabb058faa">MMAL_PORT_T::userdata</a></div><div class="ttdeci">struct MMAL_PORT_USERDATA_T * userdata</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00110">mmal_port.h:110</a></div></div>
<div class="ttc" id="group__MmalTypes_html_ga5ac87230bd615d2b154a9d5899bc37fd"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a></div><div class="ttdeci">MMAL_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00046">mmal_types.h:46</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a6ea8994f409e4b977b3f49529bd8836e"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a6ea8994f409e4b977b3f49529bd8836e">MMAL_CAMERA_CAPTURE_PORT</a></div><div class="ttdeci">#define MMAL_CAMERA_CAPTURE_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00093">RaspiStill.c:93</a></div></div>
<div class="ttc" id="RaspiGPS_8c_html_ae8aa8e490804dd82bd52c5c9256e3deb"><div class="ttname"><a href="../../d1/d54/RaspiGPS_8c.html#ae8aa8e490804dd82bd52c5c9256e3deb">raspi_gps_location_string</a></div><div class="ttdeci">char * raspi_gps_location_string()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d54/RaspiGPS_8c_source.html#l00188">RaspiGPS.c:188</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a04f044c445ee46aab2afe72c6d6eb5c3"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a04f044c445ee46aab2afe72c6d6eb5c3">create_filenames</a></div><div class="ttdeci">MMAL_STATUS_T create_filenames(char **finalName, char **tempName, char *pattern, int frame)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l01402">RaspiStill.c:1402</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_ad6cc73ee106e56252e3e10278aa463b7"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#ad6cc73ee106e56252e3e10278aa463b7">mmal_status_to_int</a></div><div class="ttdeci">int mmal_status_to_int(MMAL_STATUS_T status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00222">RaspiHelpers.c:222</a></div></div>
<div class="ttc" id="RaspiTex_8c_html_a79729992f4649430719acdd184ee41c1"><div class="ttname"><a href="../../d5/d34/RaspiTex_8c.html#a79729992f4649430719acdd184ee41c1">raspitex_destroy</a></div><div class="ttdeci">void raspitex_destroy(RASPITEX_STATE *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d34/RaspiTex_8c_source.html#l00614">RaspiTex.c:614</a></div></div>
<div class="ttc" id="RaspiPreview_8c_html_ac016a89aeafc7d2a2c150f274e79e7c7"><div class="ttname"><a href="../../d2/dc8/RaspiPreview_8c.html#ac016a89aeafc7d2a2c150f274e79e7c7">raspipreview_destroy</a></div><div class="ttdeci">void raspipreview_destroy(RASPIPREVIEW_PARAMETERS *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/RaspiPreview_8c_source.html#l00177">RaspiPreview.c:177</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html_a9922560bbbcd7b756e83a58c084318b3"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html#a9922560bbbcd7b756e83a58c084318b3">PORT_USERDATA::pstate</a></div><div class="ttdeci">RASPISTILL_STATE * pstate</div><div class="ttdoc">semaphore which is posted when we reach end of frame (indicates end of capture or fault) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00170">RaspiStill.c:170</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_ab8b496a6c64a35c25734f640ff2909db"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#ab8b496a6c64a35c25734f640ff2909db">MMAL_CAMERA_VIDEO_PORT</a></div><div class="ttdeci">#define MMAL_CAMERA_VIDEO_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00092">RaspiStill.c:92</a></div></div>
<div class="ttc" id="RaspiGPS_8c_html_a76aa58352d6931fff1dc1c0e375f774b"><div class="ttname"><a href="../../d1/d54/RaspiGPS_8c.html#a76aa58352d6931fff1dc1c0e375f774b">raspi_gps_setup</a></div><div class="ttdeci">int raspi_gps_setup(int verbose)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d54/RaspiGPS_8c_source.html#l00136">RaspiGPS.c:136</a></div></div>
<div class="ttc" id="RaspiTex_8c_html_a654b91398d5a12049e23c6022ec647ee"><div class="ttname"><a href="../../d5/d34/RaspiTex_8c.html#a654b91398d5a12049e23c6022ec647ee">raspitex_stop</a></div><div class="ttdeci">void raspitex_stop(RASPITEX_STATE *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d34/RaspiTex_8c_source.html#l00675">RaspiTex.c:675</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a4638ab04400558b8e837c09a7e610c84"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a4638ab04400558b8e837c09a7e610c84">RASPISTILL_STATE::camera_component</a></div><div class="ttdeci">MMAL_COMPONENT_T * camera_component</div><div class="ttdoc">Camera setup parameters. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00152">RaspiStill.c:152</a></div></div>
<div class="ttc" id="structgps__data__t_html"><div class="ttname"><a href="../../dd/d7a/structgps__data__t.html">gps_data_t</a></div><div class="ttdef"><b>Definition:</b> <a href="../../db/d34/gps_8h_source.html#l01963">gps.h:1963</a></div></div>
<div class="ttc" id="RaspiCamControl_8h_html_aaec2a10ceb66a704eec7bbf252ca1501"><div class="ttname"><a href="../../d4/d97/RaspiCamControl_8h.html#aaec2a10ceb66a704eec7bbf252ca1501">ANNOTATE_APP_TEXT</a></div><div class="ttdeci">#define ANNOTATE_APP_TEXT</div><div class="ttdoc">Supplied by app using this module. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00099">RaspiCamControl.h:99</a></div></div>
<div class="ttc" id="RaspiCamControl_8c_html_a65a8c22cd83559eb1d17d43f9a8f575a"><div class="ttname"><a href="../../db/de2/RaspiCamControl_8c.html#a65a8c22cd83559eb1d17d43f9a8f575a">raspicamcontrol_cycle_test</a></div><div class="ttdeci">int raspicamcontrol_cycle_test(MMAL_COMPONENT_T *camera)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/RaspiCamControl_8c_source.html#l00267">RaspiCamControl.c:267</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html_a92548058431dd263c21965f6777ccc81"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">PORT_USERDATA::file_handle</a></div><div class="ttdeci">FILE * file_handle</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00168">RaspiStill.c:168</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a3bb6e92635c3a8a77f9ec991d5fe34d8"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a3bb6e92635c3a8a77f9ec991d5fe34d8">RASPISTILL_STATE::useGL</a></div><div class="ttdeci">int useGL</div><div class="ttdoc">Which method to use to advance to next frame. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00142">RaspiStill.c:142</a></div></div>
<div class="ttc" id="vcos__thread_8h_html_a0a8ff046abbe0114d9bd85c46d642ad4"><div class="ttname"><a href="../../de/d30/vcos__thread_8h.html#a0a8ff046abbe0114d9bd85c46d642ad4">vcos_sleep</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_sleep(uint32_t ms)</div><div class="ttdoc">Sleep a while. </div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00069">mmal_buffer.h:69</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_aec46d55c9e9b7f8a4beab46601744b56"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#aec46d55c9e9b7f8a4beab46601744b56">vcos_semaphore_create</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_create(VCOS_SEMAPHORE_T *sem, const char *name, VCOS_UNSIGNED count)</div><div class="ttdoc">Create a semaphore. </div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a6ff628acb9f0f94bfc07c1a72a824274"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a6ff628acb9f0f94bfc07c1a72a824274">RASPISTILL_STATE::preview_connection</a></div><div class="ttdeci">MMAL_CONNECTION_T * preview_connection</div><div class="ttdoc">Pointer to the null sink component. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00155">RaspiStill.c:155</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a697b73edbe4b47aacb588f27d2ae683b"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a697b73edbe4b47aacb588f27d2ae683b">RASPISTILL_STATE::frameStart</a></div><div class="ttdeci">int frameStart</div><div class="ttdoc">filename of output file </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00131">RaspiStill.c:131</a></div></div>
<div class="ttc" id="group__MmalQueue_html_ga710521f92c381a4ad9cfb620f0117456"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#ga710521f92c381a4ad9cfb620f0117456">mmal_queue_length</a></div><div class="ttdeci">unsigned int mmal_queue_length(MMAL_QUEUE_T *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00184">mmal_queue.c:184</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a613236903df3f5aebcd6c95be8342179"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a613236903df3f5aebcd6c95be8342179">RASPISTILL_STATE::demoMode</a></div><div class="ttdeci">int demoMode</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00133">RaspiStill.c:133</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a293de76f9ccf60623b116623ef1b4a43"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a293de76f9ccf60623b116623ef1b4a43">check_disable_port</a></div><div class="ttdeci">void check_disable_port(MMAL_PORT_T *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00187">RaspiHelpers.c:187</a></div></div>
<div class="ttc" id="group__MmalComponent_html_ga9477827891cb5a2a5c77fb23dd4ea7d9"><div class="ttname"><a href="../../df/db6/group__MmalComponent.html#ga9477827891cb5a2a5c77fb23dd4ea7d9">mmal_component_disable</a></div><div class="ttdeci">MMAL_STATUS_T mmal_component_disable(MMAL_COMPONENT_T *component)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db8/mmal__component_8c_source.html#l00406">mmal_component.c:406</a></div></div>
<div class="ttc" id="RaspiCamControl_8c_html_ad123adf66b96bfe500654631f6a5005e"><div class="ttname"><a href="../../db/de2/RaspiCamControl_8c.html#ad123adf66b96bfe500654631f6a5005e">raspicamcontrol_set_annotate</a></div><div class="ttdeci">int raspicamcontrol_set_annotate(MMAL_COMPONENT_T *camera, const int settings, const char *string, const int text_size, const int text_colour, const int bg_colour, const unsigned int justify, const unsigned int x, const unsigned int y)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/RaspiCamControl_8c_source.html#l01594">RaspiCamControl.c:1594</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_a06d7ea88a753abecdba74eacc5534dac"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#a06d7ea88a753abecdba74eacc5534dac">RASPISTILL_STATE::enableExifTags</a></div><div class="ttdeci">int enableExifTags</div><div class="ttdoc">Number of supplied tags. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00138">RaspiStill.c:138</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a43e3adc8e7b262a35c0fd806f9cf8701"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">MMAL_COMPONENT_T::output</a></div><div class="ttdeci">MMAL_PORT_T ** output</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00073">mmal_component.h:73</a></div></div>
<div class="ttc" id="glext_8h_html_a5cae8ef70015fb2c8d5355c136e7d760"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a></div><div class="ttdeci">GLfixed GLfixed GLfixed GLfixed q</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00677">glext.h:677</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_a86836ec9ebac11835283571cce79a5ab"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#a86836ec9ebac11835283571cce79a5ab">raspicam_camera_parameters_s::annotate_text_colour</a></div><div class="ttdeci">int annotate_text_colour</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00165">RaspiCamControl.h:165</a></div></div>
<div class="ttc" id="group__MMAL__PARAMETER__IDS_html_gga16db4876b192da08f3ad0cb41afe516faf1b41727bfcfb57281376f8d45b01fac"><div class="ttname"><a href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516faf1b41727bfcfb57281376f8d45b01fac">MMAL_PARAMETER_CAMERA_BURST_CAPTURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/mmal__parameters__camera_8h_source.html#l00108">mmal_parameters_camera.h:108</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a842681e910892f6f7324ec8b52c63357"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">RASPICOMMONSETTINGS_PARAMETERS::verbose</a></div><div class="ttdeci">int verbose</div><div class="ttdoc">Sensor mode. 0=auto. Check docs/forum for modes selected by other values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00049">RaspiCommonSettings.h:49</a></div></div>
<div class="ttc" id="bcm__host_8c_html_a025ab636eab15ab5dd55860ee86e0b5f"><div class="ttname"><a href="../../d3/d2b/bcm__host_8c.html#a025ab636eab15ab5dd55860ee86e0b5f">bcm_host_init</a></div><div class="ttdeci">void bcm_host_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/bcm__host_8c_source.html#l00084">bcm_host.c:84</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_a493f4d13988f9a1c3c981421a6ea2831"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#a493f4d13988f9a1c3c981421a6ea2831">raspicam_camera_parameters_s::annotate_y</a></div><div class="ttdeci">unsigned int annotate_y</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00169">RaspiCamControl.h:169</a></div></div>
<div class="ttc" id="mmal__util__params_8c_html_aba9fe4904a386eaa681c7bdbbcf93023"><div class="ttname"><a href="../../db/d48/mmal__util__params_8c.html#aba9fe4904a386eaa681c7bdbbcf93023">mmal_port_parameter_set_boolean</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_parameter_set_boolean(MMAL_PORT_T *port, uint32_t id, MMAL_BOOL_T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d48/mmal__util__params_8c_source.html#l00031">mmal_util_params.c:31</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html">PORT_USERDATA</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00166">RaspiStill.c:166</a></div></div>
<div class="ttc" id="RaspiStill_8c_html_a8cc92011d6ebe2f6c3bd842467181fe0"><div class="ttname"><a href="../../de/d37/RaspiStill_8c.html#a8cc92011d6ebe2f6c3bd842467181fe0">MMAL_CAMERA_PREVIEW_PORT</a></div><div class="ttdeci">#define MMAL_CAMERA_PREVIEW_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00091">RaspiStill.c:91</a></div></div>
<div class="ttc" id="group__MmalQueue_html_gae03a53a1cba809a9c42fefe1af835932"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#gae03a53a1cba809a9c42fefe1af835932">mmal_queue_get</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T * mmal_queue_get(MMAL_QUEUE_T *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00150">mmal_queue.c:150</a></div></div>
<div class="ttc" id="group__MMAL__PARAMETER__IDS_html_gga16db4876b192da08f3ad0cb41afe516fa7d63afa317c4adc763a80fff17d9a6e8"><div class="ttname"><a href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa7d63afa317c4adc763a80fff17d9a6e8">MMAL_PARAMETER_CAPTURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/mmal__parameters__camera_8h_source.html#l00070">mmal_parameters_camera.h:70</a></div></div>
<div class="ttc" id="eglext_8h_html_a769ee876630087de1b07d78b25dcecea"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a></div><div class="ttdeci">EGLContext EGLenum EGLClientBuffer buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00092">eglext.h:92</a></div></div>
<div class="ttc" id="RaspiCamControl_8c_html_a6f2166444b5f3ae0eebddeb252a5d955"><div class="ttname"><a href="../../db/de2/RaspiCamControl_8c.html#a6f2166444b5f3ae0eebddeb252a5d955">raspicamcontrol_check_configuration</a></div><div class="ttdeci">void raspicamcontrol_check_configuration(int min_gpu_mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/RaspiCamControl_8c_source.html#l01773">RaspiCamControl.c:1773</a></div></div>
<div class="ttc" id="structraspicam__camera__parameters__s_html_a580b981c1118c3abb2b79ed2113dc00d"><div class="ttname"><a href="../../d3/d30/structraspicam__camera__parameters__s.html#a580b981c1118c3abb2b79ed2113dc00d">raspicam_camera_parameters_s::annotate_string</a></div><div class="ttdeci">char annotate_string[MMAL_CAMERA_ANNOTATE_MAX_TEXT_LEN_V2]</div><div class="ttdoc">Flag to enable the annotate, 0 = disabled, otherwise a bitmask of what needs to be displayed...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d97/RaspiCamControl_8h_source.html#l00163">RaspiCamControl.h:163</a></div></div>
<div class="ttc" id="structRASPISTILL__STATE_html_abfa611d5cee3930d9b140d711981d8c2"><div class="ttname"><a href="../../df/dd0/structRASPISTILL__STATE.html#abfa611d5cee3930d9b140d711981d8c2">RASPISTILL_STATE::wantRAW</a></div><div class="ttdeci">int wantRAW</div><div class="ttdoc">JPEG quality setting (1-100) </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00129">RaspiStill.c:129</a></div></div>
<div class="ttc" id="group__MMAL__PARAMETER__IDS_html_gga16db4876b192da08f3ad0cb41afe516fa64136e8352ad167b904f125c8cdc1c45"><div class="ttname"><a href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa64136e8352ad167b904f125c8cdc1c45">MMAL_PARAMETER_ENABLE_RAW_CAPTURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/mmal__parameters__camera_8h_source.html#l00084">mmal_parameters_camera.h:84</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_acfab552079d093f29033596575fe69ad"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#acfab552079d093f29033596575fe69ad">connect_ports</a></div><div class="ttdeci">MMAL_STATUS_T connect_ports(MMAL_PORT_T *output_port, MMAL_PORT_T *input_port, MMAL_CONNECTION_T **connection)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00165">RaspiHelpers.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8444d6e0dfe2bbab0b5e7b24308f1559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8444d6e0dfe2bbab0b5e7b24308f1559">&#9670;&nbsp;</a></span>description</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* description</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00243">243</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a0928d8aa3237eb33a48abfb613ff203f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0928d8aa3237eb33a48abfb613ff203f">&#9670;&nbsp;</a></span>encoding</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5cf856e743410d3a43dd395209cb61ab">MMAL_FOURCC_T</a> encoding</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00227">227</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d86/mmal__encode_8c_source.html#l00088">mmal_encode_test()</a>, and <a class="el" href="../../da/d99/mmalomx__roles_8c_source.html#l00146">mmalomx_role_set()</a>.</p>

</div>
</div>
<a id="a5407a229a5e1a319d75fb29542c83eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5407a229a5e1a319d75fb29542c83eae">&#9670;&nbsp;</a></span>format</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="../../dc/dd2/glext_8h.html#a71a65ffd977afe9c3fef116a5bc9ee27">format</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00226">226</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
<a id="a943af03e64f57e0c2111e8796127c517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a943af03e64f57e0c2111e8796127c517">&#9670;&nbsp;</a></span>nextFrameMethod</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nextFrameMethod</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/d37/RaspiStill_8c_source.html#l00244">244</a> of file <a class="el" href="../../de/d37/RaspiStill_8c_source.html">RaspiStill.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

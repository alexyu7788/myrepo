<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: Pools of buffer headers</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Pools of buffer headers</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa7b00993a524d2b72411de224ef9c5af"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#gaa7b00993a524d2b72411de224ef9c5af">MMAL_POOL_T</a></td></tr>
<tr class="separator:gaa7b00993a524d2b72411de224ef9c5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe54c41f0e3e9ea7b2ea63b49546f175"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#gafe54c41f0e3e9ea7b2ea63b49546f175">mmal_pool_allocator_alloc_t</a>) (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *context, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a>)</td></tr>
<tr class="separator:gafe54c41f0e3e9ea7b2ea63b49546f175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c2490e9da8d09cf3c677f264b0c88a2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#ga1c2490e9da8d09cf3c677f264b0c88a2">mmal_pool_allocator_free_t</a>) (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *context, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *<a class="el" href="../../da/d8c/font_8c.html#a5f00e9b1b039412bb144bae39e66b97a">mem</a>)</td></tr>
<tr class="separator:ga1c2490e9da8d09cf3c677f264b0c88a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadeb3166a25e672cbddd0a50a7e053843"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#gadeb3166a25e672cbddd0a50a7e053843">MMAL_POOL_BH_CB_T</a>) (<a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool, <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="el" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a>, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *userdata)</td></tr>
<tr class="separator:gadeb3166a25e672cbddd0a50a7e053843"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga88abb9b58d7c2509640231b9fb905d58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#ga88abb9b58d7c2509640231b9fb905d58">mmal_pool_create</a> (unsigned int headers, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> payload_size)</td></tr>
<tr class="separator:ga88abb9b58d7c2509640231b9fb905d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20230c4fff4a8db01fd5f8ae85bc685a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#ga20230c4fff4a8db01fd5f8ae85bc685a">mmal_pool_create_with_allocator</a> (unsigned int headers, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> payload_size, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *allocator_context, <a class="el" href="../../d8/d6d/group__MmalPool.html#gafe54c41f0e3e9ea7b2ea63b49546f175">mmal_pool_allocator_alloc_t</a> allocator_alloc, <a class="el" href="../../d8/d6d/group__MmalPool.html#ga1c2490e9da8d09cf3c677f264b0c88a2">mmal_pool_allocator_free_t</a> allocator_free)</td></tr>
<tr class="separator:ga20230c4fff4a8db01fd5f8ae85bc685a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga392efa95efde822ddec1187aa7332a3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#ga392efa95efde822ddec1187aa7332a3d">mmal_pool_destroy</a> (<a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool)</td></tr>
<tr class="separator:ga392efa95efde822ddec1187aa7332a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaafbd65fabba428d264574e84b567c660"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#gaafbd65fabba428d264574e84b567c660">mmal_pool_resize</a> (<a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool, unsigned int headers, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> payload_size)</td></tr>
<tr class="separator:gaafbd65fabba428d264574e84b567c660"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad4521024f79a79db48e7d178460909c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#gaad4521024f79a79db48e7d178460909c">mmal_pool_callback_set</a> (<a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool, <a class="el" href="../../d8/d6d/group__MmalPool.html#gadeb3166a25e672cbddd0a50a7e053843">MMAL_POOL_BH_CB_T</a> cb, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *userdata)</td></tr>
<tr class="separator:gaad4521024f79a79db48e7d178460909c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab12972d9de1b76e885dcc47cb67a49eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d6d/group__MmalPool.html#gab12972d9de1b76e885dcc47cb67a49eb">mmal_pool_pre_release_callback_set</a> (<a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool, <a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga83d2d9944c72cbac55332fefcd48fc9a">MMAL_BH_PRE_RELEASE_CB_T</a> cb, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *userdata)</td></tr>
<tr class="separator:gab12972d9de1b76e885dcc47cb67a49eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A pool of buffer headers is composed of a queue (<a class="el" href="../../d3/dc0/structMMAL__QUEUE__T.html">MMAL_QUEUE_T</a>) and a user specified number of buffer headers (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>). </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gafe54c41f0e3e9ea7b2ea63b49546f175"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe54c41f0e3e9ea7b2ea63b49546f175">&#9670;&nbsp;</a></span>mmal_pool_allocator_alloc_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>*(* mmal_pool_allocator_alloc_t) (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *context, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocator alloc prototype</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context pointer passed in on pool creation. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the allocation required, in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the newly allocated memory, or NULL on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00056">56</a> of file <a class="el" href="../../d9/dee/mmal__pool_8h_source.html">mmal_pool.h</a>.</p>

</div>
</div>
<a id="ga1c2490e9da8d09cf3c677f264b0c88a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c2490e9da8d09cf3c677f264b0c88a2">&#9670;&nbsp;</a></span>mmal_pool_allocator_free_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>(* mmal_pool_allocator_free_t) (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *context, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *<a class="el" href="../../da/d8c/font_8c.html#a5f00e9b1b039412bb144bae39e66b97a">mem</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocator free prototype</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context pointer passed in on pool creation. </td></tr>
    <tr><td class="paramname">mem</td><td>The pointer to the memory to be released. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00062">62</a> of file <a class="el" href="../../d9/dee/mmal__pool_8h_source.html">mmal_pool.h</a>.</p>

</div>
</div>
<a id="gadeb3166a25e672cbddd0a50a7e053843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadeb3166a25e672cbddd0a50a7e053843">&#9670;&nbsp;</a></span>MMAL_POOL_BH_CB_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d4/df4/mmal__common_8h.html#a742cabbbb0702147feb03e1d9eac7096">MMAL_BOOL_T</a>(* MMAL_POOL_BH_CB_T) (<a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool, <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="el" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a>, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *userdata)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition of the callback used by a pool to signal back to the user that a buffer header has been released back to the pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pointer to the pool </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer header just released </td></tr>
    <tr><td class="paramname">userdata</td><td>User specific data passed in when setting the callback </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True to have the buffer header put back in the pool's queue, false if the buffer header has been taken within the callback. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00140">140</a> of file <a class="el" href="../../d9/dee/mmal__pool_8h_source.html">mmal_pool.h</a>.</p>

</div>
</div>
<a id="gaa7b00993a524d2b72411de224ef9c5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7b00993a524d2b72411de224ef9c5af">&#9670;&nbsp;</a></span>MMAL_POOL_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a>  <a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Definition of a pool </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaad4521024f79a79db48e7d178460909c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad4521024f79a79db48e7d178460909c">&#9670;&nbsp;</a></span>mmal_pool_callback_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_pool_callback_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d6d/group__MmalPool.html#gadeb3166a25e672cbddd0a50a7e053843">MMAL_POOL_BH_CB_T</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a buffer header release callback to the pool. Each time a buffer header is released to the pool, the callback will be triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pointer to a pool </td></tr>
    <tr><td class="paramname">cb</td><td>Callback function </td></tr>
    <tr><td class="paramname">userdata</td><td>User specific data which will be passed with each callback</td></tr>
  </table>
  </dd>
</dl>
<p>Set a buffer header release callback to the pool </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00283">283</a> of file <a class="el" href="../../d4/d09/mmal__pool_8c_source.html">mmal_pool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00038">MMAL_POOL_PRIVATE_T::cb</a>, and <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00039">MMAL_POOL_PRIVATE_T::userdata</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/mmal__connection_8c_source.html#l00157">mmal_connection_create()</a>, and <a class="el" href="../../df/d67/mmal__component__wrapper_8c_source.html#l00133">mmal_wrapper_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;{</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a> *<span class="keyword">private</span> = (<a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a> *)pool;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;   <span class="keyword">private</span>-&gt;cb = cb;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;   <span class="keyword">private</span>-&gt;userdata = userdata;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="ttc" id="structMMAL__POOL__PRIVATE__T_html"><div class="ttname"><a href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00034">mmal_pool.c:34</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga88abb9b58d7c2509640231b9fb905d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88abb9b58d7c2509640231b9fb905d58">&#9670;&nbsp;</a></span>mmal_pool_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a>* mmal_pool_create </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>. After allocation, all allocated buffer headers will have been added to the queue.</p>
<p>It is valid to create a pool with no buffer headers, or with zero size payload buffers. The <a class="el" href="../../d8/d6d/group__MmalPool.html#gaafbd65fabba428d264574e84b567c660">mmal_pool_resize()</a> function can be used to increase or decrease the number of buffer headers, or the size of the payload buffers, after creation of the pool.</p>
<p>The payload buffers may also be allocated independently by the client, and assigned to the buffer headers, but it will be the responsibility of the client to deal with resizing and releasing the memory. It is recommended that <a class="el" href="../../d8/d6d/group__MmalPool.html#ga20230c4fff4a8db01fd5f8ae85bc685a">mmal_pool_create_with_allocator()</a> is used in this case, supplying allocator function pointers that will be used as necessary by MMAL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">headers</td><td>Number of buffer headers to be allocated with the pool. </td></tr>
    <tr><td class="paramname">payload_size</td><td>Size of the payload buffer that will be allocated in each of the buffer headers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created pool or NULL on failure.</dd></dl>
<p>Create a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00120">120</a> of file <a class="el" href="../../d4/d09/mmal__pool_8c_source.html">mmal_pool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00127">mmal_pool_create_with_allocator()</a>, and <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;{</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d6d/group__MmalPool.html#ga20230c4fff4a8db01fd5f8ae85bc685a">mmal_pool_create_with_allocator</a>(headers, payload_size, <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;             mmal_pool_allocator_default_alloc, mmal_pool_allocator_default_free);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="group__MmalPool_html_ga20230c4fff4a8db01fd5f8ae85bc685a"><div class="ttname"><a href="../../d8/d6d/group__MmalPool.html#ga20230c4fff4a8db01fd5f8ae85bc685a">mmal_pool_create_with_allocator</a></div><div class="ttdeci">MMAL_POOL_T * mmal_pool_create_with_allocator(unsigned int headers, uint32_t payload_size, void *allocator_context, mmal_pool_allocator_alloc_t allocator_alloc, mmal_pool_allocator_free_t allocator_free)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00127">mmal_pool.c:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga20230c4fff4a8db01fd5f8ae85bc685a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20230c4fff4a8db01fd5f8ae85bc685a">&#9670;&nbsp;</a></span>mmal_pool_create_with_allocator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a>* mmal_pool_create_with_allocator </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>payload_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>allocator_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d6d/group__MmalPool.html#gafe54c41f0e3e9ea7b2ea63b49546f175">mmal_pool_allocator_alloc_t</a>&#160;</td>
          <td class="paramname"><em>allocator_alloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d6d/group__MmalPool.html#ga1c2490e9da8d09cf3c677f264b0c88a2">mmal_pool_allocator_free_t</a>&#160;</td>
          <td class="paramname"><em>allocator_free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>. After allocation, all allocated buffer headers will have been added to the queue.</p>
<p>It is valid to create a pool with no buffer headers, or with zero size payload buffers. The <a class="el" href="../../d8/d6d/group__MmalPool.html#gaafbd65fabba428d264574e84b567c660">mmal_pool_resize()</a> function can be used to increase or decrease the number of buffer headers, or the size of the payload buffers, after creation of the pool. The allocators passed during creation shall be used when resizing the payload buffers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">headers</td><td>Number of buffer headers to be allocated with the pool. </td></tr>
    <tr><td class="paramname">payload_size</td><td>Size of the payload buffer that will be allocated in each of the buffer headers. </td></tr>
    <tr><td class="paramname">allocator_context</td><td>Pointer to the context of the allocator. </td></tr>
    <tr><td class="paramname">allocator_alloc</td><td>Function pointer for the alloc call of the allocator. </td></tr>
    <tr><td class="paramname">allocator_free</td><td>Function pointer for the free call of the allocator.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created pool or NULL on failure.</dd></dl>
<p>Create a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00127">127</a> of file <a class="el" href="../../d4/d09/mmal__pool_8c_source.html">mmal_pool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00053">ALIGN</a>, <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00047">MMAL_POOL_T::header</a>, <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00045">MMAL_POOL_PRIVATE_T::header_size</a>, <a class="el" href="../../df/da3/containers__logging_8h_source.html#l00062">LOG_ERROR</a>, <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00112">mmal_buffer_header_size()</a>, <a class="el" href="../../da/dd6/mmal__queue_8c_source.html#l00059">mmal_queue_create()</a>, <a class="el" href="../../da/dd6/mmal__queue_8c_source.html#l00192">mmal_queue_destroy()</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00046">MMAL_POOL_PRIVATE_T::payload_size</a>, <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00036">MMAL_POOL_PRIVATE_T::pool</a>, <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00045">MMAL_POOL_T::queue</a>, <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00052">ROUND_UP</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc()</a>, and <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00120">mmal_pool_create()</a>, and <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00280">mmal_port_pool_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i, headers_array_size, header_size, pool_size;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;   <a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a> *<span class="keyword">private</span>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> **array;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;   <a class="code" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <a class="code" href="../../d3/dc0/structMMAL__QUEUE__T.html">MMAL_QUEUE_T</a> *queue;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   queue = <a class="code" href="../../d8/d82/group__MmalQueue.html#gacafb60bc36fdb1de9b802335cb1488bc">mmal_queue_create</a>();</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;   <span class="keywordflow">if</span> (!queue)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;failed to create queue&quot;</span>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;   }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;   <span class="comment">/* Calculate how much memory we need */</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   pool_size = <a class="code" href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a>(<span class="keyword">sizeof</span>(<a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a>),<a class="code" href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;   headers_array_size = <a class="code" href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *)*headers,<a class="code" href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a>);</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   header_size = <a class="code" href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a>(<a class="code" href="../../df/d0f/mmal__buffer_8c.html#a1f43430e6a23a68bd9c7b4fa8975c4ad">mmal_buffer_header_size</a>(0),<a class="code" href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;allocating %u + %u + %u * %u bytes for pool&quot;</span>,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;             pool_size, headers_array_size, header_size, headers);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   <span class="keyword">private</span> = <a class="code" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a>(pool_size, 1, <span class="stringliteral">&quot;MMAL pool&quot;</span>);</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   array = <a class="code" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a>(headers_array_size + header_size * headers, 1, <span class="stringliteral">&quot;MMAL buffer headers&quot;</span>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;   <span class="keywordflow">if</span> (!<span class="keyword">private</span> || !array)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   {</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;failed to allocate pool&quot;</span>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">if</span> (<span class="keyword">private</span>) <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(<span class="keyword">private</span>);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">if</span> (array) <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(array);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="../../d8/d82/group__MmalQueue.html#ga4caac58e82878025213b922cc6815863">mmal_queue_destroy</a>(queue);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;   pool = &amp;<span class="keyword">private</span>-&gt;pool;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a> = queue;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a> = (<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> **)array;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keyword">private</span>-&gt;header_size = header_size;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;   <span class="keyword">private</span>-&gt;payload_size = payload_size;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keyword">private</span>-&gt;headers_alloc_num = headers;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <span class="comment">/* Use default allocators if none has been specified by client */</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">if</span> (!allocator_alloc || !allocator_free)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;   {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      allocator_alloc = mmal_pool_allocator_default_alloc;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      allocator_free = mmal_pool_allocator_default_free;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      allocator_context = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;   }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   <span class="comment">/* Keep reference to the allocator to allow resizing the payloads at a later point */</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keyword">private</span>-&gt;allocator_alloc = allocator_alloc;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <span class="keyword">private</span>-&gt;allocator_free = allocator_free;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keyword">private</span>-&gt;allocator_context = allocator_context;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <span class="keywordflow">if</span> (mmal_pool_initialise_buffer_headers(pool, headers, 1) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <a class="code" href="../../d8/d6d/group__MmalPool.html#ga392efa95efde822ddec1187aa7332a3d">mmal_pool_destroy</a>(pool);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <span class="comment">/* Add all the headers to the queue */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a>; i++)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="../../d8/d82/group__MmalQueue.html#gaf31ecd6f4922699de7dad98e79e69a2b">mmal_queue_put</a>(queue, pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>[i]);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <span class="keywordflow">return</span> pool;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;}</div><div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00043">mmal_pool.h:43</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_ae4175dd1f85f1adbe6be2dc4207fb064"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">MMAL_POOL_T::queue</a></div><div class="ttdeci">MMAL_QUEUE_T * queue</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00045">mmal_pool.h:45</a></div></div>
<div class="ttc" id="mmal__buffer_8c_html_a1f43430e6a23a68bd9c7b4fa8975c4ad"><div class="ttname"><a href="../../df/d0f/mmal__buffer_8c.html#a1f43430e6a23a68bd9c7b4fa8975c4ad">mmal_buffer_header_size</a></div><div class="ttdeci">unsigned int mmal_buffer_header_size(MMAL_BUFFER_HEADER_T *header)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0f/mmal__buffer_8c_source.html#l00112">mmal_buffer.c:112</a></div></div>
<div class="ttc" id="structMMAL__POOL__PRIVATE__T_html"><div class="ttname"><a href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00034">mmal_pool.c:34</a></div></div>
<div class="ttc" id="group__MmalQueue_html_ga4caac58e82878025213b922cc6815863"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#ga4caac58e82878025213b922cc6815863">mmal_queue_destroy</a></div><div class="ttdeci">void mmal_queue_destroy(MMAL_QUEUE_T *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00192">mmal_queue.c:192</a></div></div>
<div class="ttc" id="containers__logging_8h_html_a630f492d1b5c86dcf31edd7280006c45"><div class="ttname"><a href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/containers__logging_8h_source.html#l00062">containers_logging.h:62</a></div></div>
<div class="ttc" id="structMMAL__QUEUE__T_html"><div class="ttname"><a href="../../d3/dc0/structMMAL__QUEUE__T.html">MMAL_QUEUE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00032">mmal_queue.c:32</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_a7759d85a5e6d760910600910404f0a89"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_calloc(VCOS_UNSIGNED num, VCOS_UNSIGNED size, const char *description)</div></div>
<div class="ttc" id="mmal__pool_8c_html_ae4ff5a07c6ff43ed11a3887ef7d524f2"><div class="ttname"><a href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a></div><div class="ttdeci">#define ALIGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00053">mmal_pool.c:53</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_a59bcd8e2a7848b1b1c7a1c03dc24981f"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">MMAL_POOL_T::headers_num</a></div><div class="ttdeci">uint32_t headers_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00046">mmal_pool.h:46</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00069">mmal_buffer.h:69</a></div></div>
<div class="ttc" id="group__MmalQueue_html_gaf31ecd6f4922699de7dad98e79e69a2b"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#gaf31ecd6f4922699de7dad98e79e69a2b">mmal_queue_put</a></div><div class="ttdeci">void mmal_queue_put(MMAL_QUEUE_T *queue, MMAL_BUFFER_HEADER_T *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00090">mmal_queue.c:90</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="group__MmalPool_html_ga392efa95efde822ddec1187aa7332a3d"><div class="ttname"><a href="../../d8/d6d/group__MmalPool.html#ga392efa95efde822ddec1187aa7332a3d">mmal_pool_destroy</a></div><div class="ttdeci">void mmal_pool_destroy(MMAL_POOL_T *pool)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00195">mmal_pool.c:195</a></div></div>
<div class="ttc" id="group__MmalQueue_html_gacafb60bc36fdb1de9b802335cb1488bc"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#gacafb60bc36fdb1de9b802335cb1488bc">mmal_queue_create</a></div><div class="ttdeci">MMAL_QUEUE_T * mmal_queue_create(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00059">mmal_queue.c:59</a></div></div>
<div class="ttc" id="mmal__pool_8c_html_a3da2c01739fd5836173628e5dc25ecfc"><div class="ttname"><a href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a></div><div class="ttdeci">#define ROUND_UP(s, align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00052">mmal_pool.c:52</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="structMMAL__POOL__T_html_af333166ac19b25fa476ef58832769957"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">MMAL_POOL_T::header</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T ** header</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00047">mmal_pool.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga392efa95efde822ddec1187aa7332a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga392efa95efde822ddec1187aa7332a3d">&#9670;&nbsp;</a></span>mmal_pool_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_pool_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>. This will also deallocate all of the memory which was allocated when creating or resizing the pool.</p>
<p>If payload buffers have been allocated independently by the client, they should be released prior to calling this function. If the client provided allocator functions, the allocator_free function shall be called for each payload buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pointer to a pool</td></tr>
  </table>
  </dd>
</dl>
<p>Destroy a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00195">195</a> of file <a class="el" href="../../d4/d09/mmal__pool_8c_source.html">mmal_pool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00047">MMAL_POOL_T::header</a>, <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00046">MMAL_POOL_T::headers_num</a>, <a class="el" href="../../da/dd6/mmal__queue_8c_source.html#l00192">mmal_queue_destroy()</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00059">MMAL_BUFFER_HEADER_PRIVATE_T::payload</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00060">MMAL_BUFFER_HEADER_PRIVATE_T::payload_context</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00061">MMAL_BUFFER_HEADER_PRIVATE_T::payload_size</a>, <a class="el" href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00058">MMAL_BUFFER_HEADER_PRIVATE_T::pf_payload_free</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00073">MMAL_BUFFER_HEADER_T::priv</a>, <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00045">MMAL_POOL_T::queue</a>, and <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00295">mmal_port_pool_destroy()</a>, <a class="el" href="../../df/d67/mmal__component__wrapper_8c_source.html#l00103">mmal_wrapper_destroy()</a>, <a class="el" href="../../d2/d7b/mmalomx__core_8c_source.html#l01350">OMX_FreeHandle()</a>, <a class="el" href="../../d5/d34/RaspiTex_8c_source.html#l00614">raspitex_destroy()</a>, and <a class="el" href="../../d1/d8c/svp_8c_source.html#l00327">svp_destroy()</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">if</span> (!pool)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="comment">/* If the payload_size is non-zero then the buffer header payload</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">    * must be freed. Otherwise it is the caller&#39;s responsibility. */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a>; ++i)</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html">MMAL_BUFFER_HEADER_PRIVATE_T</a>* priv = pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>[i]-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">priv</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;      <span class="keywordflow">if</span> (priv-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a24a2b8790bf27c53b331b58a78c55981">pf_payload_free</a> &amp;&amp; priv-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#ade3dafbc4301be455987ec132d62eb11">payload</a> &amp;&amp; priv-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a0ab626d6b333e239d1a34af7b92a0d27">payload_size</a>)</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;         priv-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a24a2b8790bf27c53b331b58a78c55981">pf_payload_free</a>(priv-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#aed51d70835f88a0231be7fc11f1647c1">payload_context</a>, priv-&gt;<a class="code" href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#ade3dafbc4301be455987ec132d62eb11">payload</a>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="keywordflow">if</span> (pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>);</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   <span class="keywordflow">if</span>(pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>) <a class="code" href="../../d8/d82/group__MmalQueue.html#ga4caac58e82878025213b922cc6815863">mmal_queue_destroy</a>(pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(pool);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div><div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a24a2b8790bf27c53b331b58a78c55981"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a24a2b8790bf27c53b331b58a78c55981">MMAL_BUFFER_HEADER_PRIVATE_T::pf_payload_free</a></div><div class="ttdeci">void(* pf_payload_free)(void *payload_context, void *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00058">mmal_buffer_private.h:58</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_aed51d70835f88a0231be7fc11f1647c1"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#aed51d70835f88a0231be7fc11f1647c1">MMAL_BUFFER_HEADER_PRIVATE_T::payload_context</a></div><div class="ttdeci">void * payload_context</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00060">mmal_buffer_private.h:60</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_ae4175dd1f85f1adbe6be2dc4207fb064"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">MMAL_POOL_T::queue</a></div><div class="ttdeci">MMAL_QUEUE_T * queue</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00045">mmal_pool.h:45</a></div></div>
<div class="ttc" id="group__MmalQueue_html_ga4caac58e82878025213b922cc6815863"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#ga4caac58e82878025213b922cc6815863">mmal_queue_destroy</a></div><div class="ttdeci">void mmal_queue_destroy(MMAL_QUEUE_T *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00192">mmal_queue.c:192</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html">MMAL_BUFFER_HEADER_PRIVATE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00038">mmal_buffer_private.h:38</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_a59bcd8e2a7848b1b1c7a1c03dc24981f"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">MMAL_POOL_T::headers_num</a></div><div class="ttdeci">uint32_t headers_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00046">mmal_pool.h:46</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a39802e3bb44e748820b53832f5322106"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a39802e3bb44e748820b53832f5322106">MMAL_BUFFER_HEADER_T::priv</a></div><div class="ttdeci">struct MMAL_BUFFER_HEADER_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00073">mmal_buffer.h:73</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_ade3dafbc4301be455987ec132d62eb11"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#ade3dafbc4301be455987ec132d62eb11">MMAL_BUFFER_HEADER_PRIVATE_T::payload</a></div><div class="ttdeci">void * payload</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00059">mmal_buffer_private.h:59</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="structMMAL__POOL__T_html_af333166ac19b25fa476ef58832769957"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">MMAL_POOL_T::header</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T ** header</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00047">mmal_pool.h:47</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__PRIVATE__T_html_a0ab626d6b333e239d1a34af7b92a0d27"><div class="ttname"><a href="../../d7/dda/structMMAL__BUFFER__HEADER__PRIVATE__T.html#a0ab626d6b333e239d1a34af7b92a0d27">MMAL_BUFFER_HEADER_PRIVATE_T::payload_size</a></div><div class="ttdeci">uint32_t payload_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc4/mmal__buffer__private_8h_source.html#l00061">mmal_buffer_private.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gab12972d9de1b76e885dcc47cb67a49eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab12972d9de1b76e885dcc47cb67a49eb">&#9670;&nbsp;</a></span>mmal_pool_pre_release_callback_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_pool_pre_release_callback_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d42/group__MmalBufferHeader.html#ga83d2d9944c72cbac55332fefcd48fc9a">MMAL_BH_PRE_RELEASE_CB_T</a>&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>userdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a pre-release callback for all buffer headers in the pool. Each time a buffer header is about to be released to the pool, the callback will be triggered.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pointer to the pool </td></tr>
    <tr><td class="paramname">cb</td><td>Pre-release callback function </td></tr>
    <tr><td class="paramname">userdata</td><td>User-specific data passed back with each callback </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00291">291</a> of file <a class="el" href="../../d4/d09/mmal__pool_8c_source.html">mmal_pool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00053">ALIGN</a>, <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00047">MMAL_POOL_T::header</a>, <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00046">MMAL_POOL_T::headers_num</a>, <a class="el" href="../../df/d0f/mmal__buffer_8c_source.html#l00184">mmal_buffer_header_pre_release_cb_set()</a>, and <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00052">ROUND_UP</a>.</p>
<div class="fragment"><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;{</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;   <a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a> *<span class="keyword">private</span> = (<a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a> *)pool;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;   <a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *header =</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         (<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>*)((<a class="code" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a> + <a class="code" href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span>*)*pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a>,<a class="code" href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a>));</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a>; ++i)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="../../d6/d42/group__MmalBufferHeader.html#ga0a760f6cb1ed797372babe58c16ce98a">mmal_buffer_header_pre_release_cb_set</a>(header, cb, userdata);</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      header = (<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *)((<a class="code" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>*)header + <span class="keyword">private</span>-&gt;header_size);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;   }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div><div class="ttc" id="group__MmalBufferHeader_html_ga0a760f6cb1ed797372babe58c16ce98a"><div class="ttname"><a href="../../d6/d42/group__MmalBufferHeader.html#ga0a760f6cb1ed797372babe58c16ce98a">mmal_buffer_header_pre_release_cb_set</a></div><div class="ttdeci">void mmal_buffer_header_pre_release_cb_set(MMAL_BUFFER_HEADER_T *header, MMAL_BH_PRE_RELEASE_CB_T cb, void *userdata)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d0f/mmal__buffer_8c_source.html#l00184">mmal_buffer.c:184</a></div></div>
<div class="ttc" id="structMMAL__POOL__PRIVATE__T_html"><div class="ttname"><a href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00034">mmal_pool.c:34</a></div></div>
<div class="ttc" id="mmal__pool_8c_html_ae4ff5a07c6ff43ed11a3887ef7d524f2"><div class="ttname"><a href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a></div><div class="ttdeci">#define ALIGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00053">mmal_pool.c:53</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_a59bcd8e2a7848b1b1c7a1c03dc24981f"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">MMAL_POOL_T::headers_num</a></div><div class="ttdeci">uint32_t headers_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00046">mmal_pool.h:46</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00069">mmal_buffer.h:69</a></div></div>
<div class="ttc" id="containers__types_8h_html_aba7bc1797add20fe3efdf37ced1182c5"><div class="ttname"><a href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a></div><div class="ttdeci">unsigned char uint8_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5f/containers__types_8h_source.html#l00069">containers_types.h:69</a></div></div>
<div class="ttc" id="mmal__pool_8c_html_a3da2c01739fd5836173628e5dc25ecfc"><div class="ttname"><a href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a></div><div class="ttdeci">#define ROUND_UP(s, align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00052">mmal_pool.c:52</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_af333166ac19b25fa476ef58832769957"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">MMAL_POOL_T::header</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T ** header</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00047">mmal_pool.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaafbd65fabba428d264574e84b567c660"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaafbd65fabba428d264574e84b567c660">&#9670;&nbsp;</a></span>mmal_pool_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> mmal_pool_resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resize a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a>. This allows modifying either the number of allocated buffers, the payload size or both at the same time.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pointer to the pool </td></tr>
    <tr><td class="paramname">headers</td><td>New number of buffer headers to be allocated in the pool. It is not valid to pass zero for the number of buffers. </td></tr>
    <tr><td class="paramname">payload_size</td><td>Size of the payload buffer that will be allocated in each of the buffer headers. If this is set to 0, all payload buffers shall be released. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MMAL_SUCCESS or an error on failure.</dd></dl>
<p>Resize a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> </p>

<p class="definition">Definition at line <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00220">220</a> of file <a class="el" href="../../d4/d09/mmal__pool_8c_source.html">mmal_pool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00046">MMAL_POOL_T::headers_num</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00051">MMAL_EINVAL</a>, <a class="el" href="../../da/dd6/mmal__queue_8c_source.html#l00150">mmal_queue_get()</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00048">MMAL_SUCCESS</a>, and <a class="el" href="../../d9/dee/mmal__pool_8h_source.html#l00045">MMAL_POOL_T::queue</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/mmal__connection_8c_source.html#l00286">mmal_connection_enable()</a>, and <a class="el" href="../../df/d67/mmal__component__wrapper_8c_source.html#l00217">mmal_wrapper_port_enable()</a>.</p>
<div class="fragment"><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;{</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   <a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a> *<span class="keyword">private</span> = (<a class="code" href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a> *)pool;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keywordflow">if</span> (!<span class="keyword">private</span> || !headers)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9">MMAL_EINVAL</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="comment">/* Check if anything needs to be done */</span></div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   <span class="keywordflow">if</span> (headers == pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a> &amp;&amp; payload_size == private-&gt;payload_size)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="comment">/* Remove all the headers from the queue */</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a>; i++)</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <a class="code" href="../../d8/d82/group__MmalQueue.html#gae03a53a1cba809a9c42fefe1af835932">mmal_queue_get</a>(pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   <span class="comment">/* Start by freeing the current payloads */</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   <span class="keyword">private</span>-&gt;payload_size = 0;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;   mmal_pool_initialise_buffer_headers(pool, pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a>, 0);</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a> = 0;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <span class="comment">/* Check if we need to reallocate the buffer headers themselves */</span></div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <span class="keywordflow">if</span> (headers &gt; private-&gt;headers_alloc_num)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keyword">private</span>-&gt;headers_alloc_num = 0;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">if</span> (pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;         <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a> =</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;         <a class="code" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a>(private-&gt;header_size * headers + <a class="code" href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *)*headers,<a class="code" href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a>),</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                     1, <span class="stringliteral">&quot;MMAL buffer headers&quot;</span>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">if</span> (!pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>)</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;         <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e">MMAL_ENOMEM</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keyword">private</span>-&gt;headers_alloc_num = headers;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="comment">/* Allocate the new payloads */</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keyword">private</span>-&gt;payload_size = payload_size;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   mmal_pool_initialise_buffer_headers(pool, headers, 1);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   <span class="comment">/* Add all the headers to the queue */</span></div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">headers_num</a>; i++)</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <a class="code" href="../../d8/d82/group__MmalQueue.html#gaf31ecd6f4922699de7dad98e79e69a2b">mmal_queue_put</a>(pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>, pool-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">header</a>[i]);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="ttc" id="structMMAL__POOL__T_html_ae4175dd1f85f1adbe6be2dc4207fb064"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">MMAL_POOL_T::queue</a></div><div class="ttdeci">MMAL_QUEUE_T * queue</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00045">mmal_pool.h:45</a></div></div>
<div class="ttc" id="structMMAL__POOL__PRIVATE__T_html"><div class="ttname"><a href="../../d1/d02/structMMAL__POOL__PRIVATE__T.html">MMAL_POOL_PRIVATE_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00034">mmal_pool.c:34</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e">MMAL_ENOMEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00049">mmal_types.h:49</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_a7759d85a5e6d760910600910404f0a89"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_calloc(VCOS_UNSIGNED num, VCOS_UNSIGNED size, const char *description)</div></div>
<div class="ttc" id="mmal__pool_8c_html_ae4ff5a07c6ff43ed11a3887ef7d524f2"><div class="ttname"><a href="../../d4/d09/mmal__pool_8c.html#ae4ff5a07c6ff43ed11a3887ef7d524f2">ALIGN</a></div><div class="ttdeci">#define ALIGN</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00053">mmal_pool.c:53</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_a59bcd8e2a7848b1b1c7a1c03dc24981f"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#a59bcd8e2a7848b1b1c7a1c03dc24981f">MMAL_POOL_T::headers_num</a></div><div class="ttdeci">uint32_t headers_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00046">mmal_pool.h:46</a></div></div>
<div class="ttc" id="group__MmalQueue_html_gaf31ecd6f4922699de7dad98e79e69a2b"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#gaf31ecd6f4922699de7dad98e79e69a2b">mmal_queue_put</a></div><div class="ttdeci">void mmal_queue_put(MMAL_QUEUE_T *queue, MMAL_BUFFER_HEADER_T *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00090">mmal_queue.c:90</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0dfa9fba2aa6047d439302a6b942a7f9">MMAL_EINVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00051">mmal_types.h:51</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="mmal__pool_8c_html_a3da2c01739fd5836173628e5dc25ecfc"><div class="ttname"><a href="../../d4/d09/mmal__pool_8c.html#a3da2c01739fd5836173628e5dc25ecfc">ROUND_UP</a></div><div class="ttdeci">#define ROUND_UP(s, align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00052">mmal_pool.c:52</a></div></div>
<div class="ttc" id="group__MmalQueue_html_gae03a53a1cba809a9c42fefe1af835932"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#gae03a53a1cba809a9c42fefe1af835932">mmal_queue_get</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T * mmal_queue_get(MMAL_QUEUE_T *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00150">mmal_queue.c:150</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="structMMAL__POOL__T_html_af333166ac19b25fa476ef58832769957"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#af333166ac19b25fa476ef58832769957">MMAL_POOL_T::header</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T ** header</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00047">mmal_pool.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: host_applications/linux/apps/raspicam/RaspiVidYUV.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_195c69405b3ccf68dc267e50a7607549.html">host_applications</a></li><li class="navelem"><a class="el" href="../../dir_ae667c0685e91b0f02394ef15b55cb69.html">linux</a></li><li class="navelem"><a class="el" href="../../dir_828b50a65cb82fa3a052ff0ddf76562c.html">apps</a></li><li class="navelem"><a class="el" href="../../dir_62c16307d7e2e5fb3d32f35d248c8245.html">raspicam</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">RaspiVidYUV.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;memory.h&gt;</code><br />
<code>#include &lt;sysexits.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d7/dc4/bcm__host_8h_source.html">bcm_host.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/de3/vcos_8h_source.html">interface/vcos/vcos.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/de1/mmal_8h_source.html">interface/mmal/mmal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/dea/mmal__logging_8h_source.html">interface/mmal/mmal_logging.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/d47/mmal__buffer_8h_source.html">interface/mmal/mmal_buffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d12/mmal__util_8h_source.html">interface/mmal/util/mmal_util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/dbd/mmal__util__params_8h_source.html">interface/mmal/util/mmal_util_params.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/ddf/mmal__default__components_8h_source.html">interface/mmal/util/mmal_default_components.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/db3/mmal__connection_8h_source.html">interface/mmal/util/mmal_connection.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d4c/RaspiCommonSettings_8h_source.html">RaspiCommonSettings.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/d97/RaspiCamControl_8h_source.html">RaspiCamControl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d05/RaspiPreview_8h_source.html">RaspiPreview.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d60/RaspiCLI_8h_source.html">RaspiCLI.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d0d/RaspiHelpers_8h_source.html">RaspiHelpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d3e/RaspiGPS_8h_source.html">RaspiGPS.h</a>&quot;</code><br />
<code>#include &lt;semaphore.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for RaspiVidYUV.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d86/RaspiVidYUV_8c__incl.png" border="0" usemap="#host__applications_2linux_2apps_2raspicam_2RaspiVidYUV_8c" alt=""/></div>
<map name="host__applications_2linux_2apps_2raspicam_2RaspiVidYUV_8c" id="host__applications_2linux_2apps_2raspicam_2RaspiVidYUV_8c">
<area shape="rect" id="node12" href="../../d7/dc4/bcm__host_8h.html" title="bcm_host.h" alt="" coords="1139,191,1229,218"/>
<area shape="rect" id="node15" href="../../d4/de3/vcos_8h.html" title="interface/vcos/vcos.h" alt="" coords="1192,370,1339,397"/>
<area shape="rect" id="node37" href="../../df/de1/mmal_8h.html" title="interface/mmal/mmal.h" alt="" coords="2301,191,2456,218"/>
<area shape="rect" id="node39" href="../../d4/dea/mmal__logging_8h.html" title="interface/mmal/mmal\l_logging.h" alt="" coords="2133,184,2277,225"/>
<area shape="rect" id="node40" href="../../de/d47/mmal__buffer_8h.html" title="mmal_buffer.h" alt="" coords="3311,102,3417,129"/>
<area shape="rect" id="node41" href="../../d0/d12/mmal__util_8h.html" title="interface/mmal/util\l/mmal_util.h" alt="" coords="2403,95,2533,136"/>
<area shape="rect" id="node42" href="../../d2/dbd/mmal__util__params_8h.html" title="interface/mmal/util\l/mmal_util_params.h" alt="" coords="2185,95,2327,136"/>
<area shape="rect" id="node43" href="../../d3/ddf/mmal__default__components_8h.html" title="interface/mmal/util\l/mmal_default_components.h" alt="" coords="3441,95,3634,136"/>
<area shape="rect" id="node44" href="../../db/db3/mmal__connection_8h.html" title="interface/mmal/util\l/mmal_connection.h" alt="" coords="3659,95,3797,136"/>
<area shape="rect" id="node45" href="../../d5/d4c/RaspiCommonSettings_8h.html" title="RaspiCommonSettings.h" alt="" coords="3821,102,3989,129"/>
<area shape="rect" id="node46" href="../../d4/d97/RaspiCamControl_8h.html" title="RaspiCamControl.h" alt="" coords="4014,102,4151,129"/>
<area shape="rect" id="node47" href="../../db/d05/RaspiPreview_8h.html" title="RaspiPreview.h" alt="" coords="4176,102,4291,129"/>
<area shape="rect" id="node48" href="../../d2/d60/RaspiCLI_8h.html" title="RaspiCLI.h" alt="" coords="4315,102,4403,129"/>
<area shape="rect" id="node49" href="../../d3/d0d/RaspiHelpers_8h.html" title="RaspiHelpers.h" alt="" coords="4427,102,4539,129"/>
<area shape="rect" id="node50" href="../../d2/d3e/RaspiGPS_8h.html" title="RaspiGPS.h" alt="" coords="4563,102,4658,129"/>
<area shape="rect" id="node14" href="../../db/d61/vc__dispmanx_8h.html" title="interface/vmcs_host\l/vc_dispmanx.h" alt="" coords="1442,273,1582,315"/>
<area shape="rect" id="node33" href="../../d9/d2a/vc__tvservice_8h.html" title="interface/vmcs_host\l/vc_tvservice.h" alt="" coords="1278,273,1418,315"/>
<area shape="rect" id="node34" href="../../d6/d46/vc__cec_8h.html" title="interface/vmcs_host\l/vc_cec.h" alt="" coords="1013,363,1153,404"/>
<area shape="rect" id="node35" href="../../d2/d09/vc__cecservice_8h.html" title="interface/vmcs_host\l/vc_cecservice.h" alt="" coords="1114,273,1254,315"/>
<area shape="rect" id="node36" href="../../d0/dd5/vcgencmd_8h.html" title="interface/vmcs_host\l/vcgencmd.h" alt="" coords="809,273,949,315"/>
<area shape="rect" id="node16" href="../../d6/db4/vcos__assert_8h.html" title="interface/vcos/vcos\l_assert.h" alt="" coords="1197,452,1333,493"/>
<area shape="rect" id="node17" href="../../da/df3/vcos__types_8h.html" title="interface/vcos/vcos\l_types.h" alt="" coords="1037,541,1173,583"/>
<area shape="rect" id="node18" href="../../db/db8/vcos__platform_8h.html" title="vcos_platform.h" alt="" coords="2419,459,2533,486"/>
<area shape="rect" id="node20" href="../../d0/d84/vcos__init_8h.html" title="interface/vcos/vcos\l_init.h" alt="" coords="1357,452,1493,493"/>
<area shape="rect" id="node21" href="../../d2/dc2/vcos__semaphore_8h.html" title="interface/vcos/vcos\l_semaphore.h" alt="" coords="1677,452,1813,493"/>
<area shape="rect" id="node22" href="../../de/d30/vcos__thread_8h.html" title="interface/vcos/vcos\l_thread.h" alt="" coords="1837,452,1973,493"/>
<area shape="rect" id="node23" href="../../da/d1b/vcos__mutex_8h.html" title="interface/vcos/vcos\l_mutex.h" alt="" coords="325,452,461,493"/>
<area shape="rect" id="node24" href="../../d8/db9/vcos__mem_8h.html" title="interface/vcos/vcos\l_mem.h" alt="" coords="485,452,621,493"/>
<area shape="rect" id="node25" href="../../d0/d85/vcos__logging_8h.html" title="interface/vcos/vcos\l_logging.h" alt="" coords="2157,452,2293,493"/>
<area shape="rect" id="node26" href="../../d1/d77/vcos__string_8h.html" title="interface/vcos/vcos\l_string.h" alt="" coords="1997,452,2133,493"/>
<area shape="rect" id="node27" href="../../dc/dd7/vcos__event_8h.html" title="interface/vcos/vcos\l_event.h" alt="" coords="645,452,781,493"/>
<area shape="rect" id="node28" href="../../d1/d6d/vcos__thread__attr_8h.html" title="interface/vcos/vcos\l_thread_attr.h" alt="" coords="1517,452,1653,493"/>
<area shape="rect" id="node29" href="../../dc/d07/vcos__tls_8h.html" title="interface/vcos/vcos\l_tls.h" alt="" coords="5,452,141,493"/>
<area shape="rect" id="node30" href="../../d6/da9/vcos__reentrant__mutex_8h.html" title="interface/vcos/vcos\l_reentrant_mutex.h" alt="" coords="165,452,301,493"/>
<area shape="rect" id="node31" href="../../d6/d00/vcos__named__semaphore_8h.html" title="interface/vcos/vcos\l_named_semaphore.h" alt="" coords="806,452,957,493"/>
<area shape="rect" id="node32" href="../../dd/dc6/vcos__quickslow__mutex_8h.html" title="interface/vcos/vcos\l_quickslow_mutex.h" alt="" coords="981,452,1123,493"/>
<area shape="rect" id="node38" href="../../d4/df4/mmal__common_8h.html" title="mmal_common.h" alt="" coords="2269,281,2392,307"/>
</map>
</div>
</div>
<p><a href="../../d3/dce/RaspiVidYUV_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbc/structPORT__USERDATA.html">PORT_USERDATA</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d28/structRASPIVIDYUV__STATE__S.html">RASPIVIDYUV_STATE_S</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a369266c24eacffb87046522897a570d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a369266c24eacffb87046522897a570d5">_GNU_SOURCE</a></td></tr>
<tr class="separator:a369266c24eacffb87046522897a570d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc92011d6ebe2f6c3bd842467181fe0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a8cc92011d6ebe2f6c3bd842467181fe0">MMAL_CAMERA_PREVIEW_PORT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a8cc92011d6ebe2f6c3bd842467181fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b496a6c64a35c25734f640ff2909db"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#ab8b496a6c64a35c25734f640ff2909db">MMAL_CAMERA_VIDEO_PORT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ab8b496a6c64a35c25734f640ff2909db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ea8994f409e4b977b3f49529bd8836e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a6ea8994f409e4b977b3f49529bd8836e">MMAL_CAMERA_CAPTURE_PORT</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a6ea8994f409e4b977b3f49529bd8836e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa58458e24843c25918857dfb95700aef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#aa58458e24843c25918857dfb95700aef">VIDEO_FRAME_RATE_NUM</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:aa58458e24843c25918857dfb95700aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005418ba77c3dfcbfe94731506490255"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a005418ba77c3dfcbfe94731506490255">VIDEO_FRAME_RATE_DEN</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a005418ba77c3dfcbfe94731506490255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ef30a3e903c0589d9c1191047fb960"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a45ef30a3e903c0589d9c1191047fb960">VIDEO_OUTPUT_BUFFERS_NUM</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a45ef30a3e903c0589d9c1191047fb960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Video render needs at least 2 buffers.  <a href="#a45ef30a3e903c0589d9c1191047fb960">More...</a><br /></td></tr>
<tr class="separator:a45ef30a3e903c0589d9c1191047fb960"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a30863b73e78071b3c7c86e1ccc3e7792"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../de/d28/structRASPIVIDYUV__STATE__S.html">RASPIVIDYUV_STATE_S</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a30863b73e78071b3c7c86e1ccc3e7792">RASPIVIDYUV_STATE</a></td></tr>
<tr class="separator:a30863b73e78071b3c7c86e1ccc3e7792"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ac791b66a82093c303b1b2aaf4f185ede"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeafeb8a192d80d228fe1b0f4b92bb1568f">WAIT_METHOD_NONE</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeabc6602d797df70692570715bd3e30e45">WAIT_METHOD_TIMED</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edea0e94daf6c277a432256d2618bd221732">WAIT_METHOD_KEYPRESS</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edea8aedff18e4b951ccd2b3090777f52631">WAIT_METHOD_SIGNAL</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeaae6da5465c4ffc17440cc06780ef2069">WAIT_METHOD_FOREVER</a>
<br />
 }<tr class="memdesc:ac791b66a82093c303b1b2aaf4f185ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">Capture/Pause switch method.  <a href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185ede">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ac791b66a82093c303b1b2aaf4f185ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5efefa44b296976f2147b8acbed1752c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca66aaf2ee3201f300b4afa248e2a49ba8">CommandTimeout</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752cae74c4a46aa039a54621a5b516e6a1aa0">CommandDemoMode</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca4ff1a44e176489cd021363cb11547040">CommandFramerate</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca2e376163daef1c2166249769412dc307">CommandTimed</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca1faeea6e2150797fb5d079c4a492d44a">CommandSignal</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca6a88bfbfd3a75d0d65845ef9d33e8152">CommandKeypress</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca7078bd4b6e6b4f333b669341e58ea2c2">CommandInitialState</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca89fcc765a1d4b27033b8820cab28764e">CommandOnlyLuma</a>, 
<br />
&#160;&#160;<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752caaebbf4f5560f7f116a49283f88ef7605">CommandUseRGB</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca5d6f926a741c6a12c4022cebbcc0427d">CommandSavePTS</a>, 
<a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752caa26dd1ec294b9061cb668fdd86f734e9">CommandNetListen</a>
<br />
 }<tr class="memdesc:a5efefa44b296976f2147b8acbed1752c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Command ID's and Structure defining our command line options.  <a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752c">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a5efefa44b296976f2147b8acbed1752c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a217dbf8b442f20279ea00b898af96f52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a217dbf8b442f20279ea00b898af96f52">main</a> (int argc, const char **argv)</td></tr>
<tr class="separator:a217dbf8b442f20279ea00b898af96f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a88469a10b5094c869d47b8e7b06f49e5"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a88469a10b5094c869d47b8e7b06f49e5">ABORT_INTERVAL</a> = 100</td></tr>
<tr class="memdesc:a88469a10b5094c869d47b8e7b06f49e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interval at which we check for an failure abort during capture.  <a href="#a88469a10b5094c869d47b8e7b06f49e5">More...</a><br /></td></tr>
<tr class="separator:a88469a10b5094c869d47b8e7b06f49e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Command line program to capture a camera video stream and save file as uncompressed YUV420 data Also optionally display a preview/viewfinder of current camera input.</p>
<p>Description</p>
<p>2 components are created; camera and preview. Camera component has three ports, preview, video and stills. Preview is connected using standard mmal connections, the video output is written straight to the file in YUV 420 format via the requisite buffer callback. Still port is not used</p>
<p>We use the RaspiCamControl code to handle the specific camera settings. We use the RaspiPreview code to handle the generic preview </p>

<p class="definition">Definition in file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a369266c24eacffb87046522897a570d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a369266c24eacffb87046522897a570d5">&#9670;&nbsp;</a></span>_GNU_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _GNU_SOURCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00052">52</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="a6ea8994f409e4b977b3f49529bd8836e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ea8994f409e4b977b3f49529bd8836e">&#9670;&nbsp;</a></span>MMAL_CAMERA_CAPTURE_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_CAMERA_CAPTURE_PORT&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00090">90</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="a8cc92011d6ebe2f6c3bd842467181fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc92011d6ebe2f6c3bd842467181fe0">&#9670;&nbsp;</a></span>MMAL_CAMERA_PREVIEW_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_CAMERA_PREVIEW_PORT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00088">88</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="ab8b496a6c64a35c25734f640ff2909db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b496a6c64a35c25734f640ff2909db">&#9670;&nbsp;</a></span>MMAL_CAMERA_VIDEO_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_CAMERA_VIDEO_PORT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00089">89</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="a005418ba77c3dfcbfe94731506490255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005418ba77c3dfcbfe94731506490255">&#9670;&nbsp;</a></span>VIDEO_FRAME_RATE_DEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIDEO_FRAME_RATE_DEN&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00095">95</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="aa58458e24843c25918857dfb95700aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58458e24843c25918857dfb95700aef">&#9670;&nbsp;</a></span>VIDEO_FRAME_RATE_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIDEO_FRAME_RATE_NUM&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00094">94</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="a45ef30a3e903c0589d9c1191047fb960"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ef30a3e903c0589d9c1191047fb960">&#9670;&nbsp;</a></span>VIDEO_OUTPUT_BUFFERS_NUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIDEO_OUTPUT_BUFFERS_NUM&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Video render needs at least 2 buffers. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00098">98</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a30863b73e78071b3c7c86e1ccc3e7792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30863b73e78071b3c7c86e1ccc3e7792">&#9670;&nbsp;</a></span>RASPIVIDYUV_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../de/d28/structRASPIVIDYUV__STATE__S.html">RASPIVIDYUV_STATE_S</a> <a class="el" href="../../d3/dce/RaspiVidYUV_8c.html#a30863b73e78071b3c7c86e1ccc3e7792">RASPIVIDYUV_STATE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00115">115</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac791b66a82093c303b1b2aaf4f185ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac791b66a82093c303b1b2aaf4f185ede">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Capture/Pause switch method. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac791b66a82093c303b1b2aaf4f185edeafeb8a192d80d228fe1b0f4b92bb1568f"></a>WAIT_METHOD_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ac791b66a82093c303b1b2aaf4f185edeabc6602d797df70692570715bd3e30e45"></a>WAIT_METHOD_TIMED&#160;</td><td class="fielddoc"><p>Simply capture for time specified. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac791b66a82093c303b1b2aaf4f185edea0e94daf6c277a432256d2618bd221732"></a>WAIT_METHOD_KEYPRESS&#160;</td><td class="fielddoc"><p>Cycle between capture and pause for times specified. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac791b66a82093c303b1b2aaf4f185edea8aedff18e4b951ccd2b3090777f52631"></a>WAIT_METHOD_SIGNAL&#160;</td><td class="fielddoc"><p>Switch between capture and pause on keypress. </p>
</td></tr>
<tr><td class="fieldname"><a id="ac791b66a82093c303b1b2aaf4f185edeaae6da5465c4ffc17440cc06780ef2069"></a>WAIT_METHOD_FOREVER&#160;</td><td class="fielddoc"><p>Switch between capture and pause on signal. </p>
<p>Run/record forever </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00105">105</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeafeb8a192d80d228fe1b0f4b92bb1568f">WAIT_METHOD_NONE</a>,       </div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeabc6602d797df70692570715bd3e30e45">WAIT_METHOD_TIMED</a>,      </div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edea0e94daf6c277a432256d2618bd221732">WAIT_METHOD_KEYPRESS</a>,   </div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edea8aedff18e4b951ccd2b3090777f52631">WAIT_METHOD_SIGNAL</a>,     </div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeaae6da5465c4ffc17440cc06780ef2069">WAIT_METHOD_FOREVER</a>     </div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;};</div><div class="ttc" id="RaspiVidYUV_8c_html_ac791b66a82093c303b1b2aaf4f185edea8aedff18e4b951ccd2b3090777f52631"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edea8aedff18e4b951ccd2b3090777f52631">WAIT_METHOD_SIGNAL</a></div><div class="ttdoc">Switch between capture and pause on keypress. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00110">RaspiVidYUV.c:110</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_ac791b66a82093c303b1b2aaf4f185edea0e94daf6c277a432256d2618bd221732"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edea0e94daf6c277a432256d2618bd221732">WAIT_METHOD_KEYPRESS</a></div><div class="ttdoc">Cycle between capture and pause for times specified. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00109">RaspiVidYUV.c:109</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_ac791b66a82093c303b1b2aaf4f185edeaae6da5465c4ffc17440cc06780ef2069"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeaae6da5465c4ffc17440cc06780ef2069">WAIT_METHOD_FOREVER</a></div><div class="ttdoc">Switch between capture and pause on signal. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00111">RaspiVidYUV.c:111</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_ac791b66a82093c303b1b2aaf4f185edeabc6602d797df70692570715bd3e30e45"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeabc6602d797df70692570715bd3e30e45">WAIT_METHOD_TIMED</a></div><div class="ttdoc">Simply capture for time specified. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00108">RaspiVidYUV.c:108</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_ac791b66a82093c303b1b2aaf4f185edeafeb8a192d80d228fe1b0f4b92bb1568f"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#ac791b66a82093c303b1b2aaf4f185edeafeb8a192d80d228fe1b0f4b92bb1568f">WAIT_METHOD_NONE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00107">RaspiVidYUV.c:107</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5efefa44b296976f2147b8acbed1752c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5efefa44b296976f2147b8acbed1752c">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Command ID's and Structure defining our command line options. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca66aaf2ee3201f300b4afa248e2a49ba8"></a>CommandTimeout&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752cae74c4a46aa039a54621a5b516e6a1aa0"></a>CommandDemoMode&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca4ff1a44e176489cd021363cb11547040"></a>CommandFramerate&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca2e376163daef1c2166249769412dc307"></a>CommandTimed&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca1faeea6e2150797fb5d079c4a492d44a"></a>CommandSignal&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca6a88bfbfd3a75d0d65845ef9d33e8152"></a>CommandKeypress&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca7078bd4b6e6b4f333b669341e58ea2c2"></a>CommandInitialState&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca89fcc765a1d4b27033b8820cab28764e"></a>CommandOnlyLuma&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752caaebbf4f5560f7f116a49283f88ef7605"></a>CommandUseRGB&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752ca5d6f926a741c6a12c4022cebbcc0427d"></a>CommandSavePTS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5efefa44b296976f2147b8acbed1752caa26dd1ec294b9061cb668fdd86f734e9"></a>CommandNetListen&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00176">176</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;{</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca66aaf2ee3201f300b4afa248e2a49ba8">CommandTimeout</a>,</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752cae74c4a46aa039a54621a5b516e6a1aa0">CommandDemoMode</a>,</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca4ff1a44e176489cd021363cb11547040">CommandFramerate</a>,</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca2e376163daef1c2166249769412dc307">CommandTimed</a>,</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca1faeea6e2150797fb5d079c4a492d44a">CommandSignal</a>,</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca6a88bfbfd3a75d0d65845ef9d33e8152">CommandKeypress</a>,</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca7078bd4b6e6b4f333b669341e58ea2c2">CommandInitialState</a>,</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca89fcc765a1d4b27033b8820cab28764e">CommandOnlyLuma</a>,</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752caaebbf4f5560f7f116a49283f88ef7605">CommandUseRGB</a>,</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca5d6f926a741c6a12c4022cebbcc0427d">CommandSavePTS</a>,</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;   <a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752caa26dd1ec294b9061cb668fdd86f734e9">CommandNetListen</a></div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;};</div><div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752caa26dd1ec294b9061cb668fdd86f734e9"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752caa26dd1ec294b9061cb668fdd86f734e9">CommandNetListen</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00188">RaspiVidYUV.c:188</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca5d6f926a741c6a12c4022cebbcc0427d"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca5d6f926a741c6a12c4022cebbcc0427d">CommandSavePTS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00187">RaspiVidYUV.c:187</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca1faeea6e2150797fb5d079c4a492d44a"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca1faeea6e2150797fb5d079c4a492d44a">CommandSignal</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00182">RaspiVidYUV.c:182</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca2e376163daef1c2166249769412dc307"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca2e376163daef1c2166249769412dc307">CommandTimed</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00181">RaspiVidYUV.c:181</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca66aaf2ee3201f300b4afa248e2a49ba8"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca66aaf2ee3201f300b4afa248e2a49ba8">CommandTimeout</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00178">RaspiVidYUV.c:178</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752caaebbf4f5560f7f116a49283f88ef7605"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752caaebbf4f5560f7f116a49283f88ef7605">CommandUseRGB</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00186">RaspiVidYUV.c:186</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752cae74c4a46aa039a54621a5b516e6a1aa0"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752cae74c4a46aa039a54621a5b516e6a1aa0">CommandDemoMode</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00179">RaspiVidYUV.c:179</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca7078bd4b6e6b4f333b669341e58ea2c2"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca7078bd4b6e6b4f333b669341e58ea2c2">CommandInitialState</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00184">RaspiVidYUV.c:184</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca4ff1a44e176489cd021363cb11547040"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca4ff1a44e176489cd021363cb11547040">CommandFramerate</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00180">RaspiVidYUV.c:180</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca6a88bfbfd3a75d0d65845ef9d33e8152"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca6a88bfbfd3a75d0d65845ef9d33e8152">CommandKeypress</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00183">RaspiVidYUV.c:183</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a5efefa44b296976f2147b8acbed1752ca89fcc765a1d4b27033b8820cab28764e"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a5efefa44b296976f2147b8acbed1752ca89fcc765a1d4b27033b8820cab28764e">CommandOnlyLuma</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00185">RaspiVidYUV.c:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a217dbf8b442f20279ea00b898af96f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217dbf8b442f20279ea00b898af96f52">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>main </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l01230">1230</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;{</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;   <span class="comment">// Our main data storage vessel..</span></div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;   <a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html">RASPIVIDYUV_STATE</a> state;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;   <span class="keywordtype">int</span> exit_code = EX_OK;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;   <a class="code" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a> = <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *camera_preview_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *camera_video_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *camera_still_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *preview_input_port = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;   <a class="code" href="../../d3/d2b/bcm__host_8c.html#a025ab636eab15ab5dd55860ee86e0b5f">bcm_host_init</a>();</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;   <span class="comment">// Register our application with the logging system</span></div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;   <a class="code" href="../../d1/d3a/vcos__logcat_8c.html#a3b1a5dfa854033cd021dac6db2934b9c">vcos_log_register</a>(<span class="stringliteral">&quot;RaspiVid&quot;</span>, <a class="code" href="../../d0/d5e/applog_8h.html#a0c35674425ccbeb9a3b5d5f96e619fb4">VCOS_LOG_CATEGORY</a>);</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;   signal(SIGINT, <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a0ff0702d8497950dd64bded4dab6adb1">default_signal_handler</a>);</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;   <span class="comment">// Disable USR1 for the moment - may be reenabled if go in to signal capture mode</span></div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;   signal(SIGUSR1, SIG_IGN);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;   <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a64c107e038adf2b50d9a71d89ab96846">set_app_name</a>(argv[0]);</div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;   <span class="comment">// Do we have any parameters</span></div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;   <span class="keywordflow">if</span> (argc == 1)</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;   {</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a5fcadb5e7cb367c0828155e537330377">display_valid_parameters</a>(basename(<a class="code" href="../../d4/d88/RaspiHelpers_8c.html#aa87c4615df7c3a098e34fc13bf943e22">get_app_name</a>()), &amp;application_help_message);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;      exit(EX_USAGE);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;   }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;   default_status(&amp;state);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;   <span class="comment">// Parse the command line and put options in to our status structure</span></div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;   <span class="keywordflow">if</span> (parse_cmdline(argc, argv, &amp;state))</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;   {</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      status = -1;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      exit(EX_USAGE);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;   }</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;   <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a9310c3a0b1a7a707225684d3b36a7aac">timeout</a> == -1)</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a9310c3a0b1a7a707225684d3b36a7aac">timeout</a> = 5000;</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;   <span class="comment">// Setup for sensor specific parameters, only set W/H settings if zero on entry</span></div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;   <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a07cbe15e2ee5ddb50a741bb261030b6c">get_sensor_defaults</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a9b90146346239dc9f7e87d11c7072f7a">cameraNum</a>, state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a6b2c90a7e37344a29a6e8b0cd5534613">camera_name</a>,</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                       &amp;state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a41427adc2afddece4f43632067813331">width</a>, &amp;state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a4707532f0c0fc7dcf63df46d1f9fe8a7">height</a>);</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;   <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;   {</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#af70a9c53cff9c6a9e183194f6467261b">print_app_details</a>(stderr);</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      dump_status(&amp;state);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;   }</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;   <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">gps</a>)</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d1/d54/RaspiGPS_8c.html#a76aa58352d6931fff1dc1c0e375f774b">raspi_gps_setup</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>))</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;         state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">gps</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;   <span class="comment">// OK, we have a nice set of parameters. Now set up our components</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;   <span class="comment">// We have two components. Camera, Preview</span></div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;   <span class="keywordflow">if</span> ((status = create_camera_component(&amp;state)) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;   {</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      vcos_log_error(<span class="stringliteral">&quot;%s: Failed to create camera component&quot;</span>, __func__);</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      exit_code = EX_SOFTWARE;</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;   }</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((status = <a class="code" href="../../d2/dc8/RaspiPreview_8c.html#a921c8f8a37bdc5fb441d42df3b8b97bd">raspipreview_create</a>(&amp;state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">preview_parameters</a>)) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;   {</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;      vcos_log_error(<span class="stringliteral">&quot;%s: Failed to create preview component&quot;</span>, __func__);</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      destroy_camera_component(&amp;state);</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      exit_code = EX_SOFTWARE;</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;   }</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;   {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Starting component connection stage\n&quot;</span>);</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      camera_preview_port = state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a8c77f04975d4bb89d86dcca29f144a9c">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[<a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a8cc92011d6ebe2f6c3bd842467181fe0">MMAL_CAMERA_PREVIEW_PORT</a>];</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;      camera_video_port   = state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a8c77f04975d4bb89d86dcca29f144a9c">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[<a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#ab8b496a6c64a35c25734f640ff2909db">MMAL_CAMERA_VIDEO_PORT</a>];</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;      camera_still_port   = state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a8c77f04975d4bb89d86dcca29f144a9c">camera_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>[<a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a6ea8994f409e4b977b3f49529bd8836e">MMAL_CAMERA_CAPTURE_PORT</a>];</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;      preview_input_port  = state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">preview_component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a483ff43ab82509dc9188e01081d96f1b">input</a>[0];</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#aee58de3247e16541613b4605e0c3ff42">wantPreview</a> )</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      {</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;         <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;         {</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Connecting camera preview port to preview input port\n&quot;</span>);</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Starting video preview\n&quot;</span>);</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;         }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;         <span class="comment">// Connect camera to preview</span></div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;         status = <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#acfab552079d093f29033596575fe69ad">connect_ports</a>(camera_preview_port, preview_input_port, &amp;state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a69ae64fbb235a3320621c349322d7c6c">preview_connection</a>);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;         <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;            state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a69ae64fbb235a3320621c349322d7c6c">preview_connection</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      }</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;      {</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;         status = <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>;</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;      }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keywordflow">if</span> (status == <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      {</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;         state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;         <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">filename</a>)</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;         {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;            <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">filename</a>[0] == <span class="charliteral">&#39;-&#39;</span>)</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;            {</div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;               state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> = stdout;</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;            }</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            {</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;               state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> = open_filename(&amp;state, state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">filename</a>);</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;            }</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;            <span class="keywordflow">if</span> (!state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a>)</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;            {</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;               <span class="comment">// Notify user, carry on but discarding output buffers</span></div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;               vcos_log_error(<span class="stringliteral">&quot;%s: Error opening output file: %s\nNo output file will be generated\n&quot;</span>, __func__, state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">filename</a>);</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;            }</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;         }</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;         state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;         <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#ad3909a596cb94e54e60871f33333fddc">pts_filename</a>)</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;         {</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;            <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#ad3909a596cb94e54e60871f33333fddc">pts_filename</a>[0] == <span class="charliteral">&#39;-&#39;</span>)</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            {</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;               state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a> = stdout;</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            }</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            {</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;               state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a> = open_filename(&amp;state, state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#ad3909a596cb94e54e60871f33333fddc">pts_filename</a>);</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a>) <span class="comment">/* save header for mkvmerge */</span></div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;                  fprintf(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a>, <span class="stringliteral">&quot;# timecode format v2\n&quot;</span>);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;            }</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;            <span class="keywordflow">if</span> (!state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a>)</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;            {</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;               <span class="comment">// Notify user, carry on but discarding encoded output buffers</span></div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;               fprintf(stderr, <span class="stringliteral">&quot;Error opening output file: %s\nNo output file will be generated\n&quot;</span>,state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#ad3909a596cb94e54e60871f33333fddc">pts_filename</a>);</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;               state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af9e106cc8dda35ae04acaccc9f05aa7a">save_pts</a>=0;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;            }</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;         }</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;         <span class="comment">// Set up our userdata - this is passed though to the callback where we need the information.</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;         state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a9922560bbbcd7b756e83a58c084318b3">pstate</a> = &amp;state;</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;         state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a951d97864cb8a321785e5f16e3accac5">abort</a> = 0;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;         camera_video_port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#ac48ce60dae764525880438aabb058faa">userdata</a> = (<span class="keyword">struct </span>MMAL_PORT_USERDATA_T *)&amp;state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;         if (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a7eee7dfc362e33baef820901d297d2e4">demoMode</a>)</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;         {</div><div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;            <span class="comment">// Run for the user specific time..</span></div><div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;            <span class="keywordtype">int</span> num_iterations = state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a9310c3a0b1a7a707225684d3b36a7aac">timeout</a> / state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a80f5c4c90da6c2eef06c36b92958f7">demoInterval</a>;</div><div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;            <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;            <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;               fprintf(stderr, <span class="stringliteral">&quot;Running in demo mode\n&quot;</span>);</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;            <span class="keywordflow">for</span> (i=0; state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a9310c3a0b1a7a707225684d3b36a7aac">timeout</a> == 0 || i&lt;num_iterations; i++)</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;            {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;               <a class="code" href="../../db/de2/RaspiCamControl_8c.html#a65a8c22cd83559eb1d17d43f9a8f575a">raspicamcontrol_cycle_test</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a8c77f04975d4bb89d86dcca29f144a9c">camera_component</a>);</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;               <a class="code" href="../../de/d30/vcos__thread_8h.html#a0a8ff046abbe0114d9bd85c46d642ad4">vcos_sleep</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a80f5c4c90da6c2eef06c36b92958f7">demoInterval</a>);</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;            }</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;         }</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;         <span class="keywordflow">else</span></div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;         {</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <span class="comment">// Only save stuff if we have a filename and it opened</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <span class="comment">// Note we use the file handle copy in the callback, as the call back MIGHT change the file handle</span></div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;            <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a>)</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;            {</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;               <span class="keywordtype">int</span> running = 1;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                  fprintf(stderr, <span class="stringliteral">&quot;Enabling camera video port\n&quot;</span>);</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;               <span class="comment">// Enable the camera video port and tell it its callback function</span></div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;               status = <a class="code" href="../../d0/d5f/group__MmalPort.html#gaa723c325260a53f553c6ab7ee8038b70">mmal_port_enable</a>(camera_video_port, camera_buffer_callback);</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;               <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;               {</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                  vcos_log_error(<span class="stringliteral">&quot;Failed to setup camera output&quot;</span>);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;                  <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;               }</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;               <span class="comment">// Send all the buffers to the camera video port</span></div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;               {</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;                  <span class="keywordtype">int</span> num = <a class="code" href="../../d8/d82/group__MmalQueue.html#ga710521f92c381a4ad9cfb620f0117456">mmal_queue_length</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a5bdbd2d2bcaac77788fc830faadd8c7f">camera_pool</a>-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;                  <span class="keywordtype">int</span> <a class="code" href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a>;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;                  <span class="keywordflow">for</span> (q=0; q&lt;num; q++)</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;                  {</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;                     <a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="code" href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a> = <a class="code" href="../../d8/d82/group__MmalQueue.html#gae03a53a1cba809a9c42fefe1af835932">mmal_queue_get</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a5bdbd2d2bcaac77788fc830faadd8c7f">camera_pool</a>-&gt;<a class="code" href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">queue</a>);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;                     <span class="keywordflow">if</span> (!buffer)</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;                        vcos_log_error(<span class="stringliteral">&quot;Unable to get a required buffer %d from pool queue&quot;</span>, q);</div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;                     <span class="keywordflow">if</span> (<a class="code" href="../../d0/d5f/group__MmalPort.html#ga098a7b91bb6fc596aed0e5585aee3253">mmal_port_send_buffer</a>(camera_video_port, buffer)!= <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;                        vcos_log_error(<span class="stringliteral">&quot;Unable to send a buffer to camera video port (%d)&quot;</span>, q);</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                  }</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;               }</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;               <span class="keywordflow">while</span> (running)</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;               {</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                  <span class="comment">// Change state</span></div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;                  state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#afab7eb811de0f4cefe60fb183a0825e5">bCapturing</a> = !state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#afab7eb811de0f4cefe60fb183a0825e5">bCapturing</a>;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;                  <span class="keywordflow">if</span> (<a class="code" href="../../db/d48/mmal__util__params_8c.html#aba9fe4904a386eaa681c7bdbbcf93023">mmal_port_parameter_set_boolean</a>(camera_video_port, <a class="code" href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa7d63afa317c4adc763a80fff17d9a6e8">MMAL_PARAMETER_CAPTURE</a>, state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#afab7eb811de0f4cefe60fb183a0825e5">bCapturing</a>) != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                  {</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                     <span class="comment">// How to handle?</span></div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;                  }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;                  <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;                  {</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;                     <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#afab7eb811de0f4cefe60fb183a0825e5">bCapturing</a>)</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;                        fprintf(stderr, <span class="stringliteral">&quot;Starting video capture\n&quot;</span>);</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;                     <span class="keywordflow">else</span></div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;                        fprintf(stderr, <span class="stringliteral">&quot;Pausing video capture\n&quot;</span>);</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;                  }</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;                  running = wait_for_next_change(&amp;state);</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;               }</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;                  fprintf(stderr, <span class="stringliteral">&quot;Finished capture\n&quot;</span>);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;            }</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;            {</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;               <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a9310c3a0b1a7a707225684d3b36a7aac">timeout</a>)</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;                  <a class="code" href="../../de/d30/vcos__thread_8h.html#a0a8ff046abbe0114d9bd85c46d642ad4">vcos_sleep</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a9310c3a0b1a7a707225684d3b36a7aac">timeout</a>);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;               <span class="keywordflow">else</span></div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;               {</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;                  <span class="comment">// timeout = 0 so run forever</span></div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;                  <span class="keywordflow">while</span>(1)</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;                     <a class="code" href="../../de/d30/vcos__thread_8h.html#a0a8ff046abbe0114d9bd85c46d642ad4">vcos_sleep</a>(<a class="code" href="../../d3/dce/RaspiVidYUV_8c.html#a88469a10b5094c869d47b8e7b06f49e5">ABORT_INTERVAL</a>);</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;               }</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;            }</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;         }</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      }</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      {</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;         <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#ad6cc73ee106e56252e3e10278aa463b7">mmal_status_to_int</a>(status);</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;         vcos_log_error(<span class="stringliteral">&quot;%s: Failed to connect camera to preview&quot;</span>, __func__);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      }</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;<a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>:</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#ad6cc73ee106e56252e3e10278aa463b7">mmal_status_to_int</a>(status);</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Closing down\n&quot;</span>);</div><div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <span class="comment">// Disable all our ports that are not handled by connections</span></div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <a class="code" href="../../d4/d88/RaspiHelpers_8c.html#a293de76f9ccf60623b116623ef1b4a43">check_disable_port</a>(camera_video_port);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#aee58de3247e16541613b4605e0c3ff42">wantPreview</a> &amp;&amp; state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a69ae64fbb235a3320621c349322d7c6c">preview_connection</a>)</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;         <a class="code" href="../../d7/dfb/group__MmalConnectionUtility.html#ga0b872de7d96b262486ee4e5c72971513">mmal_connection_destroy</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a69ae64fbb235a3320621c349322d7c6c">preview_connection</a>);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">preview_component</a>)</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;         <a class="code" href="../../df/db6/group__MmalComponent.html#ga9477827891cb5a2a5c77fb23dd4ea7d9">mmal_component_disable</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">preview_parameters</a>.<a class="code" href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">preview_component</a>);</div><div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a8c77f04975d4bb89d86dcca29f144a9c">camera_component</a>)</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;         <a class="code" href="../../df/db6/group__MmalComponent.html#ga9477827891cb5a2a5c77fb23dd4ea7d9">mmal_component_disable</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a8c77f04975d4bb89d86dcca29f144a9c">camera_component</a>);</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      <span class="comment">// Can now close our file. Note disabling ports may flush buffers which causes</span></div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;      <span class="comment">// problems if we have already closed the file!</span></div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> &amp;&amp; state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a> != stdout)</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;         fclose(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">file_handle</a>);</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a> &amp;&amp; state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a> != stdout)</div><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;         fclose(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">callback_data</a>.<a class="code" href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">pts_file_handle</a>);</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      <a class="code" href="../../d2/dc8/RaspiPreview_8c.html#ac016a89aeafc7d2a2c150f274e79e7c7">raspipreview_destroy</a>(&amp;state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">preview_parameters</a>);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      destroy_camera_component(&amp;state);</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">gps</a>)</div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;         <a class="code" href="../../d1/d54/RaspiGPS_8c.html#af511436177b465eb70696dc1d89635fc">raspi_gps_shutdown</a>(state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>);</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;      <span class="keywordflow">if</span> (state.<a class="code" href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">common_settings</a>.<a class="code" href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">verbose</a>)</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;         fprintf(stderr, <span class="stringliteral">&quot;Close down completed, all components disconnected, disabled and destroyed\n\n&quot;</span>);</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;   }</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;   <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <a class="code" href="../../db/de2/RaspiCamControl_8c.html#a6f2166444b5f3ae0eebddeb252a5d955">raspicamcontrol_check_configuration</a>(128);</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;   <span class="keywordflow">return</span> exit_code;</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;}</div><div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a41427adc2afddece4f43632067813331"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a41427adc2afddece4f43632067813331">RASPICOMMONSETTINGS_PARAMETERS::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00044">RaspiCommonSettings.h:44</a></div></div>
<div class="ttc" id="RaspiGPS_8c_html_af511436177b465eb70696dc1d89635fc"><div class="ttname"><a href="../../d1/d54/RaspiGPS_8c.html#af511436177b465eb70696dc1d89635fc">raspi_gps_shutdown</a></div><div class="ttdeci">void raspi_gps_shutdown(int verbose)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d54/RaspiGPS_8c_source.html#l00115">RaspiGPS.c:115</a></div></div>
<div class="ttc" id="structRASPIPREVIEW__PARAMETERS_html_a6fadac79ee8fcf052ea5ae14a8904666"><div class="ttname"><a href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#a6fadac79ee8fcf052ea5ae14a8904666">RASPIPREVIEW_PARAMETERS::preview_component</a></div><div class="ttdeci">MMAL_COMPONENT_T * preview_component</div><div class="ttdoc">Destination rectangle for the preview window. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d05/RaspiPreview_8h_source.html#l00057">RaspiPreview.h:57</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_afab7eb811de0f4cefe60fb183a0825e5"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#afab7eb811de0f4cefe60fb183a0825e5">RASPIVIDYUV_STATE_S::bCapturing</a></div><div class="ttdeci">int bCapturing</div><div class="ttdoc">Used to move data to the camera callback. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00157">RaspiVidYUV.c:157</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_ab8b496a6c64a35c25734f640ff2909db"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#ab8b496a6c64a35c25734f640ff2909db">MMAL_CAMERA_VIDEO_PORT</a></div><div class="ttdeci">#define MMAL_CAMERA_VIDEO_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00089">RaspiVidYUV.c:89</a></div></div>
<div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a483ff43ab82509dc9188e01081d96f1b"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a483ff43ab82509dc9188e01081d96f1b">MMAL_COMPONENT_T::input</a></div><div class="ttdeci">MMAL_PORT_T ** input</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00070">mmal_component.h:70</a></div></div>
<div class="ttc" id="group__MmalPort_html_gaa723c325260a53f553c6ab7ee8038b70"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#gaa723c325260a53f553c6ab7ee8038b70">mmal_port_enable</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_enable(MMAL_PORT_T *port, MMAL_PORT_BH_CB_T cb)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00351">mmal_port.c:351</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_aa5a600f5fdd09fdcb89330ec2c9708f2"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#aa5a600f5fdd09fdcb89330ec2c9708f2">RASPIVIDYUV_STATE_S::common_settings</a></div><div class="ttdeci">RASPICOMMONSETTINGS_PARAMETERS common_settings</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00134">RaspiVidYUV.c:134</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a9b90146346239dc9f7e87d11c7072f7a"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a9b90146346239dc9f7e87d11c7072f7a">RASPICOMMONSETTINGS_PARAMETERS::cameraNum</a></div><div class="ttdeci">int cameraNum</div><div class="ttdoc">filename of output file </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00047">RaspiCommonSettings.h:47</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a0ff0702d8497950dd64bded4dab6adb1"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a0ff0702d8497950dd64bded4dab6adb1">default_signal_handler</a></div><div class="ttdeci">void default_signal_handler(int signal_number)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00199">RaspiHelpers.c:199</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_ad3909a596cb94e54e60871f33333fddc"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#ad3909a596cb94e54e60871f33333fddc">RASPIVIDYUV_STATE_S::pts_filename</a></div><div class="ttdeci">char * pts_filename</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00159">RaspiVidYUV.c:159</a></div></div>
<div class="ttc" id="group__MmalConnectionUtility_html_ga0b872de7d96b262486ee4e5c72971513"><div class="ttname"><a href="../../d7/dfb/group__MmalConnectionUtility.html#ga0b872de7d96b262486ee4e5c72971513">mmal_connection_destroy</a></div><div class="ttdeci">MMAL_STATUS_T mmal_connection_destroy(MMAL_CONNECTION_T *connection)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d0f/mmal__connection_8c_source.html#l00140">mmal_connection.c:140</a></div></div>
<div class="ttc" id="RaspiPreview_8c_html_a921c8f8a37bdc5fb441d42df3b8b97bd"><div class="ttname"><a href="../../d2/dc8/RaspiPreview_8c.html#a921c8f8a37bdc5fb441d42df3b8b97bd">raspipreview_create</a></div><div class="ttdeci">MMAL_STATUS_T raspipreview_create(RASPIPREVIEW_PARAMETERS *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/RaspiPreview_8c_source.html#l00075">RaspiPreview.c:75</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a88469a10b5094c869d47b8e7b06f49e5"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a88469a10b5094c869d47b8e7b06f49e5">ABORT_INTERVAL</a></div><div class="ttdeci">const int ABORT_INTERVAL</div><div class="ttdoc">Interval at which we check for an failure abort during capture. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00101">RaspiVidYUV.c:101</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a5fcadb5e7cb367c0828155e537330377"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a5fcadb5e7cb367c0828155e537330377">display_valid_parameters</a></div><div class="ttdeci">void display_valid_parameters(char *name, void(*app_help)(char *))</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00069">RaspiHelpers.c:69</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00079">mmal_port.h:79</a></div></div>
<div class="ttc" id="structMMAL__POOL__T_html_ae4175dd1f85f1adbe6be2dc4207fb064"><div class="ttname"><a href="../../d2/ddc/structMMAL__POOL__T.html#ae4175dd1f85f1adbe6be2dc4207fb064">MMAL_POOL_T::queue</a></div><div class="ttdeci">MMAL_QUEUE_T * queue</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00045">mmal_pool.h:45</a></div></div>
<div class="ttc" id="applog_8h_html_a0c35674425ccbeb9a3b5d5f96e619fb4"><div class="ttname"><a href="../../d0/d5e/applog_8h.html#a0c35674425ccbeb9a3b5d5f96e619fb4">VCOS_LOG_CATEGORY</a></div><div class="ttdeci">#define VCOS_LOG_CATEGORY</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5e/applog_8h_source.html#l00040">applog.h:40</a></div></div>
<div class="ttc" id="utils_8c_html_a31a889e0e0f939aa348887bfc5209b70"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a></div><div class="ttdeci">int error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00443">utils.c:443</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_af70a9c53cff9c6a9e183194f6467261b"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#af70a9c53cff9c6a9e183194f6467261b">print_app_details</a></div><div class="ttdeci">void print_app_details(FILE *fd)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00061">RaspiHelpers.c:61</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a6b2c90a7e37344a29a6e8b0cd5534613"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a6b2c90a7e37344a29a6e8b0cd5534613">RASPICOMMONSETTINGS_PARAMETERS::camera_name</a></div><div class="ttdeci">char camera_name[MMAL_PARAMETER_CAMERA_INFO_MAX_STR_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00043">RaspiCommonSettings.h:43</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a64c107e038adf2b50d9a71d89ab96846"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a64c107e038adf2b50d9a71d89ab96846">set_app_name</a></div><div class="ttdeci">void set_app_name(const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00145">RaspiHelpers.c:145</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a6ea8994f409e4b977b3f49529bd8836e"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a6ea8994f409e4b977b3f49529bd8836e">MMAL_CAMERA_CAPTURE_PORT</a></div><div class="ttdeci">#define MMAL_CAMERA_CAPTURE_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00090">RaspiVidYUV.c:90</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a4707532f0c0fc7dcf63df46d1f9fe8a7"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a4707532f0c0fc7dcf63df46d1f9fe8a7">RASPICOMMONSETTINGS_PARAMETERS::height</a></div><div class="ttdeci">int height</div><div class="ttdoc">Requested width of image. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00045">RaspiCommonSettings.h:45</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_a4a4154e9f1172aed642cd02a688c8130"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a4154e9f1172aed642cd02a688c8130">RASPIVIDYUV_STATE_S::callback_data</a></div><div class="ttdeci">PORT_USERDATA callback_data</div><div class="ttdoc">Pointer to the pool of buffers used by camera video port. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00155">RaspiVidYUV.c:155</a></div></div>
<div class="ttc" id="vcos__logcat_8c_html_a3b1a5dfa854033cd021dac6db2934b9c"><div class="ttname"><a href="../../d1/d3a/vcos__logcat_8c.html#a3b1a5dfa854033cd021dac6db2934b9c">vcos_log_register</a></div><div class="ttdeci">void vcos_log_register(const char *name, VCOS_LOG_CAT_T *category)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3a/vcos__logcat_8c_source.html#l00373">vcos_logcat.c:373</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a05918625e284f44e2f62d633561c6dd1"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a05918625e284f44e2f62d633561c6dd1">RASPICOMMONSETTINGS_PARAMETERS::gps</a></div><div class="ttdeci">int gps</div><div class="ttdoc">!0 if want detailed run information </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00050">RaspiCommonSettings.h:50</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a07cbe15e2ee5ddb50a741bb261030b6c"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a07cbe15e2ee5ddb50a741bb261030b6c">get_sensor_defaults</a></div><div class="ttdeci">void get_sensor_defaults(int camera_num, char *camera_name, int *width, int *height)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00090">RaspiHelpers.c:90</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_a4a80f5c4c90da6c2eef06c36b92958f7"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a4a80f5c4c90da6c2eef06c36b92958f7">RASPIVIDYUV_STATE_S::demoInterval</a></div><div class="ttdeci">int demoInterval</div><div class="ttdoc">Run app in demo mode. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00138">RaspiVidYUV.c:138</a></div></div>
<div class="ttc" id="group__MmalPort_html_ga098a7b91bb6fc596aed0e5585aee3253"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ga098a7b91bb6fc596aed0e5585aee3253">mmal_port_send_buffer</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_send_buffer(MMAL_PORT_T *port, MMAL_BUFFER_HEADER_T *buffer)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00709">mmal_port.c:709</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_ad72cb088c104a965ef0ce3672670f484"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#ad72cb088c104a965ef0ce3672670f484">RASPICOMMONSETTINGS_PARAMETERS::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdoc">requested height of image </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00046">RaspiCommonSettings.h:46</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_ac48ce60dae764525880438aabb058faa"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#ac48ce60dae764525880438aabb058faa">MMAL_PORT_T::userdata</a></div><div class="ttdeci">struct MMAL_PORT_USERDATA_T * userdata</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00110">mmal_port.h:110</a></div></div>
<div class="ttc" id="group__MmalTypes_html_ga5ac87230bd615d2b154a9d5899bc37fd"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a></div><div class="ttdeci">MMAL_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00046">mmal_types.h:46</a></div></div>
<div class="ttc" id="RaspiVidYUV_8c_html_a8cc92011d6ebe2f6c3bd842467181fe0"><div class="ttname"><a href="../../d3/dce/RaspiVidYUV_8c.html#a8cc92011d6ebe2f6c3bd842467181fe0">MMAL_CAMERA_PREVIEW_PORT</a></div><div class="ttdeci">#define MMAL_CAMERA_PREVIEW_PORT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00088">RaspiVidYUV.c:88</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_a5bdbd2d2bcaac77788fc830faadd8c7f"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a5bdbd2d2bcaac77788fc830faadd8c7f">RASPIVIDYUV_STATE_S::camera_pool</a></div><div class="ttdeci">MMAL_POOL_T * camera_pool</div><div class="ttdoc">Pointer to the connection from camera to preview. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00153">RaspiVidYUV.c:153</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_ad6cc73ee106e56252e3e10278aa463b7"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#ad6cc73ee106e56252e3e10278aa463b7">mmal_status_to_int</a></div><div class="ttdeci">int mmal_status_to_int(MMAL_STATUS_T status)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00222">RaspiHelpers.c:222</a></div></div>
<div class="ttc" id="RaspiPreview_8c_html_ac016a89aeafc7d2a2c150f274e79e7c7"><div class="ttname"><a href="../../d2/dc8/RaspiPreview_8c.html#ac016a89aeafc7d2a2c150f274e79e7c7">raspipreview_destroy</a></div><div class="ttdeci">void raspipreview_destroy(RASPIPREVIEW_PARAMETERS *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc8/RaspiPreview_8c_source.html#l00177">RaspiPreview.c:177</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html_a951d97864cb8a321785e5f16e3accac5"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html#a951d97864cb8a321785e5f16e3accac5">PORT_USERDATA::abort</a></div><div class="ttdeci">int abort</div><div class="ttdoc">pointer to our state in case required in callback </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/RaspiVid_8c_source.html#l00139">RaspiVid.c:139</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html_a9922560bbbcd7b756e83a58c084318b3"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html#a9922560bbbcd7b756e83a58c084318b3">PORT_USERDATA::pstate</a></div><div class="ttdeci">RASPISTILL_STATE * pstate</div><div class="ttdoc">semaphore which is posted when we reach end of frame (indicates end of capture or fault) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00170">RaspiStill.c:170</a></div></div>
<div class="ttc" id="RaspiGPS_8c_html_a76aa58352d6931fff1dc1c0e375f774b"><div class="ttname"><a href="../../d1/d54/RaspiGPS_8c.html#a76aa58352d6931fff1dc1c0e375f774b">raspi_gps_setup</a></div><div class="ttdeci">int raspi_gps_setup(int verbose)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d54/RaspiGPS_8c_source.html#l00136">RaspiGPS.c:136</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_af57e31182adfc0d7ba486a1e5b254fe6"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af57e31182adfc0d7ba486a1e5b254fe6">RASPIVIDYUV_STATE_S::preview_parameters</a></div><div class="ttdeci">RASPIPREVIEW_PARAMETERS preview_parameters</div><div class="ttdoc">Output RGB data rather than YUV. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00147">RaspiVidYUV.c:147</a></div></div>
<div class="ttc" id="RaspiCamControl_8c_html_a65a8c22cd83559eb1d17d43f9a8f575a"><div class="ttname"><a href="../../db/de2/RaspiCamControl_8c.html#a65a8c22cd83559eb1d17d43f9a8f575a">raspicamcontrol_cycle_test</a></div><div class="ttdeci">int raspicamcontrol_cycle_test(MMAL_COMPONENT_T *camera)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/RaspiCamControl_8c_source.html#l00267">RaspiCamControl.c:267</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html_a92548058431dd263c21965f6777ccc81"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html#a92548058431dd263c21965f6777ccc81">PORT_USERDATA::file_handle</a></div><div class="ttdeci">FILE * file_handle</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d37/RaspiStill_8c_source.html#l00168">RaspiStill.c:168</a></div></div>
<div class="ttc" id="vcos__thread_8h_html_a0a8ff046abbe0114d9bd85c46d642ad4"><div class="ttname"><a href="../../de/d30/vcos__thread_8h.html#a0a8ff046abbe0114d9bd85c46d642ad4">vcos_sleep</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_sleep(uint32_t ms)</div><div class="ttdoc">Sleep a while. </div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00069">mmal_buffer.h:69</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html">RASPIVIDYUV_STATE_S</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00132">RaspiVidYUV.c:132</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_a8c77f04975d4bb89d86dcca29f144a9c"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a8c77f04975d4bb89d86dcca29f144a9c">RASPIVIDYUV_STATE_S::camera_component</a></div><div class="ttdeci">MMAL_COMPONENT_T * camera_component</div><div class="ttdoc">Camera setup parameters. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00150">RaspiVidYUV.c:150</a></div></div>
<div class="ttc" id="group__MmalQueue_html_ga710521f92c381a4ad9cfb620f0117456"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#ga710521f92c381a4ad9cfb620f0117456">mmal_queue_length</a></div><div class="ttdeci">unsigned int mmal_queue_length(MMAL_QUEUE_T *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00184">mmal_queue.c:184</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_a69ae64fbb235a3320621c349322d7c6c"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a69ae64fbb235a3320621c349322d7c6c">RASPIVIDYUV_STATE_S::preview_connection</a></div><div class="ttdeci">MMAL_CONNECTION_T * preview_connection</div><div class="ttdoc">Pointer to the camera component. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00151">RaspiVidYUV.c:151</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_a293de76f9ccf60623b116623ef1b4a43"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#a293de76f9ccf60623b116623ef1b4a43">check_disable_port</a></div><div class="ttdeci">void check_disable_port(MMAL_PORT_T *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00187">RaspiHelpers.c:187</a></div></div>
<div class="ttc" id="group__MmalComponent_html_ga9477827891cb5a2a5c77fb23dd4ea7d9"><div class="ttname"><a href="../../df/db6/group__MmalComponent.html#ga9477827891cb5a2a5c77fb23dd4ea7d9">mmal_component_disable</a></div><div class="ttdeci">MMAL_STATUS_T mmal_component_disable(MMAL_COMPONENT_T *component)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/db8/mmal__component_8c_source.html#l00406">mmal_component.c:406</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_a9310c3a0b1a7a707225684d3b36a7aac"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a9310c3a0b1a7a707225684d3b36a7aac">RASPIVIDYUV_STATE_S::timeout</a></div><div class="ttdeci">int timeout</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00135">RaspiVidYUV.c:135</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_af9e106cc8dda35ae04acaccc9f05aa7a"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#af9e106cc8dda35ae04acaccc9f05aa7a">RASPIVIDYUV_STATE_S::save_pts</a></div><div class="ttdeci">int save_pts</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00160">RaspiVidYUV.c:160</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_aa87c4615df7c3a098e34fc13bf943e22"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#aa87c4615df7c3a098e34fc13bf943e22">get_app_name</a></div><div class="ttdeci">const char * get_app_name()</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00150">RaspiHelpers.c:150</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a43e3adc8e7b262a35c0fd806f9cf8701"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">MMAL_COMPONENT_T::output</a></div><div class="ttdeci">MMAL_PORT_T ** output</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00073">mmal_component.h:73</a></div></div>
<div class="ttc" id="glext_8h_html_a5cae8ef70015fb2c8d5355c136e7d760"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a></div><div class="ttdeci">GLfixed GLfixed GLfixed GLfixed q</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00677">glext.h:677</a></div></div>
<div class="ttc" id="structRASPICOMMONSETTINGS__PARAMETERS_html_a842681e910892f6f7324ec8b52c63357"><div class="ttname"><a href="../../d1/d90/structRASPICOMMONSETTINGS__PARAMETERS.html#a842681e910892f6f7324ec8b52c63357">RASPICOMMONSETTINGS_PARAMETERS::verbose</a></div><div class="ttdeci">int verbose</div><div class="ttdoc">Sensor mode. 0=auto. Check docs/forum for modes selected by other values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d4c/RaspiCommonSettings_8h_source.html#l00049">RaspiCommonSettings.h:49</a></div></div>
<div class="ttc" id="bcm__host_8c_html_a025ab636eab15ab5dd55860ee86e0b5f"><div class="ttname"><a href="../../d3/d2b/bcm__host_8c.html#a025ab636eab15ab5dd55860ee86e0b5f">bcm_host_init</a></div><div class="ttdeci">void bcm_host_init(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2b/bcm__host_8c_source.html#l00084">bcm_host.c:84</a></div></div>
<div class="ttc" id="structRASPIVIDYUV__STATE__S_html_a7eee7dfc362e33baef820901d297d2e4"><div class="ttname"><a href="../../de/d28/structRASPIVIDYUV__STATE__S.html#a7eee7dfc362e33baef820901d297d2e4">RASPIVIDYUV_STATE_S::demoMode</a></div><div class="ttdeci">int demoMode</div><div class="ttdoc">Requested frame rate (fps) </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dce/RaspiVidYUV_8c_source.html#l00137">RaspiVidYUV.c:137</a></div></div>
<div class="ttc" id="structRASPIPREVIEW__PARAMETERS_html_aee58de3247e16541613b4605e0c3ff42"><div class="ttname"><a href="../../d4/d5d/structRASPIPREVIEW__PARAMETERS.html#aee58de3247e16541613b4605e0c3ff42">RASPIPREVIEW_PARAMETERS::wantPreview</a></div><div class="ttdeci">int wantPreview</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d05/RaspiPreview_8h_source.html#l00053">RaspiPreview.h:53</a></div></div>
<div class="ttc" id="mmal__util__params_8c_html_aba9fe4904a386eaa681c7bdbbcf93023"><div class="ttname"><a href="../../db/d48/mmal__util__params_8c.html#aba9fe4904a386eaa681c7bdbbcf93023">mmal_port_parameter_set_boolean</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_parameter_set_boolean(MMAL_PORT_T *port, uint32_t id, MMAL_BOOL_T value)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d48/mmal__util__params_8c_source.html#l00031">mmal_util_params.c:31</a></div></div>
<div class="ttc" id="group__MmalQueue_html_gae03a53a1cba809a9c42fefe1af835932"><div class="ttname"><a href="../../d8/d82/group__MmalQueue.html#gae03a53a1cba809a9c42fefe1af835932">mmal_queue_get</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_T * mmal_queue_get(MMAL_QUEUE_T *queue)</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__queue_8c_source.html#l00150">mmal_queue.c:150</a></div></div>
<div class="ttc" id="group__MMAL__PARAMETER__IDS_html_gga16db4876b192da08f3ad0cb41afe516fa7d63afa317c4adc763a80fff17d9a6e8"><div class="ttname"><a href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga16db4876b192da08f3ad0cb41afe516fa7d63afa317c4adc763a80fff17d9a6e8">MMAL_PARAMETER_CAPTURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d70/mmal__parameters__camera_8h_source.html#l00070">mmal_parameters_camera.h:70</a></div></div>
<div class="ttc" id="eglext_8h_html_a769ee876630087de1b07d78b25dcecea"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a769ee876630087de1b07d78b25dcecea">buffer</a></div><div class="ttdeci">EGLContext EGLenum EGLClientBuffer buffer</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00092">eglext.h:92</a></div></div>
<div class="ttc" id="RaspiCamControl_8c_html_a6f2166444b5f3ae0eebddeb252a5d955"><div class="ttname"><a href="../../db/de2/RaspiCamControl_8c.html#a6f2166444b5f3ae0eebddeb252a5d955">raspicamcontrol_check_configuration</a></div><div class="ttdeci">void raspicamcontrol_check_configuration(int min_gpu_mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/de2/RaspiCamControl_8c_source.html#l01773">RaspiCamControl.c:1773</a></div></div>
<div class="ttc" id="structPORT__USERDATA_html_a0ec8bbbe585bf6956c2632745ab44a3d"><div class="ttname"><a href="../../d2/dbc/structPORT__USERDATA.html#a0ec8bbbe585bf6956c2632745ab44a3d">PORT_USERDATA::pts_file_handle</a></div><div class="ttdeci">FILE * pts_file_handle</div><div class="ttdoc">Set to 1 in callback if an error occurs to attempt to abort the capture. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d0c/RaspiVid_8c_source.html#l00154">RaspiVid.c:154</a></div></div>
<div class="ttc" id="RaspiHelpers_8c_html_acfab552079d093f29033596575fe69ad"><div class="ttname"><a href="../../d4/d88/RaspiHelpers_8c.html#acfab552079d093f29033596575fe69ad">connect_ports</a></div><div class="ttdeci">MMAL_STATUS_T connect_ports(MMAL_PORT_T *output_port, MMAL_PORT_T *input_port, MMAL_CONNECTION_T **connection)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d88/RaspiHelpers_8c_source.html#l00165">RaspiHelpers.c:165</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a88469a10b5094c869d47b8e7b06f49e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88469a10b5094c869d47b8e7b06f49e5">&#9670;&nbsp;</a></span>ABORT_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int ABORT_INTERVAL = 100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interval at which we check for an failure abort during capture. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00101">101</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="a8444d6e0dfe2bbab0b5e7b24308f1559"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8444d6e0dfe2bbab0b5e7b24308f1559">&#9670;&nbsp;</a></span>description</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* description</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00211">211</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
<a id="af1bdd26d41acc2c86525f5b60c5fda5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1bdd26d41acc2c86525f5b60c5fda5c">&#9670;&nbsp;</a></span>nextWaitMethod</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nextWaitMethod</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html#l00212">212</a> of file <a class="el" href="../../d3/dce/RaspiVidYUV_8c_source.html">RaspiVidYUV.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

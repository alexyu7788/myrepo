<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: interface/vcos/generic/vcos_generic_blockpool.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b31d54d5631803016a26f28213a41162.html">interface</a></li><li class="navelem"><a class="el" href="../../dir_b9867c168b8c92435171e97f1cfada63.html">vcos</a></li><li class="navelem"><a class="el" href="../../dir_6cf01a3a6b3e5a43543527bf1c34ddbd.html">generic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vcos_generic_blockpool.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/df3/vcos__types_8h_source.html">interface/vcos/vcos_types.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vcos_generic_blockpool.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d23/vcos__generic__blockpool_8h__incl.png" border="0" usemap="#interface_2vcos_2generic_2vcos__generic__blockpool_8h" alt=""/></div>
<map name="interface_2vcos_2generic_2vcos__generic__blockpool_8h" id="interface_2vcos_2generic_2vcos__generic__blockpool_8h">
<area shape="rect" id="node2" href="../../da/df3/vcos__types_8h.html" title="interface/vcos/vcos\l_types.h" alt="" coords="108,95,244,136"/>
<area shape="rect" id="node4" href="../../d2/d69/vcos__platform__types_8h.html" title="vcos_platform_types.h" alt="" coords="99,191,253,218"/>
<area shape="rect" id="node7" href="../../df/d5a/vcos__attr_8h.html" title="interface/vcos/vcos\l_attr.h" alt="" coords="277,184,413,225"/>
<area shape="rect" id="node5" href="../../d2/d4b/vcos__inttypes_8h.html" title="interface/vcos/vcos\l_inttypes.h" alt="" coords="108,273,244,315"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcc/vcos__generic__blockpool_8h__dep__incl.png" border="0" usemap="#interface_2vcos_2generic_2vcos__generic__blockpool_8hdep" alt=""/></div>
<map name="interface_2vcos_2generic_2vcos__generic__blockpool_8hdep" id="interface_2vcos_2generic_2vcos__generic__blockpool_8hdep">
<area shape="rect" id="node2" href="../../db/d77/vcos__generic__blockpool_8c.html" title="interface/vcos/generic\l/vcos_generic_blockpool.c" alt="" coords="5,281,181,322"/>
<area shape="rect" id="node3" href="../../db/db8/vcos__platform_8h.html" title="interface/vcos/pthreads\l/vcos_platform.h" alt="" coords="1615,95,1774,136"/>
<area shape="rect" id="node4" href="../../d4/de3/vcos_8h.html" title="interface/vcos/vcos.h" alt="" coords="2295,191,2441,218"/>
<area shape="rect" id="node50" href="../../d4/df4/vcos__futex__mutex_8h.html" title="interface/vcos/pthreads\l/vcos_futex_mutex.h" alt="" coords="1615,184,1774,225"/>
<area shape="rect" id="node5" href="../../d5/de5/containers__common_8h.html" title="containers/core/containers\l_common.h" alt="" coords="6533,281,6707,322"/>
<area shape="rect" id="node6" href="../../d0/d12/containers__logging_8c.html" title="containers/core/containers\l_logging.c" alt="" coords="6731,281,6906,322"/>
<area shape="rect" id="node7" href="../../da/d41/containers__writer__utils_8c.html" title="containers/core/containers\l_writer_utils.c" alt="" coords="6930,281,7105,322"/>
<area shape="rect" id="node8" href="../../d0/d5e/applog_8h.html" title="host_applications/android\l/apps/vidtex/applog.h" alt="" coords="257,281,426,322"/>
<area shape="rect" id="node9" href="../../db/d0c/vidtex_8c.html" title="host_applications/android\l/apps/vidtex/vidtex.c" alt="" coords="257,385,426,426"/>
<area shape="rect" id="node10" href="../../d0/d84/vcos__init_8h.html" title="interface/vcos/vcos\l_init.h" alt="" coords="644,281,780,322"/>
<area shape="rect" id="node11" href="../../d2/dc2/vcos__semaphore_8h.html" title="interface/vcos/vcos\l_semaphore.h" alt="" coords="804,281,940,322"/>
<area shape="rect" id="node12" href="../../de/d30/vcos__thread_8h.html" title="interface/vcos/vcos\l_thread.h" alt="" coords="964,281,1100,322"/>
<area shape="rect" id="node13" href="../../da/d1b/vcos__mutex_8h.html" title="interface/vcos/vcos\l_mutex.h" alt="" coords="1124,281,1260,322"/>
<area shape="rect" id="node14" href="../../d8/db9/vcos__mem_8h.html" title="interface/vcos/vcos\l_mem.h" alt="" coords="1284,281,1420,322"/>
<area shape="rect" id="node15" href="../../d0/d85/vcos__logging_8h.html" title="interface/vcos/vcos\l_logging.h" alt="" coords="1495,281,1631,322"/>
<area shape="rect" id="node16" href="../../da/dd4/ilclient_8c.html" title="host_applications/linux\l/apps/hello_pi/libs/ilclient\l/ilclient.c" alt="" coords="1398,571,1565,627"/>
<area shape="rect" id="node17" href="../../d1/d77/vcos__string_8h.html" title="interface/vcos/vcos\l_string.h" alt="" coords="2300,281,2436,322"/>
<area shape="rect" id="node18" href="../../dc/dd7/vcos__event_8h.html" title="interface/vcos/vcos\l_event.h" alt="" coords="2460,281,2596,322"/>
<area shape="rect" id="node19" href="../../dc/d07/vcos__tls_8h.html" title="interface/vcos/vcos\l_tls.h" alt="" coords="2620,281,2756,322"/>
<area shape="rect" id="node20" href="../../d6/da9/vcos__reentrant__mutex_8h.html" title="interface/vcos/vcos\l_reentrant_mutex.h" alt="" coords="2780,281,2916,322"/>
<area shape="rect" id="node21" href="../../d6/d00/vcos__named__semaphore_8h.html" title="interface/vcos/vcos\l_named_semaphore.h" alt="" coords="2941,281,3091,322"/>
<area shape="rect" id="node22" href="../../dd/dc6/vcos__quickslow__mutex_8h.html" title="interface/vcos/vcos\l_quickslow_mutex.h" alt="" coords="3116,281,3257,322"/>
<area shape="rect" id="node23" href="../../d7/d47/vidtex_8h.html" title="host_applications/android\l/apps/vidtex/vidtex.h" alt="" coords="450,281,619,322"/>
<area shape="rect" id="node24" href="../../d4/df4/mmal__common_8h.html" title="interface/mmal/mmal\l_common.h" alt="" coords="3281,281,3425,322"/>
<area shape="rect" id="node25" href="../../d2/d5e/vchost_8h.html" title="interface/vmcs_host\l/vchost.h" alt="" coords="1591,481,1731,523"/>
<area shape="rect" id="node26" href="../../d6/d87/linux_2apps_2hello__pi_2libs_2ilclient_2ilcore_8c.html" title="host_applications/linux\l/apps/hello_pi/libs/ilclient\l/ilcore.c" alt="" coords="1607,571,1774,627"/>
<area shape="rect" id="node27" href="../../d7/dcd/vchi_8h.html" title="interface/vchi/vchi.h" alt="" coords="2023,392,2161,419"/>
<area shape="rect" id="node28" href="../../d0/d8d/vc__vchi__gencmd_8h.html" title="interface/vmcs_host\l/vc_vchi_gencmd.h" alt="" coords="1858,481,1998,523"/>
<area shape="rect" id="node29" href="../../db/de2/RaspiCamControl_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiCamControl.c" alt="" coords="1807,578,2038,619"/>
<area shape="rect" id="node30" href="../../d9/d2a/vc__tvservice_8h.html" title="interface/vmcs_host\l/vc_tvservice.h" alt="" coords="2022,481,2162,523"/>
<area shape="rect" id="node31" href="../../db/d61/vc__dispmanx_8h.html" title="interface/vmcs_host\l/vc_dispmanx.h" alt="" coords="2186,481,2326,523"/>
<area shape="rect" id="node32" href="../../d2/d09/vc__cecservice_8h.html" title="interface/vmcs_host\l/vc_cecservice.h" alt="" coords="2350,481,2490,523"/>
<area shape="rect" id="node33" href="../../d2/d0d/message_8h.html" title="interface/vchi/message\l_drivers/message.h" alt="" coords="3449,281,3607,322"/>
<area shape="rect" id="node34" href="../../d1/dff/vchi__mh_8h.html" title="interface/vchi/vchi_mh.h" alt="" coords="1959,288,2123,315"/>
<area shape="rect" id="node35" href="../../df/ddb/ilclient_8h.html" title="host_applications/linux\l/apps/hello_pi/libs/ilclient\l/ilclient.h" alt="" coords="1514,377,1681,433"/>
<area shape="rect" id="node36" href="../../dc/d53/vgfont_8h.html" title="host_applications/linux\l/apps/hello_pi/libs/vgfont\l/vgfont.h" alt="" coords="3631,273,3798,329"/>
<area shape="rect" id="node37" href="../../d1/dd3/vgft_8h.html" title="host_applications/linux\l/apps/hello_pi/libs/vgfont\l/vgft.h" alt="" coords="3822,273,3989,329"/>
<area shape="rect" id="node38" href="../../dc/d63/RaspiCLI_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiCLI.c" alt="" coords="4013,281,4195,322"/>
<area shape="rect" id="node39" href="../../dd/df0/RaspiCommonSettings_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiCommonSettings.c" alt="" coords="4219,281,4480,322"/>
<area shape="rect" id="node40" href="../../d4/d88/RaspiHelpers_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiHelpers.c" alt="" coords="4504,281,4709,322"/>
<area shape="rect" id="node41" href="../../d2/dc8/RaspiPreview_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiPreview.c" alt="" coords="4734,281,4941,322"/>
<area shape="rect" id="node42" href="../../de/d37/RaspiStill_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiStill.c" alt="" coords="4965,281,5147,322"/>
<area shape="rect" id="node43" href="../../d0/d89/RaspiStillYUV_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiStillYUV.c" alt="" coords="5172,281,5383,322"/>
<area shape="rect" id="node44" href="../../d3/d83/RaspiTexUtil_8h.html" title="host_applications/linux\l/apps/raspicam/RaspiTexUtil.h" alt="" coords="5457,281,5660,322"/>
<area shape="rect" id="node45" href="../../d5/d34/RaspiTex_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiTex.c" alt="" coords="5398,385,5581,426"/>
<area shape="rect" id="node46" href="../../d6/de4/RaspiTexStub_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiTexStub.c" alt="" coords="5685,281,5894,322"/>
<area shape="rect" id="node47" href="../../d7/d0c/RaspiVid_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiVid.c" alt="" coords="5919,281,6097,322"/>
<area shape="rect" id="node48" href="../../d3/dce/RaspiVidYUV_8c.html" title="host_applications/linux\l/apps/raspicam/RaspiVidYUV.c" alt="" coords="6122,281,6329,322"/>
<area shape="rect" id="node49" href="../../d0/dff/smem_8c.html" title="host_applications/linux\l/apps/smem/smem.c" alt="" coords="6353,281,6508,322"/>
</map>
</div>
</div>
<p><a href="../../d3/d22/vcos__generic__blockpool_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_TAG</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab16d5241c33184d333d84445a9bb2485"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ab16d5241c33184d333d84445a9bb2485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7e3d56dc5f8fccdfd4b03fc7415944"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#afb7e3d56dc5f8fccdfd4b03fc7415944">VCOS_BLOCKPOOL_MAX_SUBPOOLS</a>&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>)</td></tr>
<tr class="separator:afb7e3d56dc5f8fccdfd4b03fc7415944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b71584e5fd93b98deca6de198cac415"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a8b71584e5fd93b98deca6de198cac415">INDEX_OFFSET</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a8b71584e5fd93b98deca6de198cac415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91205279062dddea93790deb74a1870"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ac91205279062dddea93790deb74a1870">VCOS_BLOCKPOOL_HANDLE_GET_INDEX</a>(h)&#160;&#160;&#160;(((h) &gt;&gt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>) - <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a8b71584e5fd93b98deca6de198cac415">INDEX_OFFSET</a>)</td></tr>
<tr class="separator:ac91205279062dddea93790deb74a1870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5a7a57bf88fa5850825c5cadc33ec4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a2c5a7a57bf88fa5850825c5cadc33ec4">VCOS_BLOCKPOOL_HANDLE_GET_SUBPOOL</a>(h)&#160;&#160;&#160;((h) &amp; ((1 &lt;&lt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>) - 1))</td></tr>
<tr class="separator:a2c5a7a57bf88fa5850825c5cadc33ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4663680cf3e56b7718fac2790decadf9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a4663680cf3e56b7718fac2790decadf9">VCOS_BLOCKPOOL_HANDLE_CREATE</a>(i,  <a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>)&#160;&#160;&#160;((((i) + <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a8b71584e5fd93b98deca6de198cac415">INDEX_OFFSET</a>) &lt;&lt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>) | (<a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>))</td></tr>
<tr class="separator:a4663680cf3e56b7718fac2790decadf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36731d19833e7f2a7f3e59b18068292"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ad36731d19833e7f2a7f3e59b18068292">VCOS_BLOCKPOOL_INVALID_HANDLE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ad36731d19833e7f2a7f3e59b18068292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9463077429472afe937875556f45ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a4b9463077429472afe937875556f45ec">VCOS_BLOCKPOOL_ALIGN_DEFAULT</a>&#160;&#160;&#160;sizeof(unsigned long)</td></tr>
<tr class="separator:a4b9463077429472afe937875556f45ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae57bcca6ec506fd8dbcc56e3bd7d5d15"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ae57bcca6ec506fd8dbcc56e3bd7d5d15">VCOS_BLOCKPOOL_FLAG_NONE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ae57bcca6ec506fd8dbcc56e3bd7d5d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b28df2a0aa8717830384ce287679ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a67b28df2a0aa8717830384ce287679ec">VCOS_BLOCKPOOL_ROUND_UP</a>(<a class="el" href="../../dc/dd2/glext_8h.html#a2cf37851237312d0b21bdbea0219fee8">x</a>,  <a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>)&#160;&#160;&#160;(((<a class="el" href="../../dc/dd2/glext_8h.html#a2cf37851237312d0b21bdbea0219fee8">x</a>) + ((<a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>) - 1)) &amp; ~((<a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>) - 1))</td></tr>
<tr class="separator:a67b28df2a0aa8717830384ce287679ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070fba9d4f4c3251c7f7cf13e90058c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a>(num_blocks,  block_size,  align)</td></tr>
<tr class="separator:a070fba9d4f4c3251c7f7cf13e90058c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9db286c1d87696bf6a2bb035cb0c9f4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab9db286c1d87696bf6a2bb035cb0c9f4">VCOS_BLOCKPOOL_IS_VALID_HANDLE_FORMAT</a>(handle,  max_blocks)</td></tr>
<tr class="separator:ab9db286c1d87696bf6a2bb035cb0c9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a07ff3114b0047624112cae3f03eb24ce"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a07ff3114b0047624112cae3f03eb24ce">VCOS_BLOCKPOOL_HEADER_T</a></td></tr>
<tr class="separator:a07ff3114b0047624112cae3f03eb24ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1077f48c38f63757a0f3e01e8f40ede0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a1077f48c38f63757a0f3e01e8f40ede0">VCOS_BLOCKPOOL_SUBPOOL_T</a></td></tr>
<tr class="separator:a1077f48c38f63757a0f3e01e8f40ede0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907bb45f15ba1f0f465d5f50f87ce158"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_TAG</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a></td></tr>
<tr class="separator:a907bb45f15ba1f0f465d5f50f87ce158"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a974c45bd061c70b99c71efb25c858f7e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a974c45bd061c70b99c71efb25c858f7e">vcos_generic_blockpool_init</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> num_blocks, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> block_size, <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *start, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> pool_size, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> align, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f1b4b29f7a4e4106eec81bb30f16a01">flags</a>, const char *<a class="el" href="../../d8/d96/mmal__vc__diag_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a974c45bd061c70b99c71efb25c858f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a658794665befd8502e9d33b67456c72b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a658794665befd8502e9d33b67456c72b">vcos_generic_blockpool_create_on_heap</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> num_blocks, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> block_size, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> align, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f1b4b29f7a4e4106eec81bb30f16a01">flags</a>, const char *<a class="el" href="../../d8/d96/mmal__vc__diag_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a658794665befd8502e9d33b67456c72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a75200a289aead369006e4812354ce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a33a75200a289aead369006e4812354ce">vcos_generic_blockpool_extend</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> num_extensions, <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> num_blocks)</td></tr>
<tr class="separator:a33a75200a289aead369006e4812354ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b78032a56656872f720d99924509a98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a9b78032a56656872f720d99924509a98">vcos_generic_blockpool_alloc</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool)</td></tr>
<tr class="separator:a9b78032a56656872f720d99924509a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bf04f1714274c63a3fbef2d696b1f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a89bf04f1714274c63a3fbef2d696b1f7">vcos_generic_blockpool_calloc</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool)</td></tr>
<tr class="separator:a89bf04f1714274c63a3fbef2d696b1f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb42df835b963098b2fdf3f1f85b6b4c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#acb42df835b963098b2fdf3f1f85b6b4c">vcos_generic_blockpool_free</a> (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *block)</td></tr>
<tr class="separator:acb42df835b963098b2fdf3f1f85b6b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b32120a68d32aabc39fdb2e579dd99b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a7b32120a68d32aabc39fdb2e579dd99b">vcos_generic_blockpool_available_count</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool)</td></tr>
<tr class="separator:a7b32120a68d32aabc39fdb2e579dd99b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae3af530a713f4430504a20bc2a9a1c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#adae3af530a713f4430504a20bc2a9a1c">vcos_generic_blockpool_used_count</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool)</td></tr>
<tr class="separator:adae3af530a713f4430504a20bc2a9a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb001f7841097590f53d02e6c6dd99f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#adb001f7841097590f53d02e6c6dd99f2">vcos_generic_blockpool_delete</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool)</td></tr>
<tr class="separator:adb001f7841097590f53d02e6c6dd99f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae462dea37f678eea666f8e7038744781"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ae462dea37f678eea666f8e7038744781">vcos_generic_blockpool_elem_to_handle</a> (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *block)</td></tr>
<tr class="separator:ae462dea37f678eea666f8e7038744781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b3efc53b8217a16973840ad5663fde"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ac0b3efc53b8217a16973840ad5663fde">vcos_generic_blockpool_elem_from_handle</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> handle)</td></tr>
<tr class="separator:ac0b3efc53b8217a16973840ad5663fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ece7acf9a5bce6dc5aa2b2efb1f93c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a6ece7acf9a5bce6dc5aa2b2efb1f93c1">vcos_generic_blockpool_is_valid_elem</a> (<a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *pool, const <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *block)</td></tr>
<tr class="separator:a6ece7acf9a5bce6dc5aa2b2efb1f93c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This provides a generic, thread safe implementation of a VCOS block pool fixed size memory allocator. </p>

<p class="definition">Definition in file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8b71584e5fd93b98deca6de198cac415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b71584e5fd93b98deca6de198cac415">&#9670;&nbsp;</a></span>INDEX_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INDEX_OFFSET&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00058">58</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

</div>
</div>
<a id="a4b9463077429472afe937875556f45ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b9463077429472afe937875556f45ec">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_ALIGN_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_ALIGN_DEFAULT&#160;&#160;&#160;sizeof(unsigned long)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00070">70</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/vcos__generic__named__sem_8c_source.html#l00086">_vcos_named_semaphore_init()</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00140">vcos_generic_blockpool_init()</a>, and <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00292">vcos_msgq_pool_create()</a>.</p>

</div>
</div>
<a id="ae57bcca6ec506fd8dbcc56e3bd7d5d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae57bcca6ec506fd8dbcc56e3bd7d5d15">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_FLAG_NONE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_FLAG_NONE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00071">71</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

</div>
</div>
<a id="a4663680cf3e56b7718fac2790decadf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4663680cf3e56b7718fac2790decadf9">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_HANDLE_CREATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_HANDLE_CREATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((((i) + <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a8b71584e5fd93b98deca6de198cac415">INDEX_OFFSET</a>) &lt;&lt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>) | (<a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00066">66</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00458">vcos_generic_blockpool_elem_to_handle()</a>.</p>

</div>
</div>
<a id="ac91205279062dddea93790deb74a1870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91205279062dddea93790deb74a1870">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_HANDLE_GET_INDEX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_HANDLE_GET_INDEX</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h</td><td>)</td>
          <td>&#160;&#160;&#160;(((h) &gt;&gt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>) - <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a8b71584e5fd93b98deca6de198cac415">INDEX_OFFSET</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00060">60</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00496">vcos_generic_blockpool_elem_from_handle()</a>.</p>

</div>
</div>
<a id="a2c5a7a57bf88fa5850825c5cadc33ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5a7a57bf88fa5850825c5cadc33ec4">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_HANDLE_GET_SUBPOOL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_HANDLE_GET_SUBPOOL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">h</td><td>)</td>
          <td>&#160;&#160;&#160;((h) &amp; ((1 &lt;&lt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>) - 1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00063">63</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00496">vcos_generic_blockpool_elem_from_handle()</a>.</p>

</div>
</div>
<a id="ad36731d19833e7f2a7f3e59b18068292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36731d19833e7f2a7f3e59b18068292">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_INVALID_HANDLE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_INVALID_HANDLE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00069">69</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

</div>
</div>
<a id="ab9db286c1d87696bf6a2bb035cb0c9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9db286c1d87696bf6a2bb035cb0c9f4">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_IS_VALID_HANDLE_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_IS_VALID_HANDLE_FORMAT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">handle, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">max_blocks&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((handle) != <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#ad36731d19833e7f2a7f3e59b18068292">VCOS_BLOCKPOOL_INVALID_HANDLE</a> \</div><div class="line">     &amp;&amp; <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#ac91205279062dddea93790deb74a1870">VCOS_BLOCKPOOL_HANDLE_GET_INDEX</a>((handle)) &lt; (max_blocks))</div><div class="ttc" id="vcos__generic__blockpool_8h_html_ac91205279062dddea93790deb74a1870"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#ac91205279062dddea93790deb74a1870">VCOS_BLOCKPOOL_HANDLE_GET_INDEX</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_HANDLE_GET_INDEX(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00060">vcos_generic_blockpool.h:60</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_ad36731d19833e7f2a7f3e59b18068292"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#ad36731d19833e7f2a7f3e59b18068292">VCOS_BLOCKPOOL_INVALID_HANDLE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_INVALID_HANDLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00069">vcos_generic_blockpool.h:69</a></div></div>
</div><!-- fragment --><p>Sanity check to verify whether a handle is potentially a blockpool handle when the pool pointer is not available.</p>
<p>If the pool pointer is available use vcos_blockpool_elem_to_handle instead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>the handle to verify </td></tr>
    <tr><td class="paramname">max_blocks</td><td>the expected maximum number of block in the pool that the handle belongs to. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00159">159</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

</div>
</div>
<a id="afb7e3d56dc5f8fccdfd4b03fc7415944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7e3d56dc5f8fccdfd4b03fc7415944">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_MAX_SUBPOOLS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_MAX_SUBPOOLS&#160;&#160;&#160;(1 &lt;&lt; <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#ab16d5241c33184d333d84445a9bb2485">VCOS_BLOCKPOOL_SUBPOOL_BITS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00051">51</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d1/d95/vcos__generic__named__sem_8c_source.html#l00086">_vcos_named_semaphore_init()</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00458">vcos_generic_blockpool_elem_to_handle()</a>, and <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00230">vcos_generic_blockpool_extend()</a>.</p>

</div>
</div>
<a id="a67b28df2a0aa8717830384ce287679ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67b28df2a0aa8717830384ce287679ec">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_ROUND_UP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_ROUND_UP</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/dd2/glext_8h.html#a2cf37851237312d0b21bdbea0219fee8">x</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((<a class="el" href="../../dc/dd2/glext_8h.html#a2cf37851237312d0b21bdbea0219fee8">x</a>) + ((<a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>) - 1)) &amp; ~((<a class="el" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>) - 1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00132">132</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00140">vcos_generic_blockpool_init()</a>.</p>

</div>
</div>
<a id="a070fba9d4f4c3251c7f7cf13e90058c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070fba9d4f4c3251c7f7cf13e90058c8">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_SIZE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">num_blocks, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">block_size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">align&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((<a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a67b28df2a0aa8717830384ce287679ec">VCOS_BLOCKPOOL_ROUND_UP</a>((block_size) + (align &gt;= 4096 ? 32 : 0) + <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>), \</div><div class="line">                             (align)) * (num_blocks)) + (align))</div><div class="ttc" id="vcos__generic__blockpool_8h_html_a67b28df2a0aa8717830384ce287679ec"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a67b28df2a0aa8717830384ce287679ec">VCOS_BLOCKPOOL_ROUND_UP</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_ROUND_UP(x, s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00132">vcos_generic_blockpool.h:132</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00073">vcos_generic_blockpool.h:73</a></div></div>
</div><!-- fragment --><p>Calculates the size in bytes required for a block pool containing num_blocks of size block_size plus any overheads.</p>
<p>The block pool header (VCOS_BLOCKPOOL_T) is allocated separately</p>
<p>Overheads: block_size + header must be rounded up to meet the required alignment The start of the first block may need to be up to align bytes into the given buffer because statically allocated buffers within structures are not guaranteed to be aligned as required. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">145</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00264">vcos_generic_blockpool_alloc()</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00202">vcos_generic_blockpool_create_on_heap()</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00426">vcos_generic_blockpool_delete()</a>, and <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00140">vcos_generic_blockpool_init()</a>.</p>

</div>
</div>
<a id="ab16d5241c33184d333d84445a9bb2485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16d5241c33184d333d84445a9bb2485">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_SUBPOOL_BITS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_BLOCKPOOL_SUBPOOL_BITS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Bits 0 to (VCOS_BLOCKPOOL_SUBPOOL_BITS - 1) are used to store the subpool id. </p>

<p class="definition">Definition at line <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00050">50</a> of file <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html">vcos_generic_blockpool.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a07ff3114b0047624112cae3f03eb24ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ff3114b0047624112cae3f03eb24ce">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_HEADER_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a>  <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a07ff3114b0047624112cae3f03eb24ce">VCOS_BLOCKPOOL_HEADER_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1077f48c38f63757a0f3e01e8f40ede0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1077f48c38f63757a0f3e01e8f40ede0">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_SUBPOOL_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a>  <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a1077f48c38f63757a0f3e01e8f40ede0">VCOS_BLOCKPOOL_SUBPOOL_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a907bb45f15ba1f0f465d5f50f87ce158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a907bb45f15ba1f0f465d5f50f87ce158">&#9670;&nbsp;</a></span>VCOS_BLOCKPOOL_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_TAG</a>  <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9b78032a56656872f720d99924509a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b78032a56656872f720d99924509a98">&#9670;&nbsp;</a></span>vcos_generic_blockpool_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>* vcos_generic_blockpool_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00264">264</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00112">VCOS_BLOCKPOOL_TAG::align</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">VCOS_BLOCKPOOL_TAG::block_data_size</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00120">VCOS_BLOCKPOOL_TAG::name</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">VCOS_BLOCKPOOL_TAG::num_subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">VCOS_BLOCKPOOL_SIZE</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#ab16520085642a0d0687e6e47b83283f7">vcos_malloc()</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00339">vcos_generic_blockpool_calloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> i;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordtype">void</span>* ret = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   <span class="comment">/* Starting with the main pool try and find a free block */</span></div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a>; ++i)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <span class="keywordflow">if</span> (pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a> &amp;&amp; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">available_blocks</a> &gt; 0)</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;         subpool = &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i];</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;         <span class="keywordflow">break</span>; <span class="comment">/* Found a subpool with free blocks */</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;   }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <span class="keywordflow">if</span> (! subpool)</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      <span class="comment">/* All current subpools are full, try to allocate a new one */</span></div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      <span class="keywordflow">for</span> (i = 1; i &lt; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a>; ++i)</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;         <span class="keywordflow">if</span> (! pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a>)</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;         {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *<a class="code" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a> = &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i];</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordtype">size_t</span> <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a> = <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a>(pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">num_extension_blocks</a>,</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                  pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">block_data_size</a>, pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a44792b33be5c06b3be4529acdf3c9c55">align</a>);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordtype">void</span> *<a class="code" href="../../da/d8c/font_8c.html#a5f00e9b1b039412bb144bae39e66b97a">mem</a> = <a class="code" href="../../d8/db9/vcos__mem_8h.html#ab16520085642a0d0687e6e47b83283f7">vcos_malloc</a>(size, pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a99dab1d6f7f29a5cf0b342464dac435d">name</a>);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordflow">if</span> (mem)</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            {</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;               vcos_log_trace(<span class="stringliteral">&quot;%s: Allocated subpool %d&quot;</span>, <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, i);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;               vcos_generic_blockpool_subpool_init(pool, s, mem, size,</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                     pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">num_extension_blocks</a>,</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                     pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a44792b33be5c06b3be4529acdf3c9c55">align</a>,</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                     <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a4689fc8fc98260eb4b2a127e13abcc74">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a> |</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                     <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#acb25c53f420658cbf9cb6e647440413b">VCOS_BLOCKPOOL_SUBPOOL_FLAG_EXTENSION</a>);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;               subpool = <a class="code" href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a>;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;               <span class="keywordflow">break</span>; <span class="comment">/* Created a subpool */</span></div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            }</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            {</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;               vcos_log_warn(<span class="stringliteral">&quot;%s: Failed to allocate subpool&quot;</span>, <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;         }</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keywordflow">if</span> (subpool)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;   {</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="comment">/* Remove from free list */</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>* nb = subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a50575a3b801428f5e1daec33f239e928">free_list</a>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a50575a3b801428f5e1daec33f239e928">free_list</a>);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a50575a3b801428f5e1daec33f239e928">free_list</a> = nb-&gt;<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">owner</a>.<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#abcb72799400ed6a35ccd2b9a8df788c0">next</a>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">/* Owner is pool so free can be called without passing pool</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">       * as a parameter */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      nb-&gt;<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">owner</a>.<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">subpool</a> = subpool;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      ret = nb + 1; <span class="comment">/* Return pointer to block data */</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      --(subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">available_blocks</a>);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;   }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a0555fdedab385641410a16a2cce6da67">VCOS_BLOCKPOOL_DEBUG_LOG</a>(<span class="stringliteral">&quot;pool %p subpool %p ret %p&quot;</span>, pool, subpool, ret);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <span class="keywordflow">if</span> (ret)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;   {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(ret &gt; subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a>);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(ret &lt; subpool-&gt;end);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;   }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a304fb47fe810c7635d8d7819d44a64c1"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_extension_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">vcos_generic_blockpool.h:124</a></div></div>
<div class="ttc" id="font_8c_html_a5f00e9b1b039412bb144bae39e66b97a"><div class="ttname"><a href="../../da/d8c/font_8c.html#a5f00e9b1b039412bb144bae39e66b97a">mem</a></div><div class="ttdeci">void * mem</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/font_8c_source.html#l00066">font.c:66</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ab16520085642a0d0687e6e47b83283f7"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ab16520085642a0d0687e6e47b83283f7">vcos_malloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_malloc(VCOS_UNSIGNED size, const char *description)</div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a7c577d8115adf6d1ae2e1a155fb82dcc"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">VCOS_BLOCKPOOL_TAG::block_data_size</a></div><div class="ttdeci">size_t block_data_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">vcos_generic_blockpool.h:116</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a50575a3b801428f5e1daec33f239e928"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a50575a3b801428f5e1daec33f239e928">VCOS_BLOCKPOOL_SUBPOOL_TAG::free_list</a></div><div class="ttdeci">VCOS_BLOCKPOOL_HEADER_T * free_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00088">vcos_generic_blockpool.h:88</a></div></div>
<div class="ttc" id="glext_8h_html_a9f139c614d49f2a707b6037305b0fec0"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a></div><div class="ttdeci">GLsizei size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l01070">glext.h:1070</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00073">vcos_generic_blockpool.h:73</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a070fba9d4f4c3251c7f7cf13e90058c8"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SIZE(num_blocks, block_size, align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">vcos_generic_blockpool.h:145</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a48d71261259537d83e64eed3ef906260"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_SUBPOOL_TAG * subpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">vcos_generic_blockpool.h:80</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a0555fdedab385641410a16a2cce6da67"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a0555fdedab385641410a16a2cce6da67">VCOS_BLOCKPOOL_DEBUG_LOG</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_DEBUG_LOG(s,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00063">vcos_generic_blockpool.c:63</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a4689fc8fc98260eb4b2a127e13abcc74"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a4689fc8fc98260eb4b2a127e13abcc74">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00040">vcos_generic_blockpool.c:40</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a11369a25f6d2839fa561aac20c2d4232"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a></div><div class="ttdeci">union VCOS_BLOCKPOOL_HEADER_TAG::@233 owner</div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_acb25c53f420658cbf9cb6e647440413b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#acb25c53f420658cbf9cb6e647440413b">VCOS_BLOCKPOOL_SUBPOOL_FLAG_EXTENSION</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_FLAG_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00041">vcos_generic_blockpool.c:41</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_abcb72799400ed6a35ccd2b9a8df788c0"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#abcb72799400ed6a35ccd2b9a8df788c0">VCOS_BLOCKPOOL_HEADER_TAG::next</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_HEADER_TAG * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00079">vcos_generic_blockpool.h:79</a></div></div>
<div class="ttc" id="vcos__platform_8h_html_ad4f4a7c5ec347ceae4a1094b5e1fd3b4"><div class="ttname"><a href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a></div><div class="ttdeci">uint32_t VCOS_UNSIGNED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/vcos__platform_8h_source.html#l00097">vcos_platform.h:97</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a6f03cd54ef45af7633ec04c763b0f7ea"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED available_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">vcos_generic_blockpool.h:98</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49524e6ce73a0c92b68e7124af2dac6f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">VCOS_BLOCKPOOL_TAG::num_subpools</a></div><div class="ttdeci">VCOS_UNSIGNED num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">vcos_generic_blockpool.h:122</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a99dab1d6f7f29a5cf0b342464dac435d"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a99dab1d6f7f29a5cf0b342464dac435d">VCOS_BLOCKPOOL_TAG::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00120">vcos_generic_blockpool.h:120</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a44792b33be5c06b3be4529acdf3c9c55"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a44792b33be5c06b3be4529acdf3c9c55">VCOS_BLOCKPOOL_TAG::align</a></div><div class="ttdeci">VCOS_UNSIGNED align</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00112">vcos_generic_blockpool.h:112</a></div></div>
<div class="ttc" id="glext_8h_html_ad009b4972eead1c93a3d11f2721af19d"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#ad009b4972eead1c93a3d11f2721af19d">s</a></div><div class="ttdeci">GLfixed s</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00677">glext.h:677</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b32120a68d32aabc39fdb2e579dd99b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b32120a68d32aabc39fdb2e579dd99b">&#9670;&nbsp;</a></span>vcos_generic_blockpool_available_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_available_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00385">385</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">ASSERT_SUBPOOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">VCOS_BLOCKPOOL_TAG::num_subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> ret = 0;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> i;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a>; ++i)</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;   {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;      <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool = &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i];</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a>(subpool);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      <span class="comment">/* Assume the malloc of sub pool would succeed */</span></div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">if</span> (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a>)</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;         ret += subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">available_blocks</a>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;         ret += pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">num_extension_blocks</a>;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;   }</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;}</div><div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a304fb47fe810c7635d8d7819d44a64c1"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_extension_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">vcos_generic_blockpool.h:124</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a6ed78390e9c25be96eef900d8b66096b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a></div><div class="ttdeci">#define ASSERT_SUBPOOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">vcos_generic_blockpool.c:69</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="vcos__platform_8h_html_ad4f4a7c5ec347ceae4a1094b5e1fd3b4"><div class="ttname"><a href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a></div><div class="ttdeci">uint32_t VCOS_UNSIGNED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/vcos__platform_8h_source.html#l00097">vcos_platform.h:97</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a6f03cd54ef45af7633ec04c763b0f7ea"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED available_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">vcos_generic_blockpool.h:98</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49524e6ce73a0c92b68e7124af2dac6f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">VCOS_BLOCKPOOL_TAG::num_subpools</a></div><div class="ttdeci">VCOS_UNSIGNED num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">vcos_generic_blockpool.h:122</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a89bf04f1714274c63a3fbef2d696b1f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89bf04f1714274c63a3fbef2d696b1f7">&#9670;&nbsp;</a></span>vcos_generic_blockpool_calloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>* vcos_generic_blockpool_calloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00339">339</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">VCOS_BLOCKPOOL_TAG::block_data_size</a>, and <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00264">vcos_generic_blockpool_alloc()</a>.</p>
<div class="fragment"><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;{</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordtype">void</span>* ret = <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#ad1af51c398e539ce71549cc1df45a027">vcos_generic_blockpool_alloc</a>(pool);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   <span class="keywordflow">if</span> (ret)</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      memset(ret, 0, pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">block_data_size</a>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div><div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a7c577d8115adf6d1ae2e1a155fb82dcc"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">VCOS_BLOCKPOOL_TAG::block_data_size</a></div><div class="ttdeci">size_t block_data_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">vcos_generic_blockpool.h:116</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_ad1af51c398e539ce71549cc1df45a027"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#ad1af51c398e539ce71549cc1df45a027">vcos_generic_blockpool_alloc</a></div><div class="ttdeci">void * vcos_generic_blockpool_alloc(VCOS_BLOCKPOOL_T *pool)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00264">vcos_generic_blockpool.c:264</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a658794665befd8502e9d33b67456c72b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a658794665befd8502e9d33b67456c72b">&#9670;&nbsp;</a></span>vcos_generic_blockpool_create_on_heap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_create_on_heap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>num_blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00202">202</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/d74/glxx__int__impl_8h_source.html#l00087">fail</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00102">VCOS_BLOCKPOOL_SUBPOOL_TAG::flags</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00037">status</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">VCOS_BLOCKPOOL_SIZE</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00040">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00081">VCOS_ENOMEM</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00140">vcos_generic_blockpool_init()</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#ab16520085642a0d0687e6e47b83283f7">vcos_malloc()</a>, and <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00075">VCOS_SUCCESS</a>.</p>
<div class="fragment"><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a> = <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordtype">size_t</span> <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a> = <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a>(num_blocks, block_size, align);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordtype">void</span>* <a class="code" href="../../da/d8c/font_8c.html#a5f00e9b1b039412bb144bae39e66b97a">mem</a> = <a class="code" href="../../d8/db9/vcos__mem_8h.html#ab16520085642a0d0687e6e47b83283f7">vcos_malloc</a>(size, <a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   vcos_log_trace(<span class="stringliteral">&quot;%s: num_blocks %d block_size %d name %s&quot;</span>,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;         <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, num_blocks, block_size, <a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">if</span> (! mem)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8acdc4bb6fa0cab99955b64136f1bb7926">VCOS_ENOMEM</a>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   status = <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a089af8e69abd9e35829f811801707960">vcos_generic_blockpool_init</a>(pool, num_blocks,</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         block_size, mem, size, align, <a class="code" href="../../d3/dda/eglext_8h.html#a0f1b4b29f7a4e4106eec81bb30f16a01">flags</a>, <a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <span class="keywordflow">if</span> (status != <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>)</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d8/d74/glxx__int__impl_8h.html#a0ac950076898bb172ce2b955929fd4d2">fail</a>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[0].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a5841dbb00691f651cff2ae3258a93685">flags</a> |= <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a4689fc8fc98260eb4b2a127e13abcc74">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<a class="code" href="../../d8/d74/glxx__int__impl_8h.html#a0ac950076898bb172ce2b955929fd4d2">fail</a>:</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(mem);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div><div class="ttc" id="font_8c_html_a5f00e9b1b039412bb144bae39e66b97a"><div class="ttname"><a href="../../da/d8c/font_8c.html#a5f00e9b1b039412bb144bae39e66b97a">mem</a></div><div class="ttdeci">void * mem</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/font_8c_source.html#l00066">font.c:66</a></div></div>
<div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a></div><div class="ttdeci">VCOS_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00073">vcos_types.h:73</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ab16520085642a0d0687e6e47b83283f7"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ab16520085642a0d0687e6e47b83283f7">vcos_malloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_malloc(VCOS_UNSIGNED size, const char *description)</div></div>
<div class="ttc" id="containers__filters_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d97/containers__filters_8c_source.html#l00058">containers_filters.c:58</a></div></div>
<div class="ttc" id="eglext_8h_html_a0f1b4b29f7a4e4106eec81bb30f16a01"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0f1b4b29f7a4e4106eec81bb30f16a01">flags</a></div><div class="ttdeci">EGLSyncKHR EGLint flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00188">eglext.h:188</a></div></div>
<div class="ttc" id="glxx__int__impl_8h_html_a0ac950076898bb172ce2b955929fd4d2"><div class="ttname"><a href="../../d8/d74/glxx__int__impl_8h.html#a0ac950076898bb172ce2b955929fd4d2">fail</a></div><div class="ttdeci">GLclampf depth GLboolean GLboolean GLboolean GLboolean alpha GLenum func GLclampf GLclampf zFar GLenum cap GLfloat width GLclampf GLboolean invert GLenum GLenum GLint GLuint mask GLenum GLenum fail</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d74/glxx__int__impl_8h_source.html#l00087">glxx_int_impl.h:87</a></div></div>
<div class="ttc" id="glext_8h_html_a9f139c614d49f2a707b6037305b0fec0"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a></div><div class="ttdeci">GLsizei size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l01070">glext.h:1070</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a070fba9d4f4c3251c7f7cf13e90058c8"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SIZE(num_blocks, block_size, align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">vcos_generic_blockpool.h:145</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a089af8e69abd9e35829f811801707960"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a089af8e69abd9e35829f811801707960">vcos_generic_blockpool_init</a></div><div class="ttdeci">VCOS_STATUS_T vcos_generic_blockpool_init(VCOS_BLOCKPOOL_T *pool, VCOS_UNSIGNED num_blocks, VCOS_UNSIGNED block_size, void *start, VCOS_UNSIGNED pool_size, VCOS_UNSIGNED align, VCOS_UNSIGNED flags, const char *name)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00140">vcos_generic_blockpool.c:140</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a4689fc8fc98260eb4b2a127e13abcc74"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a4689fc8fc98260eb4b2a127e13abcc74">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00040">vcos_generic_blockpool.c:40</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8acdc4bb6fa0cab99955b64136f1bb7926"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8acdc4bb6fa0cab99955b64136f1bb7926">VCOS_ENOMEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00081">vcos_types.h:81</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a5841dbb00691f651cff2ae3258a93685"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a5841dbb00691f651cff2ae3258a93685">VCOS_BLOCKPOOL_SUBPOOL_TAG::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00102">vcos_generic_blockpool.h:102</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb001f7841097590f53d02e6c6dd99f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb001f7841097590f53d02e6c6dd99f2">&#9670;&nbsp;</a></span>vcos_generic_blockpool_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00426">426</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00112">VCOS_BLOCKPOOL_TAG::align</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">ASSERT_SUBPOOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">VCOS_BLOCKPOOL_TAG::block_data_size</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00102">VCOS_BLOCKPOOL_SUBPOOL_TAG::flags</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">VCOS_BLOCKPOOL_TAG::num_subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">VCOS_BLOCKPOOL_SIZE</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00040">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete()</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   vcos_log_trace(<span class="stringliteral">&quot;%s: pool %p&quot;</span>, <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, pool);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;   <span class="keywordflow">if</span> (pool)</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;   {</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> i;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a>; ++i)</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;      {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;         <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool = &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i];</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;         <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a>(subpool);</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;         <span class="keywordflow">if</span> (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a>)</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;         {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            <span class="comment">/* For debugging */</span></div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            memset(subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a>,</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;                  0xBE,</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;                  <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a>(subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">num_blocks</a>,</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                     pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">block_data_size</a>, pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a44792b33be5c06b3be4529acdf3c9c55">align</a>));</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            <span class="keywordflow">if</span> (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a5841dbb00691f651cff2ae3258a93685">flags</a> &amp; <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a4689fc8fc98260eb4b2a127e13abcc74">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a>)</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;               <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;         }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      }</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      memset(pool, 0xBE, <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_T</a>)); <span class="comment">/* For debugging */</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;   }</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;}</div><div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a7c577d8115adf6d1ae2e1a155fb82dcc"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">VCOS_BLOCKPOOL_TAG::block_data_size</a></div><div class="ttdeci">size_t block_data_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">vcos_generic_blockpool.h:116</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a6ed78390e9c25be96eef900d8b66096b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a></div><div class="ttdeci">#define ASSERT_SUBPOOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">vcos_generic_blockpool.c:69</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a4f4c63e9c40fea266a97148c8746534d"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a4f4c63e9c40fea266a97148c8746534d">vcos_mutex_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_delete(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a070fba9d4f4c3251c7f7cf13e90058c8"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SIZE(num_blocks, block_size, align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">vcos_generic_blockpool.h:145</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_aeecd0fdd6ab11fe8834f04ab72aa9f01"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a></div><div class="ttdeci">void * mem</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">vcos_generic_blockpool.h:90</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a4689fc8fc98260eb4b2a127e13abcc74"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a4689fc8fc98260eb4b2a127e13abcc74">VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_FLAG_OWNS_MEM</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00040">vcos_generic_blockpool.c:40</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a67adf23666b9048ec4bf07b5d02b7a43"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">vcos_generic_blockpool.h:96</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00105">vcos_generic_blockpool.h:105</a></div></div>
<div class="ttc" id="vcos__platform_8h_html_ad4f4a7c5ec347ceae4a1094b5e1fd3b4"><div class="ttname"><a href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a></div><div class="ttdeci">uint32_t VCOS_UNSIGNED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/vcos__platform_8h_source.html#l00097">vcos_platform.h:97</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49524e6ce73a0c92b68e7124af2dac6f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">VCOS_BLOCKPOOL_TAG::num_subpools</a></div><div class="ttdeci">VCOS_UNSIGNED num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">vcos_generic_blockpool.h:122</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a44792b33be5c06b3be4529acdf3c9c55"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a44792b33be5c06b3be4529acdf3c9c55">VCOS_BLOCKPOOL_TAG::align</a></div><div class="ttdeci">VCOS_UNSIGNED align</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00112">vcos_generic_blockpool.h:112</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a5841dbb00691f651cff2ae3258a93685"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a5841dbb00691f651cff2ae3258a93685">VCOS_BLOCKPOOL_SUBPOOL_TAG::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00102">vcos_generic_blockpool.h:102</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0b3efc53b8217a16973840ad5663fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0b3efc53b8217a16973840ad5663fde">&#9670;&nbsp;</a></span>vcos_generic_blockpool_elem_from_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>* vcos_generic_blockpool_elem_from_handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00496">496</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">VCOS_BLOCKPOOL_TAG::block_size</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00290">index</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00087">VCOS_BLOCKPOOL_SUBPOOL_TAG::magic</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00060">VCOS_BLOCKPOOL_HANDLE_GET_INDEX</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00063">VCOS_BLOCKPOOL_HANDLE_GET_SUBPOOL</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00037">VCOS_BLOCKPOOL_SUBPOOL_MAGIC</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;{</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;   <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;   <a class="code" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> subpool_id;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;   <a class="code" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;   <span class="keywordtype">void</span> *ret = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;   subpool_id = <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a2c5a7a57bf88fa5850825c5cadc33ec4">VCOS_BLOCKPOOL_HANDLE_GET_SUBPOOL</a>(handle);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;   <span class="keywordflow">if</span> (subpool_id &lt; pool-&gt;num_subpools)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;   {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;      index = <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#ac91205279062dddea93790deb74a1870">VCOS_BLOCKPOOL_HANDLE_GET_INDEX</a>(handle);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      subpool = &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[subpool_id];</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;      <span class="keywordflow">if</span> (pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[subpool_id].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a98f93373b24b36a865b98b6e6bfe54d7">magic</a> == <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#afd016f9e29da5129c59d64e4e7634d49">VCOS_BLOCKPOOL_SUBPOOL_MAGIC</a> &amp;&amp;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[subpool_id].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a> &amp;&amp; index &lt; subpool-&gt;num_blocks)</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;      {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;         <a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a> *hdr = (<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>*)</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            ((<span class="keywordtype">size_t</span>) subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a> + (index * pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">block_size</a>));</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;         <span class="keywordflow">if</span> (hdr-&gt;<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">owner</a>.<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">subpool</a> == subpool) <span class="comment">/* Check block is allocated */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            ret = hdr + 1;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;      }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;   }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;   vcos_log_trace(<span class="stringliteral">&quot;%s: pool %p handle 0x%08x elem %p&quot;</span>, <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, pool,</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;         handle, ret);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div><div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00073">vcos_generic_blockpool.h:73</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_afd016f9e29da5129c59d64e4e7634d49"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#afd016f9e29da5129c59d64e4e7634d49">VCOS_BLOCKPOOL_SUBPOOL_MAGIC</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00037">vcos_generic_blockpool.c:37</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a98f93373b24b36a865b98b6e6bfe54d7"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a98f93373b24b36a865b98b6e6bfe54d7">VCOS_BLOCKPOOL_SUBPOOL_TAG::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00087">vcos_generic_blockpool.h:87</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a48d71261259537d83e64eed3ef906260"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_SUBPOOL_TAG * subpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">vcos_generic_blockpool.h:80</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_ac91205279062dddea93790deb74a1870"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#ac91205279062dddea93790deb74a1870">VCOS_BLOCKPOOL_HANDLE_GET_INDEX</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_HANDLE_GET_INDEX(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00060">vcos_generic_blockpool.h:60</a></div></div>
<div class="ttc" id="containers__types_8h_html_a06896e8c53f721507066c079052171f8"><div class="ttname"><a href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a></div><div class="ttdeci">unsigned long uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5f/containers__types_8h_source.html#l00073">containers_types.h:73</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_aeecd0fdd6ab11fe8834f04ab72aa9f01"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a></div><div class="ttdeci">void * mem</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">vcos_generic_blockpool.h:90</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a11369a25f6d2839fa561aac20c2d4232"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a></div><div class="ttdeci">union VCOS_BLOCKPOOL_HEADER_TAG::@233 owner</div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a2c5a7a57bf88fa5850825c5cadc33ec4"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a2c5a7a57bf88fa5850825c5cadc33ec4">VCOS_BLOCKPOOL_HANDLE_GET_SUBPOOL</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_HANDLE_GET_SUBPOOL(h)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00063">vcos_generic_blockpool.h:63</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="mmal__il_8c_html_a9e77cf7c1d45de5b45ff1226bf750632"><div class="ttname"><a href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a></div><div class="ttdeci">OMX_INDEXTYPE index</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d88/mmal__il_8c_source.html#l00290">mmal_il.c:290</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a9c470606deb212b4eca84780f1c6dc2f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">VCOS_BLOCKPOOL_TAG::block_size</a></div><div class="ttdeci">size_t block_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">vcos_generic_blockpool.h:118</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae462dea37f678eea666f8e7038744781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae462dea37f678eea666f8e7038744781">&#9670;&nbsp;</a></span>vcos_generic_blockpool_elem_to_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_elem_to_handle </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00458">458</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">ASSERT_SUBPOOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">VCOS_BLOCKPOOL_TAG::block_size</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00290">index</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00100">VCOS_BLOCKPOOL_SUBPOOL_TAG::owner</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00066">VCOS_BLOCKPOOL_HANDLE_CREATE</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00051">VCOS_BLOCKPOOL_MAX_SUBPOOLS</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;{</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;   <a class="code" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> ret = -1;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;   <a class="code" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="code" href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a> = -1;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;   <a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a> *hdr = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;   <a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_T</a> *pool = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;   <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;   <a class="code" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> subpool_id;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(block);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;   hdr = (<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>*) block - 1;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;   subpool = hdr-&gt;<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">owner</a>.<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">subpool</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a>(subpool);</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;   pool = subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a2da98fa022123eea3211a8613fc43af3">owner</a>;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;   <span class="comment">/* The handle is the index into the array of blocks combined</span></div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<span class="comment">    * with the subpool id.</span></div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;   index = ((size_t) hdr - (<span class="keywordtype">size_t</span>) subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a>) / pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">block_size</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(index &lt; subpool-&gt;num_blocks);</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;   subpool_id = ((<span class="keywordtype">char</span>*) subpool - (<span class="keywordtype">char</span>*) &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[0]) /</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="keyword">sizeof</span>(<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a>);</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(subpool_id &lt; <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#afb7e3d56dc5f8fccdfd4b03fc7415944">VCOS_BLOCKPOOL_MAX_SUBPOOLS</a>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(subpool_id &lt; pool-&gt;num_subpools);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;   ret = <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a4663680cf3e56b7718fac2790decadf9">VCOS_BLOCKPOOL_HANDLE_CREATE</a>(index, subpool_id);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;   vcos_log_trace(<span class="stringliteral">&quot;%s: index %d subpool_id %d handle 0x%08x&quot;</span>,</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;         <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, index, subpool_id, ret);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a6ed78390e9c25be96eef900d8b66096b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a></div><div class="ttdeci">#define ASSERT_SUBPOOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">vcos_generic_blockpool.c:69</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00073">vcos_generic_blockpool.h:73</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a48d71261259537d83e64eed3ef906260"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_SUBPOOL_TAG * subpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">vcos_generic_blockpool.h:80</a></div></div>
<div class="ttc" id="containers__types_8h_html_a06896e8c53f721507066c079052171f8"><div class="ttname"><a href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a></div><div class="ttdeci">unsigned long uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5f/containers__types_8h_source.html#l00073">containers_types.h:73</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a2da98fa022123eea3211a8613fc43af3"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a2da98fa022123eea3211a8613fc43af3">VCOS_BLOCKPOOL_SUBPOOL_TAG::owner</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_TAG * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00100">vcos_generic_blockpool.h:100</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a11369a25f6d2839fa561aac20c2d4232"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a></div><div class="ttdeci">union VCOS_BLOCKPOOL_HEADER_TAG::@233 owner</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00105">vcos_generic_blockpool.h:105</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="mmal__il_8c_html_a9e77cf7c1d45de5b45ff1226bf750632"><div class="ttname"><a href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a></div><div class="ttdeci">OMX_INDEXTYPE index</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d88/mmal__il_8c_source.html#l00290">mmal_il.c:290</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a9c470606deb212b4eca84780f1c6dc2f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">VCOS_BLOCKPOOL_TAG::block_size</a></div><div class="ttdeci">size_t block_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">vcos_generic_blockpool.h:118</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a4663680cf3e56b7718fac2790decadf9"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a4663680cf3e56b7718fac2790decadf9">VCOS_BLOCKPOOL_HANDLE_CREATE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_HANDLE_CREATE(i, s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00066">vcos_generic_blockpool.h:66</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_afb7e3d56dc5f8fccdfd4b03fc7415944"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#afb7e3d56dc5f8fccdfd4b03fc7415944">VCOS_BLOCKPOOL_MAX_SUBPOOLS</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_MAX_SUBPOOLS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00051">vcos_generic_blockpool.h:51</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a33a75200a289aead369006e4812354ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a75200a289aead369006e4812354ce">&#9670;&nbsp;</a></span>vcos_generic_blockpool_extend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_extend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>num_extensions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>num_blocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00230">230</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00087">VCOS_BLOCKPOOL_SUBPOOL_TAG::magic</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">VCOS_BLOCKPOOL_TAG::num_subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00051">VCOS_BLOCKPOOL_MAX_SUBPOOLS</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00037">VCOS_BLOCKPOOL_SUBPOOL_MAGIC</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00080">VCOS_EACCESS</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00079">VCOS_EINVAL</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, and <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00075">VCOS_SUCCESS</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> i;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;   vcos_log_trace(<span class="stringliteral">&quot;%s: pool %p num_extensions %d num_blocks %d&quot;</span>,</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;         <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, pool, num_extensions, num_blocks);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   <span class="comment">/* Extend may only be called once */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   <span class="keywordflow">if</span> (pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a> &gt; 1)</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8a31a8d0b4f3246865f5ea9797aaebaff7">VCOS_EACCESS</a>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   <span class="keywordflow">if</span> (num_extensions &lt; 1 ||</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;         num_extensions &gt; <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#afb7e3d56dc5f8fccdfd4b03fc7415944">VCOS_BLOCKPOOL_MAX_SUBPOOLS</a> - 1)</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8a0aff9065b9a12ec5d1e85068df84529a">VCOS_EINVAL</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   <span class="keywordflow">if</span> (num_blocks &lt; 1)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8a0aff9065b9a12ec5d1e85068df84529a">VCOS_EINVAL</a>;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a> += num_extensions;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">num_extension_blocks</a> = num_blocks;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="comment">/* Mark these subpools as valid but unallocated */</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">for</span> (i = 1; i &lt; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a>; ++i)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a98f93373b24b36a865b98b6e6bfe54d7">magic</a> = <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#afd016f9e29da5129c59d64e4e7634d49">VCOS_BLOCKPOOL_SUBPOOL_MAGIC</a>;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i].<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div><div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a304fb47fe810c7635d8d7819d44a64c1"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_extension_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">vcos_generic_blockpool.h:124</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_afd016f9e29da5129c59d64e4e7634d49"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#afd016f9e29da5129c59d64e4e7634d49">VCOS_BLOCKPOOL_SUBPOOL_MAGIC</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00037">vcos_generic_blockpool.c:37</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a98f93373b24b36a865b98b6e6bfe54d7"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a98f93373b24b36a865b98b6e6bfe54d7">VCOS_BLOCKPOOL_SUBPOOL_TAG::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00087">vcos_generic_blockpool.h:87</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_aeecd0fdd6ab11fe8834f04ab72aa9f01"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a></div><div class="ttdeci">void * mem</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">vcos_generic_blockpool.h:90</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8a0aff9065b9a12ec5d1e85068df84529a"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8a0aff9065b9a12ec5d1e85068df84529a">VCOS_EINVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00079">vcos_types.h:79</a></div></div>
<div class="ttc" id="vcos__platform_8h_html_ad4f4a7c5ec347ceae4a1094b5e1fd3b4"><div class="ttname"><a href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a></div><div class="ttdeci">uint32_t VCOS_UNSIGNED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/vcos__platform_8h_source.html#l00097">vcos_platform.h:97</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49524e6ce73a0c92b68e7124af2dac6f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">VCOS_BLOCKPOOL_TAG::num_subpools</a></div><div class="ttdeci">VCOS_UNSIGNED num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">vcos_generic_blockpool.h:122</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_afb7e3d56dc5f8fccdfd4b03fc7415944"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#afb7e3d56dc5f8fccdfd4b03fc7415944">VCOS_BLOCKPOOL_MAX_SUBPOOLS</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_MAX_SUBPOOLS</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00051">vcos_generic_blockpool.h:51</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8a31a8d0b4f3246865f5ea9797aaebaff7"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8a31a8d0b4f3246865f5ea9797aaebaff7">VCOS_EACCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00080">vcos_types.h:80</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb42df835b963098b2fdf3f1f85b6b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb42df835b963098b2fdf3f1f85b6b4c">&#9670;&nbsp;</a></span>vcos_generic_blockpool_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00347">347</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">ASSERT_SUBPOOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">VCOS_BLOCKPOOL_TAG::block_data_size</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00102">VCOS_BLOCKPOOL_SUBPOOL_TAG::flags</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00088">VCOS_BLOCKPOOL_SUBPOOL_TAG::free_list</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00079">VCOS_BLOCKPOOL_HEADER_TAG::next</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a>, <a class="el" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00100">VCOS_BLOCKPOOL_SUBPOOL_TAG::owner</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00063">VCOS_BLOCKPOOL_DEBUG_LOG</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00050">VCOS_BLOCKPOOL_OVERWRITE_ON_FREE</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00041">VCOS_BLOCKPOOL_SUBPOOL_FLAG_EXTENSION</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a0555fdedab385641410a16a2cce6da67">VCOS_BLOCKPOOL_DEBUG_LOG</a>(<span class="stringliteral">&quot;block %p&quot;</span>, block);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">if</span> (block)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;   {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      <a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>* hdr = (<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>*) block - 1;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool = hdr-&gt;<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">owner</a>.<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">subpool</a>;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_T</a> *pool = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a>(subpool);</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      pool = subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a2da98fa022123eea3211a8613fc43af3">owner</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>((<span class="keywordtype">unsigned</span>) subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">available_blocks</a> &lt; subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">num_blocks</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      <span class="comment">/* Change ownership of block to be the free list */</span></div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      hdr-&gt;<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">owner</a>.<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#abcb72799400ed6a35ccd2b9a8df788c0">next</a> = subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a50575a3b801428f5e1daec33f239e928">free_list</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a50575a3b801428f5e1daec33f239e928">free_list</a> = hdr;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      ++(subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">available_blocks</a>);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a33db5167a466971fff3c3c049866699f">VCOS_BLOCKPOOL_OVERWRITE_ON_FREE</a>)</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;         memset(block, 0xBD, pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">block_data_size</a>); <span class="comment">/* For debugging */</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      <span class="keywordflow">if</span> ( (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a5841dbb00691f651cff2ae3258a93685">flags</a> &amp; <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#acb25c53f420658cbf9cb6e647440413b">VCOS_BLOCKPOOL_SUBPOOL_FLAG_EXTENSION</a>) &amp;&amp;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">available_blocks</a> == subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">num_blocks</a>)</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;         <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a0555fdedab385641410a16a2cce6da67">VCOS_BLOCKPOOL_DEBUG_LOG</a>(<span class="stringliteral">&quot;%s: freeing subpool %p mem %p&quot;</span>, <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;               subpool, subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;         <span class="comment">/* Free the sub-pool if it was dynamically allocated */</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;         <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;         subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;         subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;      }</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;   }</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a33db5167a466971fff3c3c049866699f"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a33db5167a466971fff3c3c049866699f">VCOS_BLOCKPOOL_OVERWRITE_ON_FREE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_OVERWRITE_ON_FREE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00050">vcos_generic_blockpool.c:50</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a7c577d8115adf6d1ae2e1a155fb82dcc"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">VCOS_BLOCKPOOL_TAG::block_data_size</a></div><div class="ttdeci">size_t block_data_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">vcos_generic_blockpool.h:116</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a50575a3b801428f5e1daec33f239e928"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a50575a3b801428f5e1daec33f239e928">VCOS_BLOCKPOOL_SUBPOOL_TAG::free_list</a></div><div class="ttdeci">VCOS_BLOCKPOOL_HEADER_T * free_list</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00088">vcos_generic_blockpool.h:88</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a6ed78390e9c25be96eef900d8b66096b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a></div><div class="ttdeci">#define ASSERT_SUBPOOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">vcos_generic_blockpool.c:69</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00073">vcos_generic_blockpool.h:73</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a48d71261259537d83e64eed3ef906260"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_SUBPOOL_TAG * subpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">vcos_generic_blockpool.h:80</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a0555fdedab385641410a16a2cce6da67"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a0555fdedab385641410a16a2cce6da67">VCOS_BLOCKPOOL_DEBUG_LOG</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_DEBUG_LOG(s,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00063">vcos_generic_blockpool.c:63</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_aeecd0fdd6ab11fe8834f04ab72aa9f01"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a></div><div class="ttdeci">void * mem</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">vcos_generic_blockpool.h:90</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a2da98fa022123eea3211a8613fc43af3"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a2da98fa022123eea3211a8613fc43af3">VCOS_BLOCKPOOL_SUBPOOL_TAG::owner</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_TAG * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00100">vcos_generic_blockpool.h:100</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a11369a25f6d2839fa561aac20c2d4232"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a></div><div class="ttdeci">union VCOS_BLOCKPOOL_HEADER_TAG::@233 owner</div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_acb25c53f420658cbf9cb6e647440413b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#acb25c53f420658cbf9cb6e647440413b">VCOS_BLOCKPOOL_SUBPOOL_FLAG_EXTENSION</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_FLAG_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00041">vcos_generic_blockpool.c:41</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a67adf23666b9048ec4bf07b5d02b7a43"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">vcos_generic_blockpool.h:96</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_abcb72799400ed6a35ccd2b9a8df788c0"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#abcb72799400ed6a35ccd2b9a8df788c0">VCOS_BLOCKPOOL_HEADER_TAG::next</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_HEADER_TAG * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00079">vcos_generic_blockpool.h:79</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html">VCOS_BLOCKPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00105">vcos_generic_blockpool.h:105</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a6f03cd54ef45af7633ec04c763b0f7ea"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED available_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">vcos_generic_blockpool.h:98</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a5841dbb00691f651cff2ae3258a93685"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a5841dbb00691f651cff2ae3258a93685">VCOS_BLOCKPOOL_SUBPOOL_TAG::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00102">vcos_generic_blockpool.h:102</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a974c45bd061c70b99c71efb25c858f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a974c45bd061c70b99c71efb25c858f7e">&#9670;&nbsp;</a></span>vcos_generic_blockpool_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>num_blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>block_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>pool_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>align</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00140">140</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00112">VCOS_BLOCKPOOL_TAG::align</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">VCOS_BLOCKPOOL_TAG::block_data_size</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">VCOS_BLOCKPOOL_TAG::block_size</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00108">VCOS_BLOCKPOOL_TAG::magic</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">VCOS_BLOCKPOOL_TAG::num_subpools</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00037">status</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00070">VCOS_BLOCKPOOL_ALIGN_DEFAULT</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00036">VCOS_BLOCKPOOL_MAGIC</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00132">VCOS_BLOCKPOOL_ROUND_UP</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">VCOS_BLOCKPOOL_SIZE</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a7452aaf38a800ca29241240ac18f537e">vcos_demand</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00079">VCOS_EINVAL</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00081">VCOS_ENOMEM</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create()</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00075">VCOS_SUCCESS</a>, and <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a6960c85c99ae44c85dff765dfc5bc7d9">vcos_unused</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00202">vcos_generic_blockpool_create_on_heap()</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;   <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a> = <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a6960c85c99ae44c85dff765dfc5bc7d9">vcos_unused</a>(<a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a6960c85c99ae44c85dff765dfc5bc7d9">vcos_unused</a>(<a class="code" href="../../d3/dda/eglext_8h.html#a0f1b4b29f7a4e4106eec81bb30f16a01">flags</a>);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   vcos_log_trace(</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;         <span class="stringliteral">&quot;%s: pool %p num_blocks %d block_size %d start %p pool_size %d name %p&quot;</span>,</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;         <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, pool, num_blocks, block_size, start, pool_size, <a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a7452aaf38a800ca29241240ac18f537e">vcos_demand</a>(pool);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a7452aaf38a800ca29241240ac18f537e">vcos_demand</a>(start);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>((block_size &gt; 0));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(num_blocks &gt; 0);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;   <span class="keywordflow">if</span> (! align)</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      align = <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a4b9463077429472afe937875556f45ec">VCOS_BLOCKPOOL_ALIGN_DEFAULT</a>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;   <span class="keywordflow">if</span> (align &amp; 0x3)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;   {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      vcos_log_error(<span class="stringliteral">&quot;%s: invalid alignment %d&quot;</span>, <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, align);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8a0aff9065b9a12ec5d1e85068df84529a">VCOS_EINVAL</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a>(num_blocks, block_size, align) &gt; pool_size)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      vcos_log_error(<span class="stringliteral">&quot;%s: Pool is too small&quot;</span> \</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="stringliteral">&quot; num_blocks %d block_size %d align %d&quot;</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="stringliteral">&quot; pool_size %d required size %d&quot;</span>, <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>,</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            num_blocks, block_size, align,</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            pool_size, (<span class="keywordtype">int</span>) <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a>(num_blocks, block_size, align));</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8acdc4bb6fa0cab99955b64136f1bb7926">VCOS_ENOMEM</a>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;   }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;   status = <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>, <span class="stringliteral">&quot;vcos blockpool mutex&quot;</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">if</span> (status != <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">block_data_size</a> = block_size;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;   <span class="comment">/* TODO - create flag that if set forces the header to be in its own cache</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">    * line */</span></div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">block_size</a> = <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a67b28df2a0aa8717830384ce287679ec">VCOS_BLOCKPOOL_ROUND_UP</a>(pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">block_data_size</a> +</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;         (align &gt;= 4096 ? 32 : 0) +</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;         <span class="keyword">sizeof</span>(<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>), align);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49bb3f645a40db88d96ebe9f1cb12c3a">magic</a> = <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#ad3622a61484d0690b2fca29e4e5d3c91">VCOS_BLOCKPOOL_MAGIC</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a> = 1;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">num_extension_blocks</a> = 0;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a44792b33be5c06b3be4529acdf3c9c55">align</a> = align;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   memset(pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>, 0, <span class="keyword">sizeof</span>(pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>));</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   vcos_generic_blockpool_subpool_init(pool, &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[0], start,</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;         pool_size, num_blocks, align, <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#ae1a73ec61b543cb86d7671b67315aefd">VCOS_BLOCKPOOL_SUBPOOL_FLAG_NONE</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a304fb47fe810c7635d8d7819d44a64c1"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a304fb47fe810c7635d8d7819d44a64c1">VCOS_BLOCKPOOL_TAG::num_extension_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_extension_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00124">vcos_generic_blockpool.h:124</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a4b9463077429472afe937875556f45ec"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a4b9463077429472afe937875556f45ec">VCOS_BLOCKPOOL_ALIGN_DEFAULT</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_ALIGN_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00070">vcos_generic_blockpool.h:70</a></div></div>
<div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a></div><div class="ttdeci">VCOS_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00073">vcos_types.h:73</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a67b28df2a0aa8717830384ce287679ec"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a67b28df2a0aa8717830384ce287679ec">VCOS_BLOCKPOOL_ROUND_UP</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_ROUND_UP(x, s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00132">vcos_generic_blockpool.h:132</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a6960c85c99ae44c85dff765dfc5bc7d9"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a6960c85c99ae44c85dff765dfc5bc7d9">vcos_unused</a></div><div class="ttdeci">#define vcos_unused(x)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a7c577d8115adf6d1ae2e1a155fb82dcc"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a7c577d8115adf6d1ae2e1a155fb82dcc">VCOS_BLOCKPOOL_TAG::block_data_size</a></div><div class="ttdeci">size_t block_data_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00116">vcos_generic_blockpool.h:116</a></div></div>
<div class="ttc" id="containers__filters_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d97/containers__filters_8c_source.html#l00058">containers_filters.c:58</a></div></div>
<div class="ttc" id="eglext_8h_html_a0f1b4b29f7a4e4106eec81bb30f16a01"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0f1b4b29f7a4e4106eec81bb30f16a01">flags</a></div><div class="ttdeci">EGLSyncKHR EGLint flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00188">eglext.h:188</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00073">vcos_generic_blockpool.h:73</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8h_html_a070fba9d4f4c3251c7f7cf13e90058c8"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a070fba9d4f4c3251c7f7cf13e90058c8">VCOS_BLOCKPOOL_SIZE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SIZE(num_blocks, block_size, align)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00145">vcos_generic_blockpool.h:145</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a2243d9fb08222a6fd9c5abe82331d796"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a2243d9fb08222a6fd9c5abe82331d796">vcos_mutex_create</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_create(VCOS_MUTEX_T *m, const char *name)</div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8a0aff9065b9a12ec5d1e85068df84529a"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8a0aff9065b9a12ec5d1e85068df84529a">VCOS_EINVAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00079">vcos_types.h:79</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49bb3f645a40db88d96ebe9f1cb12c3a"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49bb3f645a40db88d96ebe9f1cb12c3a">VCOS_BLOCKPOOL_TAG::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00108">vcos_generic_blockpool.h:108</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_ad3622a61484d0690b2fca29e4e5d3c91"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#ad3622a61484d0690b2fca29e4e5d3c91">VCOS_BLOCKPOOL_MAGIC</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00036">vcos_generic_blockpool.c:36</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a7452aaf38a800ca29241240ac18f537e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a7452aaf38a800ca29241240ac18f537e">vcos_demand</a></div><div class="ttdeci">#define vcos_demand(cond)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49524e6ce73a0c92b68e7124af2dac6f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">VCOS_BLOCKPOOL_TAG::num_subpools</a></div><div class="ttdeci">VCOS_UNSIGNED num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">vcos_generic_blockpool.h:122</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a44792b33be5c06b3be4529acdf3c9c55"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a44792b33be5c06b3be4529acdf3c9c55">VCOS_BLOCKPOOL_TAG::align</a></div><div class="ttdeci">VCOS_UNSIGNED align</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00112">vcos_generic_blockpool.h:112</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a9c470606deb212b4eca84780f1c6dc2f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">VCOS_BLOCKPOOL_TAG::block_size</a></div><div class="ttdeci">size_t block_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">vcos_generic_blockpool.h:118</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8acdc4bb6fa0cab99955b64136f1bb7926"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8acdc4bb6fa0cab99955b64136f1bb7926">VCOS_ENOMEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00081">vcos_types.h:81</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_ae1a73ec61b543cb86d7671b67315aefd"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#ae1a73ec61b543cb86d7671b67315aefd">VCOS_BLOCKPOOL_SUBPOOL_FLAG_NONE</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_SUBPOOL_FLAG_NONE</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00039">vcos_generic_blockpool.c:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ece7acf9a5bce6dc5aa2b2efb1f93c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ece7acf9a5bce6dc5aa2b2efb1f93c1">&#9670;&nbsp;</a></span>vcos_generic_blockpool_is_valid_elem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_is_valid_elem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00530">530</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">ASSERT_SUBPOOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">VCOS_BLOCKPOOL_TAG::block_size</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">VCOS_BLOCKPOOL_TAG::num_subpools</a>, <a class="el" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00100">VCOS_BLOCKPOOL_SUBPOOL_TAG::owner</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;{</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;   <a class="code" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> ret = 0;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *pool_end;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;   <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> i = 0;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;   <span class="keywordflow">if</span> (((<span class="keywordtype">size_t</span>) block) &amp; 0x3)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a>; ++i)</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;   {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool = &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i];</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;      <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a>(subpool);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="keywordflow">if</span> (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">mem</a> &amp;&amp; subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a>)</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;         pool_end = (<span class="keyword">const</span> <span class="keywordtype">char</span>*)subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a> +</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">num_blocks</a> * pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">block_size</a>);</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;         <span class="keywordflow">if</span> ((<span class="keyword">const</span> <span class="keywordtype">char</span>*)block &gt; (<span class="keyword">const</span> <span class="keywordtype">char</span>*)subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a> &amp;&amp;</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;               (<span class="keyword">const</span> <span class="keywordtype">char</span>*)block &lt; pool_end)</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;         {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keyword">const</span> <a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a> *hdr = (</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                  <span class="keyword">const</span> <a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_T</a>*) block - 1;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="comment">/* If the block has a header where the owner points to the pool then</span></div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;<span class="comment">             * it&#39;s a valid block. */</span></div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            ret = (hdr-&gt;<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">owner</a>.<a class="code" href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">subpool</a> == subpool &amp;&amp; subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a2da98fa022123eea3211a8613fc43af3">owner</a> == pool);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;         }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      }</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;   }</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;}</div><div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a6ed78390e9c25be96eef900d8b66096b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a></div><div class="ttdeci">#define ASSERT_SUBPOOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">vcos_generic_blockpool.c:69</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html">VCOS_BLOCKPOOL_HEADER_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00073">vcos_generic_blockpool.h:73</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a48d71261259537d83e64eed3ef906260"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a48d71261259537d83e64eed3ef906260">VCOS_BLOCKPOOL_HEADER_TAG::subpool</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_SUBPOOL_TAG * subpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00080">vcos_generic_blockpool.h:80</a></div></div>
<div class="ttc" id="containers__types_8h_html_a06896e8c53f721507066c079052171f8"><div class="ttname"><a href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a></div><div class="ttdeci">unsigned long uint32_t</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d5f/containers__types_8h_source.html#l00073">containers_types.h:73</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_aeecd0fdd6ab11fe8834f04ab72aa9f01"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#aeecd0fdd6ab11fe8834f04ab72aa9f01">VCOS_BLOCKPOOL_SUBPOOL_TAG::mem</a></div><div class="ttdeci">void * mem</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00090">vcos_generic_blockpool.h:90</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a2da98fa022123eea3211a8613fc43af3"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a2da98fa022123eea3211a8613fc43af3">VCOS_BLOCKPOOL_SUBPOOL_TAG::owner</a></div><div class="ttdeci">struct VCOS_BLOCKPOOL_TAG * owner</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00100">vcos_generic_blockpool.h:100</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__HEADER__TAG_html_a11369a25f6d2839fa561aac20c2d4232"><div class="ttname"><a href="../../d9/d40/structVCOS__BLOCKPOOL__HEADER__TAG.html#a11369a25f6d2839fa561aac20c2d4232">VCOS_BLOCKPOOL_HEADER_TAG::owner</a></div><div class="ttdeci">union VCOS_BLOCKPOOL_HEADER_TAG::@233 owner</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a67adf23666b9048ec4bf07b5d02b7a43"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">vcos_generic_blockpool.h:96</a></div></div>
<div class="ttc" id="vcos__platform_8h_html_ad4f4a7c5ec347ceae4a1094b5e1fd3b4"><div class="ttname"><a href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a></div><div class="ttdeci">uint32_t VCOS_UNSIGNED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/vcos__platform_8h_source.html#l00097">vcos_platform.h:97</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49524e6ce73a0c92b68e7124af2dac6f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">VCOS_BLOCKPOOL_TAG::num_subpools</a></div><div class="ttdeci">VCOS_UNSIGNED num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">vcos_generic_blockpool.h:122</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a9c470606deb212b4eca84780f1c6dc2f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a9c470606deb212b4eca84780f1c6dc2f">VCOS_BLOCKPOOL_TAG::block_size</a></div><div class="ttdeci">size_t block_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00118">vcos_generic_blockpool.h:118</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adae3af530a713f4430504a20bc2a9a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae3af530a713f4430504a20bc2a9a1c">&#9670;&nbsp;</a></span>vcos_generic_blockpool_used_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_generic_blockpool_used_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d22/vcos__generic__blockpool_8h.html#a907bb45f15ba1f0f465d5f50f87ce158">VCOS_BLOCKPOOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00407">407</a> of file <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html">vcos_generic_blockpool.c</a>.</p>

<p class="reference">References <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">ASSERT_POOL</a>, <a class="el" href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">ASSERT_SUBPOOL</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">VCOS_BLOCKPOOL_TAG::mutex</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">VCOS_BLOCKPOOL_TAG::num_subpools</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">VCOS_BLOCKPOOL_TAG::subpools</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, and <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;   <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> ret = 0;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;   <a class="code" href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a> i;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;   <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a>(pool);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keywordflow">for</span> (i = 0; i &lt; pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">num_subpools</a>; ++i)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      <a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_T</a> *subpool = &amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">subpools</a>[i];</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;      <a class="code" href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a>(subpool);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;      <span class="keywordflow">if</span> (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">start</a>)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;         ret += (subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">num_blocks</a> - subpool-&gt;<a class="code" href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">available_blocks</a>);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;   }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;pool-&gt;<a class="code" href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">mutex</a>);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   <span class="keywordflow">return</span> ret;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html">VCOS_BLOCKPOOL_SUBPOOL_TAG</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00084">vcos_generic_blockpool.h:84</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a6ed78390e9c25be96eef900d8b66096b"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a6ed78390e9c25be96eef900d8b66096b">ASSERT_SUBPOOL</a></div><div class="ttdeci">#define ASSERT_SUBPOOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00069">vcos_generic_blockpool.c:69</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_adab4abd14deefdc5311bbde39ed0d9a2"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#adab4abd14deefdc5311bbde39ed0d9a2">VCOS_BLOCKPOOL_SUBPOOL_TAG::start</a></div><div class="ttdeci">void * start</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00092">vcos_generic_blockpool.h:92</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a67adf23666b9048ec4bf07b5d02b7a43"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a67adf23666b9048ec4bf07b5d02b7a43">VCOS_BLOCKPOOL_SUBPOOL_TAG::num_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED num_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00096">vcos_generic_blockpool.h:96</a></div></div>
<div class="ttc" id="vcos__platform_8h_html_ad4f4a7c5ec347ceae4a1094b5e1fd3b4"><div class="ttname"><a href="../../db/db8/vcos__platform_8h.html#ad4f4a7c5ec347ceae4a1094b5e1fd3b4">VCOS_UNSIGNED</a></div><div class="ttdeci">uint32_t VCOS_UNSIGNED</div><div class="ttdef"><b>Definition:</b> <a href="../../db/db8/vcos__platform_8h_source.html#l00097">vcos_platform.h:97</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__SUBPOOL__TAG_html_a6f03cd54ef45af7633ec04c763b0f7ea"><div class="ttname"><a href="../../df/da8/structVCOS__BLOCKPOOL__SUBPOOL__TAG.html#a6f03cd54ef45af7633ec04c763b0f7ea">VCOS_BLOCKPOOL_SUBPOOL_TAG::available_blocks</a></div><div class="ttdeci">VCOS_UNSIGNED available_blocks</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00098">vcos_generic_blockpool.h:98</a></div></div>
<div class="ttc" id="vcos__generic__blockpool_8c_html_a215741dac2c4c52abf4e56385e266b8e"><div class="ttname"><a href="../../db/d77/vcos__generic__blockpool_8c.html#a215741dac2c4c52abf4e56385e266b8e">ASSERT_POOL</a></div><div class="ttdeci">#define ASSERT_POOL(p)</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/vcos__generic__blockpool_8c_source.html#l00066">vcos_generic_blockpool.c:66</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a49524e6ce73a0c92b68e7124af2dac6f"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a49524e6ce73a0c92b68e7124af2dac6f">VCOS_BLOCKPOOL_TAG::num_subpools</a></div><div class="ttdeci">VCOS_UNSIGNED num_subpools</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00122">vcos_generic_blockpool.h:122</a></div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_a109ade9a2b307a3fba4745977abd82ba"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#a109ade9a2b307a3fba4745977abd82ba">VCOS_BLOCKPOOL_TAG::subpools</a></div><div class="ttdeci">VCOS_BLOCKPOOL_SUBPOOL_T subpools[VCOS_BLOCKPOOL_MAX_SUBPOOLS]</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00129">vcos_generic_blockpool.h:129</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="structVCOS__BLOCKPOOL__TAG_html_ada9f477d6e1f13e5607de73e6a302b31"><div class="ttname"><a href="../../d4/d46/structVCOS__BLOCKPOOL__TAG.html#ada9f477d6e1f13e5607de73e6a302b31">VCOS_BLOCKPOOL_TAG::mutex</a></div><div class="ttdeci">VCOS_MUTEX_T mutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00110">vcos_generic_blockpool.h:110</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: Utility functions</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Utility functions</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Utility functions:</div>
<div class="dyncontent">
<center><table><tr><td><img src="../../d3/d14/group__MmalUtilities.png" border="0" alt="" usemap="#d3_2d14_2group____MmalUtilities"/>
<map name="d3_2d14_2group____MmalUtilities" id="d3_2d14_2group____MmalUtilities">
<area shape="rect" id="node1" href="../../da/de4/group__MmalRationalUtilities.html" title="Rational Utility Functions" alt="" coords="177,5,347,32"/>
<area shape="rect" id="node2" href="../../d7/dfb/group__MmalConnectionUtility.html" title="Port connection utility" alt="" coords="188,56,336,83"/>
<area shape="rect" id="node3" href="../../df/db6/group__MmalILUtility.html" title="MMAL to OMX IL conversion\l utilities" alt="" coords="167,107,357,149"/>
<area shape="rect" id="node4" href="../../d5/d6a/group__MmalComponentWrapper.html" title="utility" alt="" coords="235,173,289,200"/>
<area shape="rect" id="node6" href="../../d6/d2b/group__MmalGraphUtility.html" title="Graph Utility" alt="" coords="215,224,309,251"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:d5/d6a/group__MmalComponentWrapper"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d6a/group__MmalComponentWrapper.html">utility</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d7/dfb/group__MmalConnectionUtility"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/dfb/group__MmalConnectionUtility.html">Port connection utility</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:d6/d2b/group__MmalGraphUtility"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d2b/group__MmalGraphUtility.html">Graph Utility</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:df/db6/group__MmalILUtility"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/db6/group__MmalILUtility.html">MMAL to OMX IL conversion utilities</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:da/de4/group__MmalRationalUtilities"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/de4/group__MmalRationalUtilities.html">Rational Utility Functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga929afb11737fa1f65234bf0af53e11a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga929afb11737fa1f65234bf0af53e11a2">MMAL_OFFSET</a>(TYPE,  FIELD)&#160;&#160;&#160;((size_t)((<a class="el" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *)&amp;((TYPE*)0)-&gt;FIELD - (<a class="el" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *)0))</td></tr>
<tr class="separator:ga929afb11737fa1f65234bf0af53e11a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa7effcf538b48b6ac43133ad7d078044"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#gaa7effcf538b48b6ac43133ad7d078044">mmal_status_to_string</a> (<a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> <a class="el" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>)</td></tr>
<tr class="separator:gaa7effcf538b48b6ac43133ad7d078044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8027f8612035849d1bf5ce22e7797c60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga8027f8612035849d1bf5ce22e7797c60">mmal_encoding_stride_to_width</a> (<a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a>, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../dc/dd2/glext_8h.html#adff86afa66c5f69fb24055dcbcb86fac">stride</a>)</td></tr>
<tr class="separator:ga8027f8612035849d1bf5ce22e7797c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e5f391d5089161a0be21687b68a160e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga5e5f391d5089161a0be21687b68a160e">mmal_encoding_width_to_stride</a> (<a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a>, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../dc/dd2/glext_8h.html#a9a82cf3caff84cabc4598e2619faac17">width</a>)</td></tr>
<tr class="separator:ga5e5f391d5089161a0be21687b68a160e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga967b5c32d93f50170e5af6c45096f741"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga967b5c32d93f50170e5af6c45096f741">mmal_encoding_get_slice_variant</a> (<a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a>)</td></tr>
<tr class="separator:ga967b5c32d93f50170e5af6c45096f741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga04f035c7f4403cf08cc8f8961b4dc7a3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga04f035c7f4403cf08cc8f8961b4dc7a3">mmal_port_type_to_string</a> (<a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a> <a class="el" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>)</td></tr>
<tr class="separator:ga04f035c7f4403cf08cc8f8961b4dc7a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63c0afe0ef5c20415d40681346cdd5c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga63c0afe0ef5c20415d40681346cdd5c3">mmal_port_parameter_alloc_get</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../d1/d3f/eglext__brcm_8h.html#aa9b5a9713465065d2a4caeeb076fec88">id</a>, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a>, <a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> *<a class="el" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>)</td></tr>
<tr class="separator:ga63c0afe0ef5c20415d40681346cdd5c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7e7dd0cc19e5c16dcd9cc9229c4d2708"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga7e7dd0cc19e5c16dcd9cc9229c4d2708">mmal_port_parameter_free</a> (<a class="el" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a> *<a class="el" href="../../dc/dd2/glext_8h.html#a5c586586e43adddacf9f74b10ec40a0b">param</a>)</td></tr>
<tr class="separator:ga7e7dd0cc19e5c16dcd9cc9229c4d2708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3a09589576f4bd4cbd8a149dae84046"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#gac3a09589576f4bd4cbd8a149dae84046">mmal_buffer_header_copy_header</a> (<a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *dest, const <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *<a class="el" href="../../d8/dec/vgext_8h.html#a06a6d354b227d4872f831c8d67dd2280">src</a>)</td></tr>
<tr class="separator:gac3a09589576f4bd4cbd8a149dae84046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7228191288b87cfcd45d275bed55fa38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga7228191288b87cfcd45d275bed55fa38">mmal_port_pool_create</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, unsigned int headers, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> payload_size)</td></tr>
<tr class="separator:ga7228191288b87cfcd45d275bed55fa38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1809406ac2ea1d5c4cb5569487b22048"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga1809406ac2ea1d5c4cb5569487b22048">mmal_port_pool_destroy</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port, <a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *pool)</td></tr>
<tr class="separator:ga1809406ac2ea1d5c4cb5569487b22048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d228d5c170cc5a92c53b475e5069d54"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga8d228d5c170cc5a92c53b475e5069d54">mmal_log_dump_port</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:ga8d228d5c170cc5a92c53b475e5069d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7449eff2119eeb8f3fa35a39727b5c82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga7449eff2119eeb8f3fa35a39727b5c82">mmal_log_dump_format</a> (<a class="el" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html">MMAL_ES_FORMAT_T</a> *<a class="el" href="../../dc/dd2/glext_8h.html#a71a65ffd977afe9c3fef116a5bc9ee27">format</a>)</td></tr>
<tr class="separator:ga7449eff2119eeb8f3fa35a39727b5c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadf255e562d2cf04755e4fdd2963c32b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#gaadf255e562d2cf04755e4fdd2963c32b">mmal_util_get_port</a> (<a class="el" href="../../d3/d4e/structMMAL__COMPONENT__T.html">MMAL_COMPONENT_T</a> *comp, <a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a> <a class="el" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>, unsigned <a class="el" href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a>)</td></tr>
<tr class="separator:gaadf255e562d2cf04755e4fdd2963c32b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840a7068069e0062e1bcf5c5e8665669"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#ga840a7068069e0062e1bcf5c5e8665669">mmal_4cc_to_string</a> (char *buf, size_t <a class="el" href="../../da/d8c/font_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../da/de9/matroska__reader_8c.html#adbe2d9fa7d2b6e77f3a2da80232f75a9">fourcc</a>)</td></tr>
<tr class="separator:ga840a7068069e0062e1bcf5c5e8665669"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae996739d055fa84910d36121a4ef75f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d14/group__MmalUtilities.html#gae996739d055fa84910d36121a4ef75f0">mmal_util_rgb_order_fixed</a> (<a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *port)</td></tr>
<tr class="separator:gae996739d055fa84910d36121a4ef75f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The utility functions provide helpers for common functionality that is not part of the core MMAL API. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga929afb11737fa1f65234bf0af53e11a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga929afb11737fa1f65234bf0af53e11a2">&#9670;&nbsp;</a></span>MMAL_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MMAL_OFFSET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">TYPE, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FIELD&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;((size_t)((<a class="el" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *)&amp;((TYPE*)0)-&gt;FIELD - (<a class="el" href="../../d0/d5f/containers__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *)0))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Offset in bytes of FIELD in TYPE. </p>

<p class="definition">Definition at line <a class="el" href="../../d0/d12/mmal__util_8h_source.html#l00040">40</a> of file <a class="el" href="../../d0/d12/mmal__util_8h_source.html">mmal_util.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga840a7068069e0062e1bcf5c5e8665669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840a7068069e0062e1bcf5c5e8665669">&#9670;&nbsp;</a></span>mmal_4cc_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* mmal_4cc_to_string </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>fourcc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a 4cc into a string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Destination for result </td></tr>
    <tr><td class="paramname">len</td><td>Size of result buffer </td></tr>
    <tr><td class="paramname">fourcc</td><td>4cc to be converted </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>converted string (buf) </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00411">411</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>.</p>
<div class="fragment"><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;{</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;   <span class="keywordtype">char</span> *<a class="code" href="../../d8/dec/vgext_8h.html#a06a6d354b227d4872f831c8d67dd2280">src</a> = (<span class="keywordtype">char</span>*)&amp;<a class="code" href="../../d8/d3a/containers__codecs_8c.html#aa5d906425500585aa7832161b2a40e1b">fourcc</a>;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(<a class="code" href="../../da/d8c/font_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> &gt;= 5);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../da/d8c/font_8c.html#a7360b55975153b822efc5217b7734e6a">len</a> &lt; 5)</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;   {</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;      buf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;   }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d8/d3a/containers__codecs_8c.html#aa5d906425500585aa7832161b2a40e1b">fourcc</a>)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;   {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;      memcpy(buf, src, 4);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      buf[4] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;   }</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;   {</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;      snprintf(buf, <a class="code" href="../../da/d8c/font_8c.html#a7360b55975153b822efc5217b7734e6a">len</a>, <span class="stringliteral">&quot;&lt;0&gt;&quot;</span>);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;   }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;   <span class="keywordflow">return</span> buf;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="containers__codecs_8c_html_aa5d906425500585aa7832161b2a40e1b"><div class="ttname"><a href="../../d8/d3a/containers__codecs_8c.html#aa5d906425500585aa7832161b2a40e1b">fourcc</a></div><div class="ttdeci">uint32_t fourcc</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3a/containers__codecs_8c_source.html#l00088">containers_codecs.c:88</a></div></div>
<div class="ttc" id="font_8c_html_a7360b55975153b822efc5217b7734e6a"><div class="ttname"><a href="../../da/d8c/font_8c.html#a7360b55975153b822efc5217b7734e6a">len</a></div><div class="ttdeci">size_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8c/font_8c_source.html#l00067">font.c:67</a></div></div>
<div class="ttc" id="vgext_8h_html_a06a6d354b227d4872f831c8d67dd2280"><div class="ttname"><a href="../../d8/dec/vgext_8h.html#a06a6d354b227d4872f831c8d67dd2280">src</a></div><div class="ttdeci">VGImage src</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dec/vgext_8h_source.html#l00088">vgext.h:88</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gac3a09589576f4bd4cbd8a149dae84046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac3a09589576f4bd4cbd8a149dae84046">&#9670;&nbsp;</a></span>mmal_buffer_header_copy_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_buffer_header_copy_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>src</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy buffer header metadata from source to destination.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>The destination buffer header. </td></tr>
    <tr><td class="paramname">src</td><td>The source buffer header.</td></tr>
  </table>
  </dd>
</dl>
<p>Copy buffer header metadata from source to dest </p>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00268">268</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00075">MMAL_BUFFER_HEADER_T::cmd</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00090">MMAL_BUFFER_HEADER_T::dts</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00085">MMAL_BUFFER_HEADER_T::flags</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00081">MMAL_BUFFER_HEADER_T::length</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00083">MMAL_BUFFER_HEADER_T::offset</a>, <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00088">MMAL_BUFFER_HEADER_T::pts</a>, and <a class="el" href="../../de/d47/mmal__buffer_8h_source.html#l00095">MMAL_BUFFER_HEADER_T::type</a>.</p>
<div class="fragment"><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;{</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">cmd</a>    = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">cmd</a>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">offset</a> = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">offset</a>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">length</a> = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">length</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">flags</a>  = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">flags</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">pts</a>    = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">pts</a>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;   dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">dts</a>    = src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">dts</a>;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;   *dest-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#abe2ff099e2f96c4c8cca5a8fb949469b">type</a> = *src-&gt;<a class="code" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#abe2ff099e2f96c4c8cca5a8fb949469b">type</a>;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div><div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a8ddb959f740b63406248bd2e5d457163"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a8ddb959f740b63406248bd2e5d457163">MMAL_BUFFER_HEADER_T::pts</a></div><div class="ttdeci">int64_t pts</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00088">mmal_buffer.h:88</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_aafab0a567a9ba1bc56e79903ce404a7c"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aafab0a567a9ba1bc56e79903ce404a7c">MMAL_BUFFER_HEADER_T::cmd</a></div><div class="ttdeci">uint32_t cmd</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00075">mmal_buffer.h:75</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a88cdcfd8bb13c900d41c8119c008560a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a88cdcfd8bb13c900d41c8119c008560a">MMAL_BUFFER_HEADER_T::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00083">mmal_buffer.h:83</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_aad0f33e9407d0d8ad8957aa80cd62359"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#aad0f33e9407d0d8ad8957aa80cd62359">MMAL_BUFFER_HEADER_T::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00085">mmal_buffer.h:85</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1809c0e0d776987a453445ac52030354"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1809c0e0d776987a453445ac52030354">MMAL_BUFFER_HEADER_T::dts</a></div><div class="ttdeci">int64_t dts</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00090">mmal_buffer.h:90</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_abe2ff099e2f96c4c8cca5a8fb949469b"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#abe2ff099e2f96c4c8cca5a8fb949469b">MMAL_BUFFER_HEADER_T::type</a></div><div class="ttdeci">MMAL_BUFFER_HEADER_TYPE_SPECIFIC_T * type</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00095">mmal_buffer.h:95</a></div></div>
<div class="ttc" id="structMMAL__BUFFER__HEADER__T_html_a1d0ab32b72631f893e60b72f23f8570a"><div class="ttname"><a href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html#a1d0ab32b72631f893e60b72f23f8570a">MMAL_BUFFER_HEADER_T::length</a></div><div class="ttdeci">uint32_t length</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d47/mmal__buffer_8h_source.html#l00081">mmal_buffer.h:81</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga967b5c32d93f50170e5af6c45096f741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga967b5c32d93f50170e5af6c45096f741">&#9670;&nbsp;</a></span>mmal_encoding_get_slice_variant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> mmal_encoding_get_slice_variant </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>encoding</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the 16 line high sliced version of a given pixel encoding</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoding</td><td>The pixel encoding (such as one of the <a class="el" href="../../df/d9c/group__MmalEncodings.html">pre-defined encodings</a>) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The sliced equivalent, or MMAL_ENCODING_UNKNOWN if not supported. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00188">188</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <span class="keywordflow">for</span>(i = 0; slice_equivalents[i].encoding != <a class="code" href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a>; i++)</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      <span class="keywordflow">if</span>(slice_equivalents[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a> == <a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;   <span class="keywordflow">return</span> slice_equivalents[i].sliced_encoding;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;}</div><div class="ttc" id="mmal__util_8c_html_abf20f154dd41a6f1b64b0cbfbfb05052"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a></div><div class="ttdeci">uint32_t encoding</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00068">mmal_util.c:68</a></div></div>
<div class="ttc" id="group__MmalFormat_html_gab827d5b622dd1dbbd5937dc8d7eb4034"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a></div><div class="ttdeci">#define MMAL_ENCODING_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00114">mmal_format.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8027f8612035849d1bf5ce22e7797c60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8027f8612035849d1bf5ce22e7797c60">&#9670;&nbsp;</a></span>mmal_encoding_stride_to_width()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> mmal_encoding_stride_to_width </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>encoding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stride</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert stride to pixel width for a given pixel encoding.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoding</td><td>The pixel encoding (such as one of the <a class="el" href="../../df/d9c/group__MmalEncodings.html">pre-defined encodings</a>) </td></tr>
    <tr><td class="paramname">stride</td><td>The stride in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The width in pixels. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00162">162</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;   <span class="keywordflow">for</span>(i = 0; pixel_pitch[i].encoding != <a class="code" href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a>; i++)</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      <span class="keywordflow">if</span>(pixel_pitch[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a> == <a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <span class="keywordflow">if</span>(pixel_pitch[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a> == <a class="code" href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a>)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   <span class="keywordflow">return</span> pixel_pitch[i].pitch_den * <a class="code" href="../../dc/dd2/glext_8h.html#adff86afa66c5f69fb24055dcbcb86fac">stride</a> / pixel_pitch[i].pitch_num;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div><div class="ttc" id="mmal__util_8c_html_abf20f154dd41a6f1b64b0cbfbfb05052"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a></div><div class="ttdeci">uint32_t encoding</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00068">mmal_util.c:68</a></div></div>
<div class="ttc" id="glext_8h_html_adff86afa66c5f69fb24055dcbcb86fac"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#adff86afa66c5f69fb24055dcbcb86fac">stride</a></div><div class="ttdeci">GLenum GLsizei stride</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00760">glext.h:760</a></div></div>
<div class="ttc" id="group__MmalFormat_html_gab827d5b622dd1dbbd5937dc8d7eb4034"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a></div><div class="ttdeci">#define MMAL_ENCODING_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00114">mmal_format.h:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga5e5f391d5089161a0be21687b68a160e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e5f391d5089161a0be21687b68a160e">&#9670;&nbsp;</a></span>mmal_encoding_width_to_stride()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> mmal_encoding_width_to_stride </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>encoding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>width</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert pixel width to stride for a given pixel encoding</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encoding</td><td>The pixel encoding (such as one of the <a class="el" href="../../df/d9c/group__MmalEncodings.html">pre-defined encodings</a>) </td></tr>
    <tr><td class="paramname">width</td><td>The width in pixels. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The stride in bytes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00175">175</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <span class="keywordflow">for</span>(i = 0; pixel_pitch[i].encoding != <a class="code" href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a>; i++)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordflow">if</span>(pixel_pitch[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a> == <a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;   <span class="keywordflow">if</span>(pixel_pitch[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a> == <a class="code" href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a>)</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a94a88cd85b3267393464f08289ae0430">VCOS_ALIGN_UP</a>(pixel_pitch[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#a1110846353e8535a32e5e4afc228245d">pitch_num</a> * <a class="code" href="../../dc/dd2/glext_8h.html#a9a82cf3caff84cabc4598e2619faac17">width</a> / pixel_pitch[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#a027c89bfff3f12561fa72c06e301f06c">pitch_den</a>, pixel_pitch[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#ae3f914e3c27b98dbfcfcf7f1a00c9bb0">alignment</a>);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div><div class="ttc" id="mmal__util_8c_html_abf20f154dd41a6f1b64b0cbfbfb05052"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#abf20f154dd41a6f1b64b0cbfbfb05052">encoding</a></div><div class="ttdeci">uint32_t encoding</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00068">mmal_util.c:68</a></div></div>
<div class="ttc" id="mmal__util_8c_html_ae3f914e3c27b98dbfcfcf7f1a00c9bb0"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#ae3f914e3c27b98dbfcfcf7f1a00c9bb0">alignment</a></div><div class="ttdeci">uint32_t alignment</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00071">mmal_util.c:71</a></div></div>
<div class="ttc" id="glext_8h_html_a9a82cf3caff84cabc4598e2619faac17"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a9a82cf3caff84cabc4598e2619faac17">width</a></div><div class="ttdeci">GLshort GLshort GLshort width</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00567">glext.h:567</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a94a88cd85b3267393464f08289ae0430"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a94a88cd85b3267393464f08289ae0430">VCOS_ALIGN_UP</a></div><div class="ttdeci">#define VCOS_ALIGN_UP(p, n)</div></div>
<div class="ttc" id="group__MmalFormat_html_gab827d5b622dd1dbbd5937dc8d7eb4034"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#gab827d5b622dd1dbbd5937dc8d7eb4034">MMAL_ENCODING_UNKNOWN</a></div><div class="ttdeci">#define MMAL_ENCODING_UNKNOWN</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00114">mmal_format.h:114</a></div></div>
<div class="ttc" id="mmal__util_8c_html_a1110846353e8535a32e5e4afc228245d"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#a1110846353e8535a32e5e4afc228245d">pitch_num</a></div><div class="ttdeci">uint32_t pitch_num</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00069">mmal_util.c:69</a></div></div>
<div class="ttc" id="mmal__util_8c_html_a027c89bfff3f12561fa72c06e301f06c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#a027c89bfff3f12561fa72c06e301f06c">pitch_den</a></div><div class="ttdeci">uint32_t pitch_den</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00070">mmal_util.c:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7449eff2119eeb8f3fa35a39727b5c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7449eff2119eeb8f3fa35a39727b5c82">&#9670;&nbsp;</a></span>mmal_log_dump_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_log_dump_format </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html">MMAL_ES_FORMAT_T</a> *&#160;</td>
          <td class="paramname"><em>format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log the content of a <a class="el" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html">MMAL_ES_FORMAT_T</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>Pointer to the format to dump. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00329">329</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00098">MMAL_ES_SPECIFIC_FORMAT_T::audio</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00140">MMAL_ES_FORMAT_T::bitrate</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00076">MMAL_AUDIO_FORMAT_T::bits_per_sample</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00077">MMAL_AUDIO_FORMAT_T::block_align</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00073">MMAL_AUDIO_FORMAT_T::channels</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00058">MMAL_VIDEO_FORMAT_T::crop</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00081">MMAL_RATIONAL_T::den</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00129">MMAL_ES_FORMAT_T::encoding</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00138">MMAL_ES_FORMAT_T::es</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00146">MMAL_ES_FORMAT_T::extradata</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00145">MMAL_ES_FORMAT_T::extradata_size</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00141">MMAL_ES_FORMAT_T::flags</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00059">MMAL_VIDEO_FORMAT_T::frame_rate</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00057">MMAL_VIDEO_FORMAT_T::height</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00074">MMAL_RECT_T::height</a>, <a class="el" href="../../df/da3/containers__logging_8h_source.html#l00058">LOG_DEBUG</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00107">MMAL_ES_FORMAT_FLAG_FRAMED</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00047">MMAL_ES_TYPE_AUDIO</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00049">MMAL_ES_TYPE_SUBPICTURE</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00048">MMAL_ES_TYPE_VIDEO</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00080">MMAL_RATIONAL_T::num</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00060">MMAL_VIDEO_FORMAT_T::par</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00074">MMAL_AUDIO_FORMAT_T::sample_rate</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00127">MMAL_ES_FORMAT_T::type</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00099">MMAL_ES_SPECIFIC_FORMAT_T::video</a>, <a class="el" href="../../d2/d50/mmal__format_8h_source.html#l00056">MMAL_VIDEO_FORMAT_T::width</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00073">MMAL_RECT_T::width</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00071">MMAL_RECT_T::x</a>, and <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00072">MMAL_RECT_T::y</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00313">mmal_log_dump_port()</a>.</p>
<div class="fragment"><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;{</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *name_type;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;   <span class="keywordflow">if</span> (!format)</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;   <span class="keywordflow">switch</span>(format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a475baf41567d062e52f63fcb4c8c3f86">type</a>)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;   {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4aaf30fc331b126dd5f12e77af0c150e0c">MMAL_ES_TYPE_AUDIO</a>: name_type = <span class="stringliteral">&quot;audio&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4a79d1b43ce9a21bb468bc8a466e102dcf">MMAL_ES_TYPE_VIDEO</a>: name_type = <span class="stringliteral">&quot;video&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4a56fc7eef7734162dcd6707e578054474">MMAL_ES_TYPE_SUBPICTURE</a>: name_type = <span class="stringliteral">&quot;subpicture&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">default</span>: name_type = <span class="stringliteral">&quot;unknown&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;   <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot;type: %s, fourcc: %4.4s&quot;</span>, name_type, (<span class="keywordtype">char</span> *)&amp;format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a89bd63daf2f62de5c79c854ef719d088">encoding</a>);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;   <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot; bitrate: %i, framed: %i&quot;</span>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a5b4bcb0e523be284bc06e8c25babb163">bitrate</a>,</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            !!(format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a9a841ae6988fcd9eae62c45d0aacad08">flags</a> &amp; <a class="code" href="../../d5/da1/group__MmalFormat.html#ga26178f5c56486c3e5db7f5f7c90598a0">MMAL_ES_FORMAT_FLAG_FRAMED</a>));</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;   <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot; extra data: %i, %p&quot;</span>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#aacd642a60a08c3b2aa0211e29990f1ab">extradata_size</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#ae832c72b3ed803108442244ef90e314a">extradata</a>);</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   <span class="keywordflow">switch</span>(format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a475baf41567d062e52f63fcb4c8c3f86">type</a>)</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   {</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4aaf30fc331b126dd5f12e77af0c150e0c">MMAL_ES_TYPE_AUDIO</a>:</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot; samplerate: %i, channels: %i, bps: %i, block align: %i&quot;</span>,</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;               format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ada9947e8d2c67a0f66e64276df4862d2">audio</a>.<a class="code" href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#aadbf9993ce56663b4199dd9b27b0e4a6">sample_rate</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ada9947e8d2c67a0f66e64276df4862d2">audio</a>.<a class="code" href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#a5ba86cc1ffc4c50b1649eb49a7e6e49b">channels</a>,</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;               format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ada9947e8d2c67a0f66e64276df4862d2">audio</a>.<a class="code" href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#a2570907f86ea67cb993f62df742b3577">bits_per_sample</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ada9947e8d2c67a0f66e64276df4862d2">audio</a>.<a class="code" href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#a70e914b9040a1dd155da34326aa47904">block_align</a>);</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4a79d1b43ce9a21bb468bc8a466e102dcf">MMAL_ES_TYPE_VIDEO</a>:</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot; width: %i, height: %i, (%i,%i,%i,%i)&quot;</span>,</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;               format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#aec6d3aa7405e3da250798dab50e2e9c4">width</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a1d77b2bc4d27bd2e4fefedf00488dd62">height</a>,</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;               format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#af532b46e5d87a881e8d5ac06d1de04a0">crop</a>.<a class="code" href="../../d6/d89/structMMAL__RECT__T.html#a3ceea9704bff0687cb3c226d4b51655d">x</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#af532b46e5d87a881e8d5ac06d1de04a0">crop</a>.<a class="code" href="../../d6/d89/structMMAL__RECT__T.html#a34a646b7ea1dbee5fd1b824b88d61fdb">y</a>,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;               format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#af532b46e5d87a881e8d5ac06d1de04a0">crop</a>.<a class="code" href="../../d6/d89/structMMAL__RECT__T.html#a516522c50550bc0c50e18d6444328a65">width</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#af532b46e5d87a881e8d5ac06d1de04a0">crop</a>.<a class="code" href="../../d6/d89/structMMAL__RECT__T.html#a85781e4fc729805001c770f0c7f7b70d">height</a>);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot; pixel aspect ratio: %i/%i, frame rate: %i/%i&quot;</span>,</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;               format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a2f8ad8c0eec9c5ff9835fbf4a5060a9d">par</a>.<a class="code" href="../../d1/d39/structMMAL__RATIONAL__T.html#a3efe4fa2706826ddbbe3d34aaedc5b0d">num</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a2f8ad8c0eec9c5ff9835fbf4a5060a9d">par</a>.<a class="code" href="../../d1/d39/structMMAL__RATIONAL__T.html#a0aa0892b87af1365f224d40205f1104e">den</a>,</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;               format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a06830b7e861c9940089f1acd65a8cbee">frame_rate</a>.<a class="code" href="../../d1/d39/structMMAL__RATIONAL__T.html#a3efe4fa2706826ddbbe3d34aaedc5b0d">num</a>, format-&gt;<a class="code" href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">es</a>-&gt;<a class="code" href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">video</a>.<a class="code" href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a06830b7e861c9940089f1acd65a8cbee">frame_rate</a>.<a class="code" href="../../d1/d39/structMMAL__RATIONAL__T.html#a0aa0892b87af1365f224d40205f1104e">den</a>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4a56fc7eef7734162dcd6707e578054474">MMAL_ES_TYPE_SUBPICTURE</a>:</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;   <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;   }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="ttc" id="structMMAL__AUDIO__FORMAT__T_html_a70e914b9040a1dd155da34326aa47904"><div class="ttname"><a href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#a70e914b9040a1dd155da34326aa47904">MMAL_AUDIO_FORMAT_T::block_align</a></div><div class="ttdeci">uint32_t block_align</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00077">mmal_format.h:77</a></div></div>
<div class="ttc" id="structMMAL__AUDIO__FORMAT__T_html_aadbf9993ce56663b4199dd9b27b0e4a6"><div class="ttname"><a href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#aadbf9993ce56663b4199dd9b27b0e4a6">MMAL_AUDIO_FORMAT_T::sample_rate</a></div><div class="ttdeci">uint32_t sample_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00074">mmal_format.h:74</a></div></div>
<div class="ttc" id="structMMAL__VIDEO__FORMAT__T_html_aec6d3aa7405e3da250798dab50e2e9c4"><div class="ttname"><a href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#aec6d3aa7405e3da250798dab50e2e9c4">MMAL_VIDEO_FORMAT_T::width</a></div><div class="ttdeci">uint32_t width</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00056">mmal_format.h:56</a></div></div>
<div class="ttc" id="group__MmalFormat_html_ga26178f5c56486c3e5db7f5f7c90598a0"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#ga26178f5c56486c3e5db7f5f7c90598a0">MMAL_ES_FORMAT_FLAG_FRAMED</a></div><div class="ttdeci">#define MMAL_ES_FORMAT_FLAG_FRAMED</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00107">mmal_format.h:107</a></div></div>
<div class="ttc" id="group__MmalFormat_html_gga838de933ae805a000d9986dc569897d4a56fc7eef7734162dcd6707e578054474"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4a56fc7eef7734162dcd6707e578054474">MMAL_ES_TYPE_SUBPICTURE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00049">mmal_format.h:49</a></div></div>
<div class="ttc" id="structMMAL__RATIONAL__T_html_a0aa0892b87af1365f224d40205f1104e"><div class="ttname"><a href="../../d1/d39/structMMAL__RATIONAL__T.html#a0aa0892b87af1365f224d40205f1104e">MMAL_RATIONAL_T::den</a></div><div class="ttdeci">int32_t den</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00081">mmal_types.h:81</a></div></div>
<div class="ttc" id="unionMMAL__ES__SPECIFIC__FORMAT__T_html_ada9947e8d2c67a0f66e64276df4862d2"><div class="ttname"><a href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ada9947e8d2c67a0f66e64276df4862d2">MMAL_ES_SPECIFIC_FORMAT_T::audio</a></div><div class="ttdeci">MMAL_AUDIO_FORMAT_T audio</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00098">mmal_format.h:98</a></div></div>
<div class="ttc" id="structMMAL__ES__FORMAT__T_html_a475baf41567d062e52f63fcb4c8c3f86"><div class="ttname"><a href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a475baf41567d062e52f63fcb4c8c3f86">MMAL_ES_FORMAT_T::type</a></div><div class="ttdeci">MMAL_ES_TYPE_T type</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00127">mmal_format.h:127</a></div></div>
<div class="ttc" id="structMMAL__VIDEO__FORMAT__T_html_a2f8ad8c0eec9c5ff9835fbf4a5060a9d"><div class="ttname"><a href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a2f8ad8c0eec9c5ff9835fbf4a5060a9d">MMAL_VIDEO_FORMAT_T::par</a></div><div class="ttdeci">MMAL_RATIONAL_T par</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00060">mmal_format.h:60</a></div></div>
<div class="ttc" id="structMMAL__RECT__T_html_a516522c50550bc0c50e18d6444328a65"><div class="ttname"><a href="../../d6/d89/structMMAL__RECT__T.html#a516522c50550bc0c50e18d6444328a65">MMAL_RECT_T::width</a></div><div class="ttdeci">int32_t width</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00073">mmal_types.h:73</a></div></div>
<div class="ttc" id="containers__logging_8h_html_a4a8a0599cba9b8e79328a742d470964e"><div class="ttname"><a href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/containers__logging_8h_source.html#l00058">containers_logging.h:58</a></div></div>
<div class="ttc" id="structMMAL__RECT__T_html_a85781e4fc729805001c770f0c7f7b70d"><div class="ttname"><a href="../../d6/d89/structMMAL__RECT__T.html#a85781e4fc729805001c770f0c7f7b70d">MMAL_RECT_T::height</a></div><div class="ttdeci">int32_t height</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00074">mmal_types.h:74</a></div></div>
<div class="ttc" id="structMMAL__ES__FORMAT__T_html_ae832c72b3ed803108442244ef90e314a"><div class="ttname"><a href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#ae832c72b3ed803108442244ef90e314a">MMAL_ES_FORMAT_T::extradata</a></div><div class="ttdeci">uint8_t * extradata</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00146">mmal_format.h:146</a></div></div>
<div class="ttc" id="structMMAL__VIDEO__FORMAT__T_html_a1d77b2bc4d27bd2e4fefedf00488dd62"><div class="ttname"><a href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a1d77b2bc4d27bd2e4fefedf00488dd62">MMAL_VIDEO_FORMAT_T::height</a></div><div class="ttdeci">uint32_t height</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00057">mmal_format.h:57</a></div></div>
<div class="ttc" id="structMMAL__AUDIO__FORMAT__T_html_a2570907f86ea67cb993f62df742b3577"><div class="ttname"><a href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#a2570907f86ea67cb993f62df742b3577">MMAL_AUDIO_FORMAT_T::bits_per_sample</a></div><div class="ttdeci">uint32_t bits_per_sample</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00076">mmal_format.h:76</a></div></div>
<div class="ttc" id="structMMAL__AUDIO__FORMAT__T_html_a5ba86cc1ffc4c50b1649eb49a7e6e49b"><div class="ttname"><a href="../../d3/dd7/structMMAL__AUDIO__FORMAT__T.html#a5ba86cc1ffc4c50b1649eb49a7e6e49b">MMAL_AUDIO_FORMAT_T::channels</a></div><div class="ttdeci">uint32_t channels</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00073">mmal_format.h:73</a></div></div>
<div class="ttc" id="structMMAL__ES__FORMAT__T_html_aacd642a60a08c3b2aa0211e29990f1ab"><div class="ttname"><a href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#aacd642a60a08c3b2aa0211e29990f1ab">MMAL_ES_FORMAT_T::extradata_size</a></div><div class="ttdeci">uint32_t extradata_size</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00145">mmal_format.h:145</a></div></div>
<div class="ttc" id="structMMAL__RECT__T_html_a34a646b7ea1dbee5fd1b824b88d61fdb"><div class="ttname"><a href="../../d6/d89/structMMAL__RECT__T.html#a34a646b7ea1dbee5fd1b824b88d61fdb">MMAL_RECT_T::y</a></div><div class="ttdeci">int32_t y</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00072">mmal_types.h:72</a></div></div>
<div class="ttc" id="structMMAL__ES__FORMAT__T_html_a89bd63daf2f62de5c79c854ef719d088"><div class="ttname"><a href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a89bd63daf2f62de5c79c854ef719d088">MMAL_ES_FORMAT_T::encoding</a></div><div class="ttdeci">MMAL_FOURCC_T encoding</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00129">mmal_format.h:129</a></div></div>
<div class="ttc" id="group__MmalFormat_html_gga838de933ae805a000d9986dc569897d4a79d1b43ce9a21bb468bc8a466e102dcf"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4a79d1b43ce9a21bb468bc8a466e102dcf">MMAL_ES_TYPE_VIDEO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00048">mmal_format.h:48</a></div></div>
<div class="ttc" id="structMMAL__ES__FORMAT__T_html_a2e38651f00f1040aed8e1fee2d658098"><div class="ttname"><a href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a2e38651f00f1040aed8e1fee2d658098">MMAL_ES_FORMAT_T::es</a></div><div class="ttdeci">MMAL_ES_SPECIFIC_FORMAT_T * es</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00138">mmal_format.h:138</a></div></div>
<div class="ttc" id="structMMAL__RECT__T_html_a3ceea9704bff0687cb3c226d4b51655d"><div class="ttname"><a href="../../d6/d89/structMMAL__RECT__T.html#a3ceea9704bff0687cb3c226d4b51655d">MMAL_RECT_T::x</a></div><div class="ttdeci">int32_t x</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00071">mmal_types.h:71</a></div></div>
<div class="ttc" id="structMMAL__VIDEO__FORMAT__T_html_af532b46e5d87a881e8d5ac06d1de04a0"><div class="ttname"><a href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#af532b46e5d87a881e8d5ac06d1de04a0">MMAL_VIDEO_FORMAT_T::crop</a></div><div class="ttdeci">MMAL_RECT_T crop</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00058">mmal_format.h:58</a></div></div>
<div class="ttc" id="structMMAL__ES__FORMAT__T_html_a9a841ae6988fcd9eae62c45d0aacad08"><div class="ttname"><a href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a9a841ae6988fcd9eae62c45d0aacad08">MMAL_ES_FORMAT_T::flags</a></div><div class="ttdeci">uint32_t flags</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00141">mmal_format.h:141</a></div></div>
<div class="ttc" id="structMMAL__RATIONAL__T_html_a3efe4fa2706826ddbbe3d34aaedc5b0d"><div class="ttname"><a href="../../d1/d39/structMMAL__RATIONAL__T.html#a3efe4fa2706826ddbbe3d34aaedc5b0d">MMAL_RATIONAL_T::num</a></div><div class="ttdeci">int32_t num</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00080">mmal_types.h:80</a></div></div>
<div class="ttc" id="group__MmalFormat_html_gga838de933ae805a000d9986dc569897d4aaf30fc331b126dd5f12e77af0c150e0c"><div class="ttname"><a href="../../d5/da1/group__MmalFormat.html#gga838de933ae805a000d9986dc569897d4aaf30fc331b126dd5f12e77af0c150e0c">MMAL_ES_TYPE_AUDIO</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00047">mmal_format.h:47</a></div></div>
<div class="ttc" id="unionMMAL__ES__SPECIFIC__FORMAT__T_html_ac120a2696adc364346687b6efd05225d"><div class="ttname"><a href="../../d0/dd5/unionMMAL__ES__SPECIFIC__FORMAT__T.html#ac120a2696adc364346687b6efd05225d">MMAL_ES_SPECIFIC_FORMAT_T::video</a></div><div class="ttdeci">MMAL_VIDEO_FORMAT_T video</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00099">mmal_format.h:99</a></div></div>
<div class="ttc" id="structMMAL__VIDEO__FORMAT__T_html_a06830b7e861c9940089f1acd65a8cbee"><div class="ttname"><a href="../../d5/de4/structMMAL__VIDEO__FORMAT__T.html#a06830b7e861c9940089f1acd65a8cbee">MMAL_VIDEO_FORMAT_T::frame_rate</a></div><div class="ttdeci">MMAL_RATIONAL_T frame_rate</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00059">mmal_format.h:59</a></div></div>
<div class="ttc" id="structMMAL__ES__FORMAT__T_html_a5b4bcb0e523be284bc06e8c25babb163"><div class="ttname"><a href="../../dd/d4a/structMMAL__ES__FORMAT__T.html#a5b4bcb0e523be284bc06e8c25babb163">MMAL_ES_FORMAT_T::bitrate</a></div><div class="ttdeci">uint32_t bitrate</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d50/mmal__format_8h_source.html#l00140">mmal_format.h:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga8d228d5c170cc5a92c53b475e5069d54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d228d5c170cc5a92c53b475e5069d54">&#9670;&nbsp;</a></span>mmal_log_dump_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_log_dump_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Log the content of a <a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Pointer to the port to dump. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00313">313</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00095">MMAL_PORT_T::buffer_alignment_min</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00104">MMAL_PORT_T::buffer_num</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00091">MMAL_PORT_T::buffer_num_min</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00098">MMAL_PORT_T::buffer_num_recommended</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00106">MMAL_PORT_T::buffer_size</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00093">MMAL_PORT_T::buffer_size_min</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00101">MMAL_PORT_T::buffer_size_recommended</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00089">MMAL_PORT_T::format</a>, <a class="el" href="../../df/da3/containers__logging_8h_source.html#l00058">LOG_DEBUG</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00329">mmal_log_dump_format()</a>, and <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00082">MMAL_PORT_T::name</a>.</p>
<div class="fragment"><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;{</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;   <span class="keywordflow">if</span> (!port)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot;%s(%p)&quot;</span>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">name</a>, port);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;   <a class="code" href="../../d3/d14/group__MmalUtilities.html#ga7449eff2119eeb8f3fa35a39727b5c82">mmal_log_dump_format</a>(port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">format</a>);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;   <a class="code" href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a>(<span class="stringliteral">&quot; buffers num: %i(opt %i, min %i), size: %i(opt %i, min: %i), align: %i&quot;</span>,</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#afedb224ac236134e0802c630ca7edadd">buffer_num</a>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#abdd8fd5e4051411ae18f31c063eca741">buffer_num_recommended</a>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a761fda9e3561f00078820f51334b7cf3">buffer_num_min</a>,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#ac4a6ecc45ef42a4609e5a3a5a706eade">buffer_size</a>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a448fa7a76b24384ac49227bafbd11dac">buffer_size_recommended</a>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a8966f0e7adeea8d9bc64001a73a1c029">buffer_size_min</a>,</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#ab20b89e1b2da255fc7a5ea872fa9b7bf">buffer_alignment_min</a>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;}</div><div class="ttc" id="structMMAL__PORT__T_html_ab20b89e1b2da255fc7a5ea872fa9b7bf"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#ab20b89e1b2da255fc7a5ea872fa9b7bf">MMAL_PORT_T::buffer_alignment_min</a></div><div class="ttdeci">uint32_t buffer_alignment_min</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00095">mmal_port.h:95</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_ac4a6ecc45ef42a4609e5a3a5a706eade"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#ac4a6ecc45ef42a4609e5a3a5a706eade">MMAL_PORT_T::buffer_size</a></div><div class="ttdeci">uint32_t buffer_size</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00106">mmal_port.h:106</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a8966f0e7adeea8d9bc64001a73a1c029"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a8966f0e7adeea8d9bc64001a73a1c029">MMAL_PORT_T::buffer_size_min</a></div><div class="ttdeci">uint32_t buffer_size_min</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00093">mmal_port.h:93</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a6e05320463f593c28c74437b8ae7477f"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a6e05320463f593c28c74437b8ae7477f">MMAL_PORT_T::format</a></div><div class="ttdeci">MMAL_ES_FORMAT_T * format</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00089">mmal_port.h:89</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a761fda9e3561f00078820f51334b7cf3"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a761fda9e3561f00078820f51334b7cf3">MMAL_PORT_T::buffer_num_min</a></div><div class="ttdeci">uint32_t buffer_num_min</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00091">mmal_port.h:91</a></div></div>
<div class="ttc" id="group__MmalUtilities_html_ga7449eff2119eeb8f3fa35a39727b5c82"><div class="ttname"><a href="../../d3/d14/group__MmalUtilities.html#ga7449eff2119eeb8f3fa35a39727b5c82">mmal_log_dump_format</a></div><div class="ttdeci">void mmal_log_dump_format(MMAL_ES_FORMAT_T *format)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00329">mmal_util.c:329</a></div></div>
<div class="ttc" id="containers__logging_8h_html_a4a8a0599cba9b8e79328a742d470964e"><div class="ttname"><a href="../../df/da3/containers__logging_8h.html#a4a8a0599cba9b8e79328a742d470964e">LOG_DEBUG</a></div><div class="ttdeci">#define LOG_DEBUG(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/containers__logging_8h_source.html#l00058">containers_logging.h:58</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a448fa7a76b24384ac49227bafbd11dac"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a448fa7a76b24384ac49227bafbd11dac">MMAL_PORT_T::buffer_size_recommended</a></div><div class="ttdeci">uint32_t buffer_size_recommended</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00101">mmal_port.h:101</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_abdd8fd5e4051411ae18f31c063eca741"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#abdd8fd5e4051411ae18f31c063eca741">MMAL_PORT_T::buffer_num_recommended</a></div><div class="ttdeci">uint32_t buffer_num_recommended</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00098">mmal_port.h:98</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_afedb224ac236134e0802c630ca7edadd"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#afedb224ac236134e0802c630ca7edadd">MMAL_PORT_T::buffer_num</a></div><div class="ttdeci">uint32_t buffer_num</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00104">mmal_port.h:104</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a9871d93b36d3d65e7b8dcf006a9e391c"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a9871d93b36d3d65e7b8dcf006a9e391c">MMAL_PORT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00082">mmal_port.h:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga63c0afe0ef5c20415d40681346cdd5c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63c0afe0ef5c20415d40681346cdd5c3">&#9670;&nbsp;</a></span>mmal_port_parameter_alloc_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a>* mmal_port_parameter_alloc_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a parameter from a port allocating the required amount of memory for the parameter (i.e. for variable length parameters like URI or arrays). The size field will be set on output to the actual size of the parameter allocated and retrieved.</p>
<p>The pointer returned must be released by a call to <a class="el" href="../../d3/d14/group__MmalUtilities.html#ga7e7dd0cc19e5c16dcd9cc9229c4d2708">mmal_port_parameter_free()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port to send request to </td></tr>
    <tr><td class="paramname">id</td><td>parameter id </td></tr>
    <tr><td class="paramname">size</td><td>initial size hint for allocation (can be 0) </td></tr>
    <tr><td class="paramname">status</td><td>status of the parameter get operation (can be 0) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the header of the parameter or NULL on failure. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00214">214</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../d3/d91/utils_8c_source.html#l00443">error()</a>, <a class="el" href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00088">MMAL_PARAMETER_HEADER_T::id</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00049">MMAL_ENOMEM</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00050">MMAL_ENOSPC</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00052">MMAL_ENOSYS</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00868">mmal_port_parameter_get()</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00048">MMAL_SUCCESS</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00089">MMAL_PARAMETER_HEADER_T::size</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00037">status</a>, <a class="el" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc()</a>, and <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>.</p>
<div class="fragment"><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;{</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   <a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a> *<a class="code" href="../../dc/dd2/glext_8h.html#a5c586586e43adddacf9f74b10ec40a0b">param</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <a class="code" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a> = <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fdae307e68d86bdb0f80e466f767543bb90">MMAL_ENOSYS</a>;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a> &lt; <span class="keyword">sizeof</span>(<a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a>))</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a> = <span class="keyword">sizeof</span>(<a class="code" href="../../d4/d6f/mmal__parameters__common_8h.html#a09911dc57c25a6fcbd26b87c4f6d7329">MMAL_PARAMETER_HEADER_T</a>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   <span class="keywordflow">if</span> ((param = <a class="code" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a>(1, <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a>, <span class="stringliteral">&quot;mmal_port_param_get&quot;</span>)) == <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      status = <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e">MMAL_ENOMEM</a>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   param-&gt;<a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a14d03af9671053123827040eda95f29a">id</a> = <a class="code" href="../../d1/d3f/eglext__brcm_8h.html#aa9b5a9713465065d2a4caeeb076fec88">id</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   param-&gt;<a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a404efdd1313f8e16bd209104dde25b56">size</a> = <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a>;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   <span class="keywordflow">if</span> ((status = <a class="code" href="../../d0/d5f/group__MmalPort.html#ga58f2b79985132199992a99790264541a">mmal_port_parameter_get</a>(port, param)) == <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0a5465d7c16b4edfc86508ce8ecd2b51">MMAL_ENOSPC</a>)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">/* We need to reallocate to get enough space for all parameter data */</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a> = param-&gt;<a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a404efdd1313f8e16bd209104dde25b56">size</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(param);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">if</span> ((param = <a class="code" href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a>(1, <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a>, <span class="stringliteral">&quot;mmal_port_param_get&quot;</span>)) == <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;         status = <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e">MMAL_ENOMEM</a>;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;         <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="comment">/* Now retrieve it again */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      param-&gt;<a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a14d03af9671053123827040eda95f29a">id</a> = <a class="code" href="../../d1/d3f/eglext__brcm_8h.html#aa9b5a9713465065d2a4caeeb076fec88">id</a>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      param-&gt;<a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a404efdd1313f8e16bd209104dde25b56">size</a> = <a class="code" href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      status = <a class="code" href="../../d0/d5f/group__MmalPort.html#ga58f2b79985132199992a99790264541a">mmal_port_parameter_get</a>(port, param);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   }</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <span class="keywordflow">if</span> (status != <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a>)</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <span class="keywordflow">goto</span> <a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;end:</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   <span class="keywordflow">if</span> (p_status) *p_status = <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../dc/dd2/glext_8h.html#a5c586586e43adddacf9f74b10ec40a0b">param</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<a class="code" href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a>:</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   <span class="keywordflow">if</span> (param) <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(param);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   param = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keywordflow">goto</span> end;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="structMMAL__PARAMETER__HEADER__T_html_a14d03af9671053123827040eda95f29a"><div class="ttname"><a href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a14d03af9671053123827040eda95f29a">MMAL_PARAMETER_HEADER_T::id</a></div><div class="ttdeci">uint32_t id</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00088">mmal_parameters_common.h:88</a></div></div>
<div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structMMAL__PARAMETER__HEADER__T_html"><div class="ttname"><a href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00086">mmal_parameters_common.h:86</a></div></div>
<div class="ttc" id="structMMAL__PARAMETER__HEADER__T_html_a404efdd1313f8e16bd209104dde25b56"><div class="ttname"><a href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a404efdd1313f8e16bd209104dde25b56">MMAL_PARAMETER_HEADER_T::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00089">mmal_parameters_common.h:89</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0087a54d8266a48649fbe0643aa6ab7e">MMAL_ENOMEM</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00049">mmal_types.h:49</a></div></div>
<div class="ttc" id="utils_8c_html_a31a889e0e0f939aa348887bfc5209b70"><div class="ttname"><a href="../../d3/d91/utils_8c.html#a31a889e0e0f939aa348887bfc5209b70">error</a></div><div class="ttdeci">int error(const char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d91/utils_8c_source.html#l00443">utils.c:443</a></div></div>
<div class="ttc" id="glext_8h_html_a9f139c614d49f2a707b6037305b0fec0"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a9f139c614d49f2a707b6037305b0fec0">size</a></div><div class="ttdeci">GLsizei size</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l01070">glext.h:1070</a></div></div>
<div class="ttc" id="mmal__parameters__common_8h_html_a09911dc57c25a6fcbd26b87c4f6d7329"><div class="ttname"><a href="../../d4/d6f/mmal__parameters__common_8h.html#a09911dc57c25a6fcbd26b87c4f6d7329">MMAL_PARAMETER_HEADER_T</a></div><div class="ttdeci">struct MMAL_PARAMETER_HEADER_T MMAL_PARAMETER_HEADER_T</div></div>
<div class="ttc" id="eglext__brcm_8h_html_aa9b5a9713465065d2a4caeeb076fec88"><div class="ttname"><a href="../../d1/d3f/eglext__brcm_8h.html#aa9b5a9713465065d2a4caeeb076fec88">id</a></div><div class="ttdeci">EGLint EGLint const void EGLint EGLint * id</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d3f/eglext__brcm_8h_source.html#l00091">eglext_brcm.h:91</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fdae307e68d86bdb0f80e466f767543bb90"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fdae307e68d86bdb0f80e466f767543bb90">MMAL_ENOSYS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00052">mmal_types.h:52</a></div></div>
<div class="ttc" id="group__MmalTypes_html_ga5ac87230bd615d2b154a9d5899bc37fd"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a></div><div class="ttdeci">MMAL_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00046">mmal_types.h:46</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_a7759d85a5e6d760910600910404f0a89"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#a7759d85a5e6d760910600910404f0a89">vcos_calloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_calloc(VCOS_UNSIGNED num, VCOS_UNSIGNED size, const char *description)</div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0a5465d7c16b4edfc86508ce8ecd2b51"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0a5465d7c16b4edfc86508ce8ecd2b51">MMAL_ENOSPC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00050">mmal_types.h:50</a></div></div>
<div class="ttc" id="group__MmalPort_html_ga58f2b79985132199992a99790264541a"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ga58f2b79985132199992a99790264541a">mmal_port_parameter_get</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_parameter_get(MMAL_PORT_T *port, MMAL_PARAMETER_HEADER_T *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00868">mmal_port.c:868</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="glext_8h_html_a5c586586e43adddacf9f74b10ec40a0b"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a5c586586e43adddacf9f74b10ec40a0b">param</a></div><div class="ttdeci">GLfixed param</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00659">glext.h:659</a></div></div>
<div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7e7dd0cc19e5c16dcd9cc9229c4d2708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e7dd0cc19e5c16dcd9cc9229c4d2708">&#9670;&nbsp;</a></span>mmal_port_parameter_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_port_parameter_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html">MMAL_PARAMETER_HEADER_T</a> *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free a parameter structure previously allocated via <a class="el" href="../../d3/d14/group__MmalUtilities.html#ga63c0afe0ef5c20415d40681346cdd5c3">mmal_port_parameter_alloc_get()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>pointer to header of the parameter </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00261">261</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free()</a>.</p>
<div class="fragment"><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;{</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   <a class="code" href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a>(param);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;}</div><div class="ttc" id="vcos__mem_8h_html_ac95a67aaee66c909ca72b2db5b8e6b01"><div class="ttname"><a href="../../d8/db9/vcos__mem_8h.html#ac95a67aaee66c909ca72b2db5b8e6b01">vcos_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_free(void *ptr)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga7228191288b87cfcd45d275bed55fa38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7228191288b87cfcd45d275bed55fa38">&#9670;&nbsp;</a></span>mmal_port_pool_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a>* mmal_port_pool_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>headers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>payload_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> associated with a specific port. This allows a client to allocate memory for the payload buffers based on the preferences of a port. This for instance will allow the port to allocate memory which can be shared between the host processor and videocore. After allocation, all allocated buffer headers will have been added to the queue.</p>
<p>It is valid to create a pool with no buffer headers, or with zero size payload buffers. The <a class="el" href="../../d8/d6d/group__MmalPool.html#gaafbd65fabba428d264574e84b567c660">mmal_pool_resize()</a> function can be used to increase or decrease the number of buffer headers, or the size of the payload buffers, after creation of the pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Port responsible for creating the pool. </td></tr>
    <tr><td class="paramname">headers</td><td>Number of buffers which will be allocated with the pool. </td></tr>
    <tr><td class="paramname">payload_size</td><td>Size of the payload buffer which will be allocated in each of the buffer headers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the newly created pool or NULL on failure.</dd></dl>
<p>Create a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> </p>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00280">280</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00109">MMAL_PORT_T::component</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00085">MMAL_PORT_T::index</a>, <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00127">mmal_pool_create_with_allocator()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01085">mmal_port_payload_alloc()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l01124">mmal_port_payload_free()</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00057">MMAL_COMPONENT_T::name</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00081">MMAL_PORT_T::priv</a>, and <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00084">MMAL_PORT_T::type</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/mmal__connection_8c_source.html#l00157">mmal_connection_create()</a>, <a class="el" href="../../df/d67/mmal__component__wrapper_8c_source.html#l00133">mmal_wrapper_create()</a>, and <a class="el" href="../../d5/d34/RaspiTex_8c_source.html#l00483">raspitex_configure_preview_port()</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <span class="keywordflow">if</span> (!port || !port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a>)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;%s(%i:%i) port %p, headers %u, size %i&quot;</span>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">name</a>,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;             (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">type</a>, (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">index</a>, port, headers, (<span class="keywordtype">int</span>)payload_size);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;   <span class="comment">/* Create a pool and ask the port for some memory */</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../d8/d6d/group__MmalPool.html#ga20230c4fff4a8db01fd5f8ae85bc685a">mmal_pool_create_with_allocator</a>(headers, payload_size, (<span class="keywordtype">void</span> *)port,</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                                          (<a class="code" href="../../d8/d6d/group__MmalPool.html#gafe54c41f0e3e9ea7b2ea63b49546f175">mmal_pool_allocator_alloc_t</a>)<a class="code" href="../../d0/d5f/group__MmalPort.html#ga24fe58a6e95a5d69f79e1b69a601b714">mmal_port_payload_alloc</a>,</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                          (<a class="code" href="../../d8/d6d/group__MmalPool.html#ga1c2490e9da8d09cf3c677f264b0c88a2">mmal_pool_allocator_free_t</a>)<a class="code" href="../../d0/d5f/group__MmalPort.html#gac130ad58018b781b0522a015bd243801">mmal_port_payload_free</a>);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div><div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_abe5b96512548848f0ee82c2e4b530203"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">MMAL_PORT_T::index</a></div><div class="ttdeci">uint16_t index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00085">mmal_port.h:85</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a180d1b32c6fc449ec4a054b9728ac73c"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">MMAL_COMPONENT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00057">mmal_component.h:57</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a5a937f59e4ccd9375ed2dac72863d541"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">MMAL_PORT_T::component</a></div><div class="ttdeci">struct MMAL_COMPONENT_T * component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00109">mmal_port.h:109</a></div></div>
<div class="ttc" id="group__MmalPort_html_ga24fe58a6e95a5d69f79e1b69a601b714"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ga24fe58a6e95a5d69f79e1b69a601b714">mmal_port_payload_alloc</a></div><div class="ttdeci">uint8_t * mmal_port_payload_alloc(MMAL_PORT_T *port, uint32_t payload_size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l01085">mmal_port.c:1085</a></div></div>
<div class="ttc" id="group__MmalPort_html_gac130ad58018b781b0522a015bd243801"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#gac130ad58018b781b0522a015bd243801">mmal_port_payload_free</a></div><div class="ttdeci">void mmal_port_payload_free(MMAL_PORT_T *port, uint8_t *payload)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l01124">mmal_port.c:1124</a></div></div>
<div class="ttc" id="group__MmalPool_html_gafe54c41f0e3e9ea7b2ea63b49546f175"><div class="ttname"><a href="../../d8/d6d/group__MmalPool.html#gafe54c41f0e3e9ea7b2ea63b49546f175">mmal_pool_allocator_alloc_t</a></div><div class="ttdeci">void *(* mmal_pool_allocator_alloc_t)(void *context, uint32_t size)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00056">mmal_pool.h:56</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a7dbf4b0f19de707cdf10b7ab16f9533d"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">MMAL_PORT_T::type</a></div><div class="ttdeci">MMAL_PORT_TYPE_T type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00084">mmal_port.h:84</a></div></div>
<div class="ttc" id="group__MmalPool_html_ga20230c4fff4a8db01fd5f8ae85bc685a"><div class="ttname"><a href="../../d8/d6d/group__MmalPool.html#ga20230c4fff4a8db01fd5f8ae85bc685a">mmal_pool_create_with_allocator</a></div><div class="ttdeci">MMAL_POOL_T * mmal_pool_create_with_allocator(unsigned int headers, uint32_t payload_size, void *allocator_context, mmal_pool_allocator_alloc_t allocator_alloc, mmal_pool_allocator_free_t allocator_free)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00127">mmal_pool.c:127</a></div></div>
<div class="ttc" id="group__MmalPool_html_ga1c2490e9da8d09cf3c677f264b0c88a2"><div class="ttname"><a href="../../d8/d6d/group__MmalPool.html#ga1c2490e9da8d09cf3c677f264b0c88a2">mmal_pool_allocator_free_t</a></div><div class="ttdeci">void(* mmal_pool_allocator_free_t)(void *context, void *mem)</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dee/mmal__pool_8h_source.html#l00062">mmal_pool.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga1809406ac2ea1d5c4cb5569487b22048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1809406ac2ea1d5c4cb5569487b22048">&#9670;&nbsp;</a></span>mmal_port_pool_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> mmal_port_pool_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/ddc/structMMAL__POOL__T.html">MMAL_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> associated with a specific port. This will also deallocate all of the memory which was allocated when creating or resizing the pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>Pointer to the port responsible for creating the pool. </td></tr>
    <tr><td class="paramname">pool</td><td>Pointer to the pool to be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<p>Destroy a pool of <a class="el" href="../../dd/d88/structMMAL__BUFFER__HEADER__T.html">MMAL_BUFFER_HEADER_T</a> </p>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00295">295</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00109">MMAL_PORT_T::component</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00085">MMAL_PORT_T::index</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00088">MMAL_PORT_T::is_enabled</a>, <a class="el" href="../../df/da3/containers__logging_8h_source.html#l00062">LOG_ERROR</a>, <a class="el" href="../../d4/dea/mmal__logging_8h_source.html#l00069">LOG_TRACE</a>, <a class="el" href="../../d4/d09/mmal__pool_8c_source.html#l00195">mmal_pool_destroy()</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00575">mmal_port_disable()</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00057">MMAL_COMPONENT_T::name</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00081">MMAL_PORT_T::priv</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00084">MMAL_PORT_T::type</a>, and <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#aabc5314eba790d654e1d1873091c5890">vcos_verify</a>.</p>
<div class="fragment"><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <span class="keywordflow">if</span> (!port || !port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">priv</a> || !pool)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;   <a class="code" href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a>(<span class="stringliteral">&quot;%s(%i:%i) port %p, pool %p&quot;</span>, port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">component</a>-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">name</a>,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;             (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">type</a>, (<span class="keywordtype">int</span>)port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">index</a>, port, pool);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;   <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#aabc5314eba790d654e1d1873091c5890">vcos_verify</a>(!port-&gt;<a class="code" href="../../df/d68/structMMAL__PORT__T.html#ae5a91f852f8b8ffed71eb01922998b3d">is_enabled</a>))</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <a class="code" href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a>(<span class="stringliteral">&quot;port %p, pool %p destroyed while port enabled&quot;</span>, port, pool);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="../../d0/d5f/group__MmalPort.html#ga28ba868d23823323340b83499a4992d8">mmal_port_disable</a>(port);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;   <a class="code" href="../../d8/d6d/group__MmalPool.html#ga392efa95efde822ddec1187aa7332a3d">mmal_pool_destroy</a>(pool);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;}</div><div class="ttc" id="mmal__logging_8h_html_af7abc145380f1916838e42f9272aa0f6"><div class="ttname"><a href="../../d4/dea/mmal__logging_8h.html#af7abc145380f1916838e42f9272aa0f6">LOG_TRACE</a></div><div class="ttdeci">#define LOG_TRACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/dea/mmal__logging_8h_source.html#l00069">mmal_logging.h:69</a></div></div>
<div class="ttc" id="group__MmalPort_html_ga28ba868d23823323340b83499a4992d8"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ga28ba868d23823323340b83499a4992d8">mmal_port_disable</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_disable(MMAL_PORT_T *port)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00575">mmal_port.c:575</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a49a41996c82273425fec6536ec098229"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a49a41996c82273425fec6536ec098229">MMAL_PORT_T::priv</a></div><div class="ttdeci">struct MMAL_PORT_PRIVATE_T * priv</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00081">mmal_port.h:81</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_abe5b96512548848f0ee82c2e4b530203"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#abe5b96512548848f0ee82c2e4b530203">MMAL_PORT_T::index</a></div><div class="ttdeci">uint16_t index</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00085">mmal_port.h:85</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_ae5a91f852f8b8ffed71eb01922998b3d"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#ae5a91f852f8b8ffed71eb01922998b3d">MMAL_PORT_T::is_enabled</a></div><div class="ttdeci">uint32_t is_enabled</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00088">mmal_port.h:88</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a180d1b32c6fc449ec4a054b9728ac73c"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a180d1b32c6fc449ec4a054b9728ac73c">MMAL_COMPONENT_T::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00057">mmal_component.h:57</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a5a937f59e4ccd9375ed2dac72863d541"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a5a937f59e4ccd9375ed2dac72863d541">MMAL_PORT_T::component</a></div><div class="ttdeci">struct MMAL_COMPONENT_T * component</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00109">mmal_port.h:109</a></div></div>
<div class="ttc" id="containers__logging_8h_html_a630f492d1b5c86dcf31edd7280006c45"><div class="ttname"><a href="../../df/da3/containers__logging_8h.html#a630f492d1b5c86dcf31edd7280006c45">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(ctx,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/da3/containers__logging_8h_source.html#l00062">containers_logging.h:62</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_aabc5314eba790d654e1d1873091c5890"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#aabc5314eba790d654e1d1873091c5890">vcos_verify</a></div><div class="ttdeci">#define vcos_verify(cond)</div></div>
<div class="ttc" id="group__MmalPool_html_ga392efa95efde822ddec1187aa7332a3d"><div class="ttname"><a href="../../d8/d6d/group__MmalPool.html#ga392efa95efde822ddec1187aa7332a3d">mmal_pool_destroy</a></div><div class="ttdeci">void mmal_pool_destroy(MMAL_POOL_T *pool)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d09/mmal__pool_8c_source.html#l00195">mmal_pool.c:195</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html_a7dbf4b0f19de707cdf10b7ab16f9533d"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html#a7dbf4b0f19de707cdf10b7ab16f9533d">MMAL_PORT_T::type</a></div><div class="ttdeci">MMAL_PORT_TYPE_T type</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00084">mmal_port.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga04f035c7f4403cf08cc8f8961b4dc7a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04f035c7f4403cf08cc8f8961b4dc7a3">&#9670;&nbsp;</a></span>mmal_port_type_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* mmal_port_type_to_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a port type to a string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The MMAL port type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A NULL-terminated string describing the port type. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00198">198</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00051">MMAL_PORT_TYPE_CLOCK</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00048">MMAL_PORT_TYPE_CONTROL</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00049">MMAL_PORT_TYPE_INPUT</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00050">MMAL_PORT_TYPE_OUTPUT</a>, and <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00038">str</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d0f/mmal__connection_8c_source.html#l00157">mmal_connection_create()</a>.</p>
<div class="fragment"><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;{</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../df/ddd/mmal__util_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;   {</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aab41b6faf1f49e1445642d1439ca2336d">MMAL_PORT_TYPE_INPUT</a>:   str = <span class="stringliteral">&quot;in&quot;</span>;  <span class="keywordflow">break</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa0c74e9ab168532decc87be178d047b7c">MMAL_PORT_TYPE_OUTPUT</a>:  str = <span class="stringliteral">&quot;out&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa6e44c890cfbec5ee4f964b3c422d2da1">MMAL_PORT_TYPE_CLOCK</a>:   str = <span class="stringliteral">&quot;clk&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa925e293e4179240c736c03d06623f292">MMAL_PORT_TYPE_CONTROL</a>: str = <span class="stringliteral">&quot;ctr&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <span class="keywordflow">default</span>:                     str = <span class="stringliteral">&quot;invalid&quot;</span>; <span class="keywordflow">break</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   }</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;}</div><div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aab41b6faf1f49e1445642d1439ca2336d"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aab41b6faf1f49e1445642d1439ca2336d">MMAL_PORT_TYPE_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00049">mmal_port.h:49</a></div></div>
<div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aa6e44c890cfbec5ee4f964b3c422d2da1"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa6e44c890cfbec5ee4f964b3c422d2da1">MMAL_PORT_TYPE_CLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00051">mmal_port.h:51</a></div></div>
<div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aa0c74e9ab168532decc87be178d047b7c"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa0c74e9ab168532decc87be178d047b7c">MMAL_PORT_TYPE_OUTPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00050">mmal_port.h:50</a></div></div>
<div class="ttc" id="mmal__util_8c_html_af25d6dc49269fa2003ac7c7fa6f13915"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#af25d6dc49269fa2003ac7c7fa6f13915">str</a></div><div class="ttdeci">const char * str</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00038">mmal_util.c:38</a></div></div>
<div class="ttc" id="eglext_8h_html_ad5ddf6fca7b585646515660e810e0188"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a></div><div class="ttdeci">EGLenum type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00186">eglext.h:186</a></div></div>
<div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aa925e293e4179240c736c03d06623f292"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa925e293e4179240c736c03d06623f292">MMAL_PORT_TYPE_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00048">mmal_port.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaa7effcf538b48b6ac43133ad7d078044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa7effcf538b48b6ac43133ad7d078044">&#9670;&nbsp;</a></span>mmal_status_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* mmal_status_to_string </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a>&#160;</td>
          <td class="paramname"><em>status</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert a status to a statically-allocated string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>The MMAL status code. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A C string describing the status code. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00056">56</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00709">mmal_port_send_buffer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;   <span class="keywordtype">unsigned</span> i;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;   <span class="keywordflow">for</span> (i=0; status_to_string_map[i].str; i++)</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">if</span> (status_to_string_map[i].<a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a> == <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;         <span class="keywordflow">break</span>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;   <span class="keywordflow">return</span> status_to_string_map[i].str ? status_to_string_map[i].str : <span class="stringliteral">&quot;UNKNOWN&quot;</span>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div><div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gaadf255e562d2cf04755e4fdd2963c32b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaadf255e562d2cf04755e4fdd2963c32b">&#9670;&nbsp;</a></span>mmal_util_get_port()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a>* mmal_util_get_port </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d4e/structMMAL__COMPONENT__T.html">MMAL_COMPONENT_T</a> *&#160;</td>
          <td class="paramname"><em>comp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/group__MmalPort.html#gafcd53d504d5e497ee9932be2aee0154a">MMAL_PORT_TYPE_T</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the nth port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comp</td><td>component to query </td></tr>
    <tr><td class="paramname">index</td><td>port index </td></tr>
    <tr><td class="paramname">type</td><td>port type</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>port or NULL if not found </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00373">373</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00076">MMAL_COMPONENT_T::clock</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00075">MMAL_COMPONENT_T::clock_num</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00067">MMAL_COMPONENT_T::control</a>, <a class="el" href="../../d7/d88/mmal__il_8c_source.html#l00290">index</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00070">MMAL_COMPONENT_T::input</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00069">MMAL_COMPONENT_T::input_num</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00051">MMAL_PORT_TYPE_CLOCK</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00048">MMAL_PORT_TYPE_CONTROL</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00049">MMAL_PORT_TYPE_INPUT</a>, <a class="el" href="../../df/dcd/mmal__port_8h_source.html#l00050">MMAL_PORT_TYPE_OUTPUT</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00073">MMAL_COMPONENT_T::output</a>, <a class="el" href="../../d1/d65/mmal__component_8h_source.html#l00072">MMAL_COMPONENT_T::output_num</a>, and <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>.</p>
<div class="fragment"><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;{</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   <span class="keywordtype">unsigned</span> num;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> **list;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   <span class="keywordflow">switch</span> (<a class="code" href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a>)</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aab41b6faf1f49e1445642d1439ca2336d">MMAL_PORT_TYPE_INPUT</a>:</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;      num = comp-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a3eec1c7e331a7afe04861ac962ac9bd3">input_num</a>;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      list = comp-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a483ff43ab82509dc9188e01081d96f1b">input</a>;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa0c74e9ab168532decc87be178d047b7c">MMAL_PORT_TYPE_OUTPUT</a>:</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;      num = comp-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#abef534928834e62ae1b2a0a59d1994c6">output_num</a>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      list = comp-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">output</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa6e44c890cfbec5ee4f964b3c422d2da1">MMAL_PORT_TYPE_CLOCK</a>:</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      num = comp-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a17b608f376e9fb1c1b4b8f33af0049c7">clock_num</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      list = comp-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#a661465bed29c08d6507c44c684e9ed5d">clock</a>;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;   <span class="keywordflow">case</span> <a class="code" href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa925e293e4179240c736c03d06623f292">MMAL_PORT_TYPE_CONTROL</a>:</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;      num = 1;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;      list = &amp;comp-&gt;<a class="code" href="../../d3/d4e/structMMAL__COMPONENT__T.html#abdf5b139e180f5fa535249f003a74540">control</a>;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;   <span class="keywordflow">default</span>:</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(0);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;   }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a> &lt; num)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      <span class="comment">/* coverity[ptr_arith] num is 1 here */</span></div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;      <span class="keywordflow">return</span> list[<a class="code" href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a>];</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;}</div><div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aab41b6faf1f49e1445642d1439ca2336d"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aab41b6faf1f49e1445642d1439ca2336d">MMAL_PORT_TYPE_INPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00049">mmal_port.h:49</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a483ff43ab82509dc9188e01081d96f1b"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a483ff43ab82509dc9188e01081d96f1b">MMAL_COMPONENT_T::input</a></div><div class="ttdeci">MMAL_PORT_T ** input</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00070">mmal_component.h:70</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_abdf5b139e180f5fa535249f003a74540"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#abdf5b139e180f5fa535249f003a74540">MMAL_COMPONENT_T::control</a></div><div class="ttdeci">MMAL_PORT_T * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00067">mmal_component.h:67</a></div></div>
<div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aa6e44c890cfbec5ee4f964b3c422d2da1"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa6e44c890cfbec5ee4f964b3c422d2da1">MMAL_PORT_TYPE_CLOCK</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00051">mmal_port.h:51</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structMMAL__PORT__T_html"><div class="ttname"><a href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00079">mmal_port.h:79</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_abef534928834e62ae1b2a0a59d1994c6"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#abef534928834e62ae1b2a0a59d1994c6">MMAL_COMPONENT_T::output_num</a></div><div class="ttdeci">uint32_t output_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00072">mmal_component.h:72</a></div></div>
<div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aa0c74e9ab168532decc87be178d047b7c"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa0c74e9ab168532decc87be178d047b7c">MMAL_PORT_TYPE_OUTPUT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00050">mmal_port.h:50</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a3eec1c7e331a7afe04861ac962ac9bd3"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a3eec1c7e331a7afe04861ac962ac9bd3">MMAL_COMPONENT_T::input_num</a></div><div class="ttdeci">uint32_t input_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00069">mmal_component.h:69</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a661465bed29c08d6507c44c684e9ed5d"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a661465bed29c08d6507c44c684e9ed5d">MMAL_COMPONENT_T::clock</a></div><div class="ttdeci">MMAL_PORT_T ** clock</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00076">mmal_component.h:76</a></div></div>
<div class="ttc" id="mmal__il_8c_html_a9e77cf7c1d45de5b45ff1226bf750632"><div class="ttname"><a href="../../d7/d88/mmal__il_8c.html#a9e77cf7c1d45de5b45ff1226bf750632">index</a></div><div class="ttdeci">OMX_INDEXTYPE index</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d88/mmal__il_8c_source.html#l00290">mmal_il.c:290</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a17b608f376e9fb1c1b4b8f33af0049c7"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a17b608f376e9fb1c1b4b8f33af0049c7">MMAL_COMPONENT_T::clock_num</a></div><div class="ttdeci">uint32_t clock_num</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00075">mmal_component.h:75</a></div></div>
<div class="ttc" id="structMMAL__COMPONENT__T_html_a43e3adc8e7b262a35c0fd806f9cf8701"><div class="ttname"><a href="../../d3/d4e/structMMAL__COMPONENT__T.html#a43e3adc8e7b262a35c0fd806f9cf8701">MMAL_COMPONENT_T::output</a></div><div class="ttdeci">MMAL_PORT_T ** output</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d65/mmal__component_8h_source.html#l00073">mmal_component.h:73</a></div></div>
<div class="ttc" id="eglext_8h_html_ad5ddf6fca7b585646515660e810e0188"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#ad5ddf6fca7b585646515660e810e0188">type</a></div><div class="ttdeci">EGLenum type</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/eglext_8h_source.html#l00186">eglext.h:186</a></div></div>
<div class="ttc" id="group__MmalPort_html_ggafcd53d504d5e497ee9932be2aee0154aa925e293e4179240c736c03d06623f292"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ggafcd53d504d5e497ee9932be2aee0154aa925e293e4179240c736c03d06623f292">MMAL_PORT_TYPE_CONTROL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/dcd/mmal__port_8h_source.html#l00048">mmal_port.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gae996739d055fa84910d36121a4ef75f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae996739d055fa84910d36121a4ef75f0">&#9670;&nbsp;</a></span>mmal_util_rgb_order_fixed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mmal_util_rgb_order_fixed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d68/structMMAL__PORT__T.html">MMAL_PORT_T</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>On FW prior to June 2016, camera and video_splitter had BGR24 and RGB24 support reversed. This is now fixed, and this function will return whether the FW has the fix or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>MMAL port to check (on camera or video_splitter) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if old firmware, 1 if new. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00438">438</a> of file <a class="el" href="../../df/ddd/mmal__util_8c_source.html">mmal_util.c</a>.</p>

<p class="reference">References <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00434">MMAL_SUPPORTED_ENCODINGS_T::encodings</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00433">MMAL_SUPPORTED_ENCODINGS_T::header</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00431">MAX_ENCODINGS_NUM</a>, <a class="el" href="../../da/dd6/mmal__encodings_8h_source.html#l00092">MMAL_ENCODING_BGR24</a>, <a class="el" href="../../da/dd6/mmal__encodings_8h_source.html#l00086">MMAL_ENCODING_RGB24</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00050">MMAL_ENOSPC</a>, <a class="el" href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00063">MMAL_PARAMETER_SUPPORTED_ENCODINGS</a>, <a class="el" href="../../d6/d4d/mmal__port_8c_source.html#l00868">mmal_port_parameter_get()</a>, <a class="el" href="../../d6/df3/mmal__types_8h_source.html#l00048">MMAL_SUCCESS</a>, and <a class="el" href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00089">MMAL_PARAMETER_HEADER_T::size</a>.</p>
<div class="fragment"><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;{</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;   <span class="keywordtype">int</span> new_fw = 0;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;   <a class="code" href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a> ret;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;   <span class="comment">//Firmware support of RGB24 vs BGR24 colour ordering from camera</span></div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;   <span class="comment">//and video splitter components has been corrected as of June 2016.</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;   <span class="comment">//New firmwares always report MMAL_ENCODING_RGB24 before BGR24, and</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;   <span class="comment">//that is the format we want.</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;   <span class="comment">//Old firmware reported BGR24 first, and also returned an error on</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;   <span class="comment">//the still port on querying MMAL_PARAMETER_SUPPORTED_ENCODINGS.</span></div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;   <a class="code" href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html">MMAL_SUPPORTED_ENCODINGS_T</a> sup_encodings = {{<a class="code" href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga319d524aadad53dcd886c2bba304ded4ac94f5981a8439efbb4dcb00454f9c980">MMAL_PARAMETER_SUPPORTED_ENCODINGS</a>, <span class="keyword">sizeof</span>(sup_encodings)}, {0}};</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;   ret = <a class="code" href="../../d0/d5f/group__MmalPort.html#ga58f2b79985132199992a99790264541a">mmal_port_parameter_get</a>(port, &amp;sup_encodings.<a class="code" href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a9ebfc41841bb9bc67549563e1b565ee0">header</a>);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;   <span class="keywordflow">if</span> (ret == <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a> || ret == <a class="code" href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0a5465d7c16b4edfc86508ce8ecd2b51">MMAL_ENOSPC</a>)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;   {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      <span class="comment">//Allow ENOSPC error and hope that the desired formats are in the first</span></div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;      <span class="comment">//MAX_ENCODINGS_NUM entries.</span></div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordtype">int</span> num_encodings = (sup_encodings.<a class="code" href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a9ebfc41841bb9bc67549563e1b565ee0">header</a>.<a class="code" href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a404efdd1313f8e16bd209104dde25b56">size</a> - <span class="keyword">sizeof</span>(sup_encodings.<a class="code" href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a9ebfc41841bb9bc67549563e1b565ee0">header</a>)) /</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          <span class="keyword">sizeof</span>(sup_encodings.<a class="code" href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a94fa101c372961657220835317521319">encodings</a>[0]);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;      <span class="keywordflow">if</span>(num_encodings &gt; <a class="code" href="../../df/ddd/mmal__util_8c.html#a10b6dae7c4b10b41b4faa0b4362f7eea">MAX_ENCODINGS_NUM</a>)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;         num_encodings = <a class="code" href="../../df/ddd/mmal__util_8c.html#a10b6dae7c4b10b41b4faa0b4362f7eea">MAX_ENCODINGS_NUM</a>;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      <span class="keywordflow">for</span> (i=0; i&lt;num_encodings; i++)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;         <span class="keywordflow">if</span> (sup_encodings.<a class="code" href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a94fa101c372961657220835317521319">encodings</a>[i] == <a class="code" href="../../df/d9c/group__MmalEncodings.html#ga6a50a278824f0efacc6fa73ca64f5eea">MMAL_ENCODING_BGR24</a>)</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;         {</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            <span class="comment">//Found BGR24 first - old firmware.</span></div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;         }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;         <span class="keywordflow">if</span> (sup_encodings.<a class="code" href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a94fa101c372961657220835317521319">encodings</a>[i] == <a class="code" href="../../df/d9c/group__MmalEncodings.html#ga0c337c7c3d3252520847044f0d9776b0">MMAL_ENCODING_RGB24</a>)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;         {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="comment">//Found RGB24 first - new firmware, so use RGB24.</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            new_fw = 1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;         }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;   }</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;   <span class="keywordflow">return</span> new_fw;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;}</div><div class="ttc" id="structMMAL__SUPPORTED__ENCODINGS__T_html_a9ebfc41841bb9bc67549563e1b565ee0"><div class="ttname"><a href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a9ebfc41841bb9bc67549563e1b565ee0">MMAL_SUPPORTED_ENCODINGS_T::header</a></div><div class="ttdeci">MMAL_PARAMETER_HEADER_T header</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00433">mmal_util.c:433</a></div></div>
<div class="ttc" id="structMMAL__PARAMETER__HEADER__T_html_a404efdd1313f8e16bd209104dde25b56"><div class="ttname"><a href="../../da/d2f/structMMAL__PARAMETER__HEADER__T.html#a404efdd1313f8e16bd209104dde25b56">MMAL_PARAMETER_HEADER_T::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00089">mmal_parameters_common.h:89</a></div></div>
<div class="ttc" id="group__MmalEncodings_html_ga6a50a278824f0efacc6fa73ca64f5eea"><div class="ttname"><a href="../../df/d9c/group__MmalEncodings.html#ga6a50a278824f0efacc6fa73ca64f5eea">MMAL_ENCODING_BGR24</a></div><div class="ttdeci">#define MMAL_ENCODING_BGR24</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__encodings_8h_source.html#l00092">mmal_encodings.h:92</a></div></div>
<div class="ttc" id="group__MMAL__PARAMETER__IDS_html_gga319d524aadad53dcd886c2bba304ded4ac94f5981a8439efbb4dcb00454f9c980"><div class="ttname"><a href="../../df/d90/group__MMAL__PARAMETER__IDS.html#gga319d524aadad53dcd886c2bba304ded4ac94f5981a8439efbb4dcb00454f9c980">MMAL_PARAMETER_SUPPORTED_ENCODINGS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6f/mmal__parameters__common_8h_source.html#l00063">mmal_parameters_common.h:63</a></div></div>
<div class="ttc" id="structMMAL__SUPPORTED__ENCODINGS__T_html"><div class="ttname"><a href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html">MMAL_SUPPORTED_ENCODINGS_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00432">mmal_util.c:432</a></div></div>
<div class="ttc" id="group__MmalTypes_html_ga5ac87230bd615d2b154a9d5899bc37fd"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#ga5ac87230bd615d2b154a9d5899bc37fd">MMAL_STATUS_T</a></div><div class="ttdeci">MMAL_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00046">mmal_types.h:46</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda0a5465d7c16b4edfc86508ce8ecd2b51"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda0a5465d7c16b4edfc86508ce8ecd2b51">MMAL_ENOSPC</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00050">mmal_types.h:50</a></div></div>
<div class="ttc" id="group__MmalPort_html_ga58f2b79985132199992a99790264541a"><div class="ttname"><a href="../../d0/d5f/group__MmalPort.html#ga58f2b79985132199992a99790264541a">mmal_port_parameter_get</a></div><div class="ttdeci">MMAL_STATUS_T mmal_port_parameter_get(MMAL_PORT_T *port, MMAL_PARAMETER_HEADER_T *param)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4d/mmal__port_8c_source.html#l00868">mmal_port.c:868</a></div></div>
<div class="ttc" id="mmal__util_8c_html_a10b6dae7c4b10b41b4faa0b4362f7eea"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#a10b6dae7c4b10b41b4faa0b4362f7eea">MAX_ENCODINGS_NUM</a></div><div class="ttdeci">#define MAX_ENCODINGS_NUM</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00431">mmal_util.c:431</a></div></div>
<div class="ttc" id="group__MmalTypes_html_gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01"><div class="ttname"><a href="../../df/d8f/group__MmalTypes.html#gga5ac87230bd615d2b154a9d5899bc37fda7153bc059a7a5311344972b566400c01">MMAL_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/df3/mmal__types_8h_source.html#l00048">mmal_types.h:48</a></div></div>
<div class="ttc" id="group__MmalEncodings_html_ga0c337c7c3d3252520847044f0d9776b0"><div class="ttname"><a href="../../df/d9c/group__MmalEncodings.html#ga0c337c7c3d3252520847044f0d9776b0">MMAL_ENCODING_RGB24</a></div><div class="ttdeci">#define MMAL_ENCODING_RGB24</div><div class="ttdef"><b>Definition:</b> <a href="../../da/dd6/mmal__encodings_8h_source.html#l00086">mmal_encodings.h:86</a></div></div>
<div class="ttc" id="structMMAL__SUPPORTED__ENCODINGS__T_html_a94fa101c372961657220835317521319"><div class="ttname"><a href="../../d5/d7b/structMMAL__SUPPORTED__ENCODINGS__T.html#a94fa101c372961657220835317521319">MMAL_SUPPORTED_ENCODINGS_T::encodings</a></div><div class="ttdeci">MMAL_FOURCC_T encodings[MAX_ENCODINGS_NUM]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00434">mmal_util.c:434</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>

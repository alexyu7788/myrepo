<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VideoCore Library: interface/vcos/vcos_msgqueue.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VideoCore Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_b31d54d5631803016a26f28213a41162.html">interface</a></li><li class="navelem"><a class="el" href="../../dir_b9867c168b8c92435171e97f1cfada63.html">vcos</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vcos_msgqueue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../da/df3/vcos__types_8h_source.html">vcos_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d4/de3/vcos_8h_source.html">vcos.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d33/vcos__blockpool_8h_source.html">vcos_blockpool.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vcos_msgqueue.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d76/vcos__msgqueue_8h__incl.png" border="0" usemap="#interface_2vcos_2vcos__msgqueue_8h" alt=""/></div>
<map name="interface_2vcos_2vcos__msgqueue_8h" id="interface_2vcos_2vcos__msgqueue_8h">
<area shape="rect" id="node2" href="../../da/df3/vcos__types_8h.html" title="vcos_types.h" alt="" coords="870,437,970,464"/>
<area shape="rect" id="node8" href="../../d4/de3/vcos_8h.html" title="vcos.h" alt="" coords="1171,169,1232,196"/>
<area shape="rect" id="node45" href="../../db/d33/vcos__blockpool_8h.html" title="vcos_blockpool.h" alt="" coords="1189,95,1312,121"/>
<area shape="rect" id="node4" href="../../d2/d69/vcos__platform__types_8h.html" title="vcos_platform_types.h" alt="" coords="928,519,1083,546"/>
<area shape="rect" id="node7" href="../../df/d5a/vcos__attr_8h.html" title="interface/vcos/vcos\l_attr.h" alt="" coords="768,512,904,553"/>
<area shape="rect" id="node5" href="../../d2/d4b/vcos__inttypes_8h.html" title="interface/vcos/vcos\l_inttypes.h" alt="" coords="937,601,1073,643"/>
<area shape="rect" id="node9" href="../../d6/db4/vcos__assert_8h.html" title="interface/vcos/vcos\l_assert.h" alt="" coords="93,244,229,285"/>
<area shape="rect" id="node10" href="../../db/db8/vcos__platform_8h.html" title="vcos_platform.h" alt="" coords="2253,251,2368,278"/>
<area shape="rect" id="node30" href="../../d0/d84/vcos__init_8h.html" title="interface/vcos/vcos\l_init.h" alt="" coords="253,244,389,285"/>
<area shape="rect" id="node31" href="../../d2/dc2/vcos__semaphore_8h.html" title="interface/vcos/vcos\l_semaphore.h" alt="" coords="413,244,549,285"/>
<area shape="rect" id="node32" href="../../de/d30/vcos__thread_8h.html" title="interface/vcos/vcos\l_thread.h" alt="" coords="573,244,709,285"/>
<area shape="rect" id="node33" href="../../da/d1b/vcos__mutex_8h.html" title="interface/vcos/vcos\l_mutex.h" alt="" coords="733,244,869,285"/>
<area shape="rect" id="node34" href="../../d8/db9/vcos__mem_8h.html" title="interface/vcos/vcos\l_mem.h" alt="" coords="893,244,1029,285"/>
<area shape="rect" id="node35" href="../../d0/d85/vcos__logging_8h.html" title="interface/vcos/vcos\l_logging.h" alt="" coords="3647,244,3783,285"/>
<area shape="rect" id="node38" href="../../d1/d77/vcos__string_8h.html" title="interface/vcos/vcos\l_string.h" alt="" coords="2035,244,2171,285"/>
<area shape="rect" id="node39" href="../../dc/dd7/vcos__event_8h.html" title="interface/vcos/vcos\l_event.h" alt="" coords="1053,244,1189,285"/>
<area shape="rect" id="node40" href="../../d1/d6d/vcos__thread__attr_8h.html" title="interface/vcos/vcos\l_thread_attr.h" alt="" coords="1373,244,1509,285"/>
<area shape="rect" id="node41" href="../../dc/d07/vcos__tls_8h.html" title="interface/vcos/vcos\l_tls.h" alt="" coords="1213,244,1349,285"/>
<area shape="rect" id="node42" href="../../d6/da9/vcos__reentrant__mutex_8h.html" title="interface/vcos/vcos\l_reentrant_mutex.h" alt="" coords="1533,244,1669,285"/>
<area shape="rect" id="node43" href="../../d6/d00/vcos__named__semaphore_8h.html" title="interface/vcos/vcos\l_named_semaphore.h" alt="" coords="1694,244,1845,285"/>
<area shape="rect" id="node44" href="../../dd/dc6/vcos__quickslow__mutex_8h.html" title="interface/vcos/vcos\l_quickslow_mutex.h" alt="" coords="1869,244,2011,285"/>
<area shape="rect" id="node22" href="../../d9/d48/dlfcn_8h.html" title="dlfcn.h" alt="" coords="1488,348,1549,375"/>
<area shape="rect" id="node23" href="../../d2/d73/vcos__generic__event__flags_8h.html" title="interface/vcos/generic\l/vcos_generic_event_flags.h" alt="" coords="3238,341,3426,382"/>
<area shape="rect" id="node24" href="../../d3/d22/vcos__generic__blockpool_8h.html" title="interface/vcos/generic\l/vcos_generic_blockpool.h" alt="" coords="3451,341,3627,382"/>
<area shape="rect" id="node25" href="../../d1/d7f/vcos__mem__from__malloc_8h.html" title="interface/vcos/generic\l/vcos_mem_from_malloc.h" alt="" coords="1573,341,1752,382"/>
<area shape="rect" id="node26" href="../../db/d8f/vcos__generic__reentrant__mtx_8h.html" title="interface/vcos/generic\l/vcos_generic_reentrant_mtx.h" alt="" coords="1174,341,1375,382"/>
<area shape="rect" id="node27" href="../../df/d21/vcos__generic__named__sem_8h.html" title="interface/vcos/generic\l/vcos_generic_named_sem.h" alt="" coords="2829,341,3021,382"/>
<area shape="rect" id="node28" href="../../da/d8e/vcos__generic__quickslow__mutex_8h.html" title="interface/vcos/generic\l/vcos_generic_quickslow\l_mutex.h" alt="" coords="3045,333,3213,389"/>
<area shape="rect" id="node29" href="../../d5/d17/vcos__common_8h.html" title="interface/vcos/generic\l/vcos_common.h" alt="" coords="1777,341,1927,382"/>
<area shape="rect" id="node37" href="../../d5/d18/vcos__logging__control_8h.html" title="vcos_logging_control.h" alt="" coords="3752,348,3907,375"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d19/vcos__msgqueue_8h__dep__incl.png" border="0" usemap="#interface_2vcos_2vcos__msgqueue_8hdep" alt=""/></div>
<map name="interface_2vcos_2vcos__msgqueue_8hdep" id="interface_2vcos_2vcos__msgqueue_8hdep">
<area shape="rect" id="node2" href="../../d6/d55/vcos__msgqueue_8c.html" title="interface/vcos/generic\l/vcos_msgqueue.c" alt="" coords="5,95,156,136"/>
<area shape="rect" id="node3" href="../../dd/d29/vcos__pthreads_8c.html" title="interface/vcos/pthreads\l/vcos_pthreads.c" alt="" coords="180,95,339,136"/>
</map>
</div>
</div>
<p><a href="../../d1/d77/vcos__msgqueue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/da2/structVCOS__MSG__WAITER__T.html">VCOS_MSG_WAITER_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab8a38334b7e793397e0ef622a31d791b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ab8a38334b7e793397e0ef622a31d791b">VCOS_MSGQ_MAGIC</a>&#160;&#160;&#160;0x5147534d</td></tr>
<tr class="separator:ab8a38334b7e793397e0ef622a31d791b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4724f7dee1ab1bfc7473e5bb00c2c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a8a4724f7dee1ab1bfc7473e5bb00c2c9">VCOS_MSG_DATA</a>(_msg)&#160;&#160;&#160;(<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>*)((_msg)-&gt;<a class="el" href="../../d1/d3f/eglext__brcm_8h.html#ae71d2e007af6a1d1ed622d3e8be266e2">data</a>)</td></tr>
<tr class="separator:a8a4724f7dee1ab1bfc7473e5bb00c2c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa57f62c3f9e887ea0c00043fc8c74265"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#aa57f62c3f9e887ea0c00043fc8c74265">VCOS_MSG_N_QUIT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:aa57f62c3f9e887ea0c00043fc8c74265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e1813cc73754cc1fdd09b6012f28e75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a0e1813cc73754cc1fdd09b6012f28e75">VCOS_MSG_N_OPEN</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a0e1813cc73754cc1fdd09b6012f28e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31ed2f939513c4e87690b73d85e4d58"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ac31ed2f939513c4e87690b73d85e4d58">VCOS_MSG_N_CLOSE</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ac31ed2f939513c4e87690b73d85e4d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afed4e20560561a80c917eff62c00e125"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#afed4e20560561a80c917eff62c00e125">VCOS_MSG_N_PRIVATE</a>&#160;&#160;&#160;(1&lt;&lt;20)</td></tr>
<tr class="separator:afed4e20560561a80c917eff62c00e125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa36778c18b7d6b595e2f8d2e1ffa979"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#afa36778c18b7d6b595e2f8d2e1ffa979">VCOS_MSG_REPLY_BIT</a>&#160;&#160;&#160;(1&lt;&lt;31)</td></tr>
<tr class="separator:afa36778c18b7d6b595e2f8d2e1ffa979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2576eb53461f7ac7bac00af67721ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a7b2576eb53461f7ac7bac00af67721ce">__VCOS_MAY_ALIAS</a></td></tr>
<tr class="separator:a7b2576eb53461f7ac7bac00af67721ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad039c3fff6b0312569c51b4a74ed2cb6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ad039c3fff6b0312569c51b4a74ed2cb6">MSG_REPLY_BIT</a>&#160;&#160;&#160;(1&lt;&lt;31)</td></tr>
<tr class="separator:ad039c3fff6b0312569c51b4a74ed2cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac11fe2800c50fdba217568b089565ca9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ac11fe2800c50fdba217568b089565ca9">VCOS_MSG_INITIALIZER</a>&#160;&#160;&#160;{<a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ab8a38334b7e793397e0ef622a31d791b">VCOS_MSGQ_MAGIC</a>, 0, <a class="el" href="../../d5/d5f/khrn__misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0}</td></tr>
<tr class="separator:ac11fe2800c50fdba217568b089565ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa9c80ab0da38dd379b15b7400405f9ce"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d0/da2/structVCOS__MSG__WAITER__T.html">VCOS_MSG_WAITER_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#aa9c80ab0da38dd379b15b7400405f9ce">VCOS_MSG_WAITER_T</a></td></tr>
<tr class="separator:aa9c80ab0da38dd379b15b7400405f9ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71150e0f0956d18ff636637b3f66a53c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a71150e0f0956d18ff636637b3f66a53c">VCOS_MSGQUEUE_T</a></td></tr>
<tr class="separator:a71150e0f0956d18ff636637b3f66a53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c30678cc251c2e27e7547cf24c5d72"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a56c30678cc251c2e27e7547cf24c5d72">VCOS_MSG_T</a></td></tr>
<tr class="separator:a56c30678cc251c2e27e7547cf24c5d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06b9a69815872eb1773aac7d403300cb"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a06b9a69815872eb1773aac7d403300cb">VCOS_MSGQ_POOL_T</a></td></tr>
<tr class="separator:a06b9a69815872eb1773aac7d403300cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a85ef8e879662e25656b9534f1c1bd8cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a85ef8e879662e25656b9534f1c1bd8cb">vcos_msgq_init</a> (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>)</td></tr>
<tr class="separator:a85ef8e879662e25656b9534f1c1bd8cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e0705f915084e86174e441afb47a0a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a7e0705f915084e86174e441afb47a0a1">vcos_msgq_deinit</a> (<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>)</td></tr>
<tr class="separator:a7e0705f915084e86174e441afb47a0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa6e967430291ef4fdbe9c0a777a6d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a2aa6e967430291ef4fdbe9c0a777a6d1">vcos_msg_send</a> (<a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *dest, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../d2/d06/gpu__fft__shaders_8c.html#a8ddb70367166a99f23640ad2633e302d">code</a>, <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg)</td></tr>
<tr class="separator:a2aa6e967430291ef4fdbe9c0a777a6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783fdc9bf68e87ee782db5173b6635fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a783fdc9bf68e87ee782db5173b6635fd">vcos_msg_sendwait</a> (<a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *queue, <a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> <a class="el" href="../../d2/d06/gpu__fft__shaders_8c.html#a8ddb70367166a99f23640ad2633e302d">code</a>, <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg)</td></tr>
<tr class="separator:a783fdc9bf68e87ee782db5173b6635fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6be761aa04d422dee809ee92344a4a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *<a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a3e6be761aa04d422dee809ee92344a4a">vcos_msg_wait</a> (<a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *queue)</td></tr>
<tr class="separator:a3e6be761aa04d422dee809ee92344a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c152e8790deb1bc62db1bca3f2d03a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *<a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a55c152e8790deb1bc62db1bca3f2d03a">vcos_msg_peek</a> (<a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *queue)</td></tr>
<tr class="separator:a55c152e8790deb1bc62db1bca3f2d03a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c9ff94bce4f0d91fffe7e976421e9b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a2c9ff94bce4f0d91fffe7e976421e9b1">vcos_msg_reply</a> (<a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg)</td></tr>
<tr class="separator:a2c9ff94bce4f0d91fffe7e976421e9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b2c81a48e7f260e7df571cdf65656f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a6b2c81a48e7f260e7df571cdf65656f5">vcos_msg_set_source</a> (<a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg, <a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *queue)</td></tr>
<tr class="separator:a6b2c81a48e7f260e7df571cdf65656f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ae98b7135b0e630dc7e28a397192835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a4ae98b7135b0e630dc7e28a397192835">vcos_msg_init</a> (<a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg)</td></tr>
<tr class="separator:a4ae98b7135b0e630dc7e28a397192835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7feb912605f8b5419b6d46453c728065"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a7feb912605f8b5419b6d46453c728065">vcos_msgq_create</a> (<a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *queue, const char *<a class="el" href="../../d8/d96/mmal__vc__diag_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:a7feb912605f8b5419b6d46453c728065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82cedad83f1d05229d67c6fcc21c4f79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a82cedad83f1d05229d67c6fcc21c4f79">vcos_msgq_delete</a> (<a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *queue)</td></tr>
<tr class="separator:a82cedad83f1d05229d67c6fcc21c4f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35b2bd7e6360c1d770dbbda7b46285d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ac35b2bd7e6360c1d770dbbda7b46285d">vcos_msgq_pool_create</a> (<a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *pool, size_t <a class="el" href="../../dc/dd2/glext_8h.html#a83e2dd3e98558b907ab7fb03cee26bda">count</a>, size_t payload_size, const char *<a class="el" href="../../d8/d96/mmal__vc__diag_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>)</td></tr>
<tr class="separator:ac35b2bd7e6360c1d770dbbda7b46285d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e49212e406caa2ced0652640a19322b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a1e49212e406caa2ced0652640a19322b">vcos_msgq_pool_delete</a> (<a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *pool)</td></tr>
<tr class="separator:a1e49212e406caa2ced0652640a19322b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae980ef9ad75d1e90ae4134c63b2f2c9a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *<a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ae980ef9ad75d1e90ae4134c63b2f2c9a">vcos_msgq_pool_alloc</a> (<a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *pool)</td></tr>
<tr class="separator:ae980ef9ad75d1e90ae4134c63b2f2c9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35ca91dc70ec199db5fc84c678097a50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *<a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a35ca91dc70ec199db5fc84c678097a50">vcos_msgq_pool_wait</a> (<a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *pool)</td></tr>
<tr class="separator:a35ca91dc70ec199db5fc84c678097a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2629b769201b6515114927545dd3dfe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#af2629b769201b6515114927545dd3dfe">vcos_msgq_pool_free</a> (<a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg)</td></tr>
<tr class="separator:af2629b769201b6515114927545dd3dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Packet-like messages, based loosely on those found in TRIPOS and derivatives thereof.</p>
<p>A task can send a message <em>pointer</em> to another task, where it is queued on a linked list and the task woken up. The receiving task consumes all of the messages on its input queue, and optionally sends back replies using the original message memory.</p>
<p>A caller can wait for the reply to a specific message - any other messages that arrive in the meantime are queued separately.</p>
<p>All messages have a standard common layout, but the payload area can be used freely to extend this. </p>

<p class="definition">Definition in file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7b2576eb53461f7ac7bac00af67721ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b2576eb53461f7ac7bac00af67721ce">&#9670;&nbsp;</a></span>__VCOS_MAY_ALIAS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __VCOS_MAY_ALIAS</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Make gnuc compiler be happy about pointer punning </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00087">87</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="ad039c3fff6b0312569c51b4a74ed2cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad039c3fff6b0312569c51b4a74ed2cb6">&#9670;&nbsp;</a></span>MSG_REPLY_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_REPLY_BIT&#160;&#160;&#160;(1&lt;&lt;31)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00127">127</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00263">vcos_msg_reply()</a>.</p>

</div>
</div>
<a id="a8a4724f7dee1ab1bfc7473e5bb00c2c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4724f7dee1ab1bfc7473e5bb00c2c9">&#9670;&nbsp;</a></span>VCOS_MSG_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSG_DATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_msg</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>*)((_msg)-&gt;<a class="el" href="../../d1/d3f/eglext__brcm_8h.html#ae71d2e007af6a1d1ed622d3e8be266e2">data</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Map the payload portion of a message to a structure pointer. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00073">73</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="ac11fe2800c50fdba217568b089565ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac11fe2800c50fdba217568b089565ca9">&#9670;&nbsp;</a></span>VCOS_MSG_INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSG_INITIALIZER&#160;&#160;&#160;{<a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#ab8a38334b7e793397e0ef622a31d791b">VCOS_MSGQ_MAGIC</a>, 0, <a class="el" href="../../d5/d5f/khrn__misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a>. Can also use <a class="el" href="../../d1/d77/vcos__msgqueue_8h.html#a4ae98b7135b0e630dc7e28a397192835">vcos_msg_init()</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00131">131</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="ac31ed2f939513c4e87690b73d85e4d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31ed2f939513c4e87690b73d85e4d58">&#9670;&nbsp;</a></span>VCOS_MSG_N_CLOSE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSG_N_CLOSE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00078">78</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="a0e1813cc73754cc1fdd09b6012f28e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e1813cc73754cc1fdd09b6012f28e75">&#9670;&nbsp;</a></span>VCOS_MSG_N_OPEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSG_N_OPEN&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00077">77</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="afed4e20560561a80c917eff62c00e125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afed4e20560561a80c917eff62c00e125">&#9670;&nbsp;</a></span>VCOS_MSG_N_PRIVATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSG_N_PRIVATE&#160;&#160;&#160;(1&lt;&lt;20)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00079">79</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="aa57f62c3f9e887ea0c00043fc8c74265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa57f62c3f9e887ea0c00043fc8c74265">&#9670;&nbsp;</a></span>VCOS_MSG_N_QUIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSG_N_QUIT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Standard message ids - FIXME - these need to be done properly! </p>

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00076">76</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="afa36778c18b7d6b595e2f8d2e1ffa979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa36778c18b7d6b595e2f8d2e1ffa979">&#9670;&nbsp;</a></span>VCOS_MSG_REPLY_BIT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSG_REPLY_BIT&#160;&#160;&#160;(1&lt;&lt;31)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00081">81</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<a id="ab8a38334b7e793397e0ef622a31d791b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8a38334b7e793397e0ef622a31d791b">&#9670;&nbsp;</a></span>VCOS_MSGQ_MAGIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOS_MSGQ_MAGIC&#160;&#160;&#160;0x5147534d</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00069">69</a> of file <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html">vcos_msgqueue.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a56c30678cc251c2e27e7547cf24c5d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c30678cc251c2e27e7547cf24c5d72">&#9670;&nbsp;</a></span>VCOS_MSG_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a>  <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A single message </p>

</div>
</div>
<a id="aa9c80ab0da38dd379b15b7400405f9ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c80ab0da38dd379b15b7400405f9ce">&#9670;&nbsp;</a></span>VCOS_MSG_WAITER_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d0/da2/structVCOS__MSG__WAITER__T.html">VCOS_MSG_WAITER_T</a>  <a class="el" href="../../d0/da2/structVCOS__MSG__WAITER__T.html">VCOS_MSG_WAITER_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a06b9a69815872eb1773aac7d403300cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06b9a69815872eb1773aac7d403300cb">&#9670;&nbsp;</a></span>VCOS_MSGQ_POOL_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a>  <a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pool of messages. This contains its own waiter and semaphore, as well as a blockpool for the actual memory management.</p>
<p>When messages are returned to the waiter, it posts the semaphore.</p>
<p>When waiting for a message, we just wait on the semaphore. When allocating without waiting, we just try-wait on the semaphore.</p>
<p>If we managed to claim the semaphore, then by definition there must be at least that many free messages in the blockpool. </p>

</div>
</div>
<a id="a71150e0f0956d18ff636637b3f66a53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71150e0f0956d18ff636637b3f66a53c">&#9670;&nbsp;</a></span>VCOS_MSGQUEUE_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a>  <a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A single message queue. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4ae98b7135b0e630dc7e28a397192835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ae98b7135b0e630dc7e28a397192835">&#9670;&nbsp;</a></span>vcos_msg_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msg_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise a newly allocated message. This only needs to be called for messages allocated on the stack, heap or statically. It is not needed for messages allocated from a pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00383">383</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">VCOS_MSG_T::magic</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00121">VCOS_MSG_T::next</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">VCOS_MSG_T::pool</a>, and <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">VCOS_MSG_T::waiter</a>.</p>
<div class="fragment"><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;{</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">magic</a> = <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#a9490ccfd3b2f9e3f1a2f96052ab56d5f">next</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">pool</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;}</div><div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_af39117ca504424b12f31006c948f4cd2"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">VCOS_MSG_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">vcos_msgqueue.h:119</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_ae58a9813746f52ff66473116557a1821"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">VCOS_MSG_T::pool</a></div><div class="ttdeci">struct VCOS_MSGQ_POOL_T * pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">vcos_msgqueue.h:124</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_abb3055e998213c36e1731fe67c070e11"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">VCOS_MSG_T::waiter</a></div><div class="ttdeci">struct VCOS_MSG_WAITER_T * waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">vcos_msgqueue.h:123</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_a9490ccfd3b2f9e3f1a2f96052ab56d5f"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#a9490ccfd3b2f9e3f1a2f96052ab56d5f">VCOS_MSG_T::next</a></div><div class="ttdeci">struct VCOS_MSG_T * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00121">vcos_msgqueue.h:121</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a55c152e8790deb1bc62db1bca3f2d03a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55c152e8790deb1bc62db1bca3f2d03a">&#9670;&nbsp;</a></span>vcos_msg_peek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a>* <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msg_peek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Peek for a message on this thread's endpoint. If a message is not available, NULL is returned. If a message is available it will be removed from the endpoint and returned. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00205">205</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00108">VCOS_MSGQUEUE_T::head</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00111">VCOS_MSGQUEUE_T::lock</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00121">VCOS_MSG_T::next</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00110">VCOS_MSGQUEUE_T::sem</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00109">VCOS_MSGQUEUE_T::tail</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>, and <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;{</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   <a class="code" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa81efea9a598a5d476b5036313b4a012">lock</a>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   msg = queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">head</a>;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   <span class="comment">/* if there&#39;s a message, remove it from the queue */</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   <span class="keywordflow">if</span> (msg)</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">head</a> = msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#a9490ccfd3b2f9e3f1a2f96052ab56d5f">next</a>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">if</span> (queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">head</a> == <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;         queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#ab0b0267f48a19d87459fd2da8a2edef6">tail</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">/* keep the semaphore count consistent */</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <span class="comment">/* coverity[lock_order]</span></div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">       * the semaphore must have a non-zero count so cannot block here.</span></div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">       */</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a>(&amp;queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa1bac85e3149964b875255086ca33906">sem</a>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   }</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa81efea9a598a5d476b5036313b4a012">lock</a>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;}</div><div class="ttc" id="vcos__semaphore_8h_html_a1478647a6bc7e82569361d72c04dceb0"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_wait(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Wait on a semaphore. </div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00117">vcos_msgqueue.h:117</a></div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_aa81efea9a598a5d476b5036313b4a012"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa81efea9a598a5d476b5036313b4a012">VCOS_MSGQUEUE_T::lock</a></div><div class="ttdeci">VCOS_MUTEX_T lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00111">vcos_msgqueue.h:111</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_a9490ccfd3b2f9e3f1a2f96052ab56d5f"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#a9490ccfd3b2f9e3f1a2f96052ab56d5f">VCOS_MSG_T::next</a></div><div class="ttdeci">struct VCOS_MSG_T * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00121">vcos_msgqueue.h:121</a></div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_ab0b0267f48a19d87459fd2da8a2edef6"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#ab0b0267f48a19d87459fd2da8a2edef6">VCOS_MSGQUEUE_T::tail</a></div><div class="ttdeci">struct VCOS_MSG_T * tail</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00109">vcos_msgqueue.h:109</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_aa1bac85e3149964b875255086ca33906"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa1bac85e3149964b875255086ca33906">VCOS_MSGQUEUE_T::sem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T sem</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00110">vcos_msgqueue.h:110</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_af02b3f527c1ff01614dde439d1c8c648"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">VCOS_MSGQUEUE_T::head</a></div><div class="ttdeci">struct VCOS_MSG_T * head</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00108">vcos_msgqueue.h:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c9ff94bce4f0d91fffe7e976421e9b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9ff94bce4f0d91fffe7e976421e9b1">&#9670;&nbsp;</a></span>vcos_msg_reply()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msg_reply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a reply to a message </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00263">263</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00120">VCOS_MSG_T::code</a>, <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">VCOS_MSG_T::magic</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00127">MSG_REPLY_BIT</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00099">VCOS_MSG_WAITER_T::on_reply</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>, and <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">VCOS_MSG_T::waiter</a>.</p>
<div class="fragment"><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;{</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">magic</a> == <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ab5d1e4ad44ad62a0cb881d4f90011309">code</a> |= <a class="code" href="../../d1/d77/vcos__msgqueue_8h.html#ad039c3fff6b0312569c51b4a74ed2cb6">MSG_REPLY_BIT</a>;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;   <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a>)</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a>-&gt;<a class="code" href="../../d0/da2/structVCOS__MSG__WAITER__T.html#a431ccf5b0693f50c35864471c4ae2539">on_reply</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a>, msg);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;   {</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      VCOS_ALERT(<span class="stringliteral">&quot;%s: reply to non-reply message id %d&quot;</span>,</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                 <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a>,</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                 msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ab5d1e4ad44ad62a0cb881d4f90011309">code</a>);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(0);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;   }</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structVCOS__MSG__T_html_af39117ca504424b12f31006c948f4cd2"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">VCOS_MSG_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">vcos_msgqueue.h:119</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_abb3055e998213c36e1731fe67c070e11"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">VCOS_MSG_T::waiter</a></div><div class="ttdeci">struct VCOS_MSG_WAITER_T * waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">vcos_msgqueue.h:123</a></div></div>
<div class="ttc" id="structVCOS__MSG__WAITER__T_html_a431ccf5b0693f50c35864471c4ae2539"><div class="ttname"><a href="../../d0/da2/structVCOS__MSG__WAITER__T.html#a431ccf5b0693f50c35864471c4ae2539">VCOS_MSG_WAITER_T::on_reply</a></div><div class="ttdeci">void(* on_reply)(struct VCOS_MSG_WAITER_T *waiter, struct VCOS_MSG_T *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00099">vcos_msgqueue.h:99</a></div></div>
<div class="ttc" id="vcos__msgqueue_8h_html_ad039c3fff6b0312569c51b4a74ed2cb6"><div class="ttname"><a href="../../d1/d77/vcos__msgqueue_8h.html#ad039c3fff6b0312569c51b4a74ed2cb6">MSG_REPLY_BIT</a></div><div class="ttdeci">#define MSG_REPLY_BIT</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00127">vcos_msgqueue.h:127</a></div></div>
<div class="ttc" id="egl__client__get__proc_8c_html_a8ff968457bec9989c7904f661e7a817e"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a8ff968457bec9989c7904f661e7a817e">VCOS_FUNCTION</a></div><div class="ttdeci">#define VCOS_FUNCTION</div></div>
<div class="ttc" id="structVCOS__MSG__T_html_ab5d1e4ad44ad62a0cb881d4f90011309"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#ab5d1e4ad44ad62a0cb881d4f90011309">VCOS_MSG_T::code</a></div><div class="ttdeci">uint32_t code</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00120">vcos_msgqueue.h:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2aa6e967430291ef4fdbe9c0a777a6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa6e967430291ef4fdbe9c0a777a6d1">&#9670;&nbsp;</a></span>vcos_msg_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msg_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Destination message queue </td></tr>
    <tr><td class="paramname">code</td><td>Message code. </td></tr>
    <tr><td class="paramname">msg</td><td>Pointer to message to send. Must not go out of scope before message is received (do not declare on the stack). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00231">231</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">VCOS_MSG_T::magic</a>, and <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>.</p>
<div class="fragment"><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">magic</a> == <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   vcos_msg_send_helper(<a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, dest, <a class="code" href="../../d2/d06/gpu__fft__shaders_8c.html#a8ddb70367166a99f23640ad2633e302d">code</a>, msg);</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_af39117ca504424b12f31006c948f4cd2"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">VCOS_MSG_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">vcos_msgqueue.h:119</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="gpu__fft__shaders_8c_html_a8ddb70367166a99f23640ad2633e302d"><div class="ttname"><a href="../../d2/d06/gpu__fft__shaders_8c.html#a8ddb70367166a99f23640ad2633e302d">code</a></div><div class="ttdeci">unsigned int * code</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d06/gpu__fft__shaders_8c_source.html#l00076">gpu_fft_shaders.c:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a783fdc9bf68e87ee782db5173b6635fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a783fdc9bf68e87ee782db5173b6635fd">&#9670;&nbsp;</a></span>vcos_msg_sendwait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msg_sendwait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d5f/containers__types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message and wait for a reply.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Destination message queue </td></tr>
    <tr><td class="paramname">code</td><td>Message code. </td></tr>
    <tr><td class="paramname">msg</td><td>Pointer to message to send. May be declared on the stack.</td></tr>
  </table>
  </dd>
</dl>
<p>Send on to the target queue, then wait on a simple waiter for the reply </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00239">239</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">VCOS_MSG_T::magic</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, and <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">VCOS_MSG_T::waiter</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;{</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> st;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;   <a class="code" href="../../de/dcc/structVCOS__MSG__SIMPLE__WAITER__T.html">VCOS_MSG_SIMPLE_WAITER_T</a> waiter;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">magic</a> == <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="comment">/* if this fires, you&#39;ve set a waiter up but are now about to obliterate it</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">    * with the &#39;wait for a reply&#39; waiter.</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a> == <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   <span class="keywordflow">if</span> ((st=vcos_msgq_simple_waiter_init(&amp;waiter)) != <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <span class="keywordflow">return</span> st;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   vcos_msg_send_helper(&amp;waiter.<a class="code" href="../../de/dcc/structVCOS__MSG__SIMPLE__WAITER__T.html#a1428113376ed67ec396a9289ef76106f">waiter</a>, dest, <a class="code" href="../../d2/d06/gpu__fft__shaders_8c.html#a8ddb70367166a99f23640ad2633e302d">code</a>, msg);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a>(&amp;waiter.<a class="code" href="../../de/dcc/structVCOS__MSG__SIMPLE__WAITER__T.html#a0ddbaf0dfe98b07bd3ea06e1da71bc66">waitsem</a>);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;   vcos_msgq_simple_waiter_deinit(&amp;waiter);</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a1478647a6bc7e82569361d72c04dceb0"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_wait(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Wait on a semaphore. </div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a></div><div class="ttdeci">VCOS_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00073">vcos_types.h:73</a></div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__MSG__SIMPLE__WAITER__T_html_a1428113376ed67ec396a9289ef76106f"><div class="ttname"><a href="../../de/dcc/structVCOS__MSG__SIMPLE__WAITER__T.html#a1428113376ed67ec396a9289ef76106f">VCOS_MSG_SIMPLE_WAITER_T::waiter</a></div><div class="ttdeci">VCOS_MSG_WAITER_T waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00055">vcos_msgqueue.c:55</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_af39117ca504424b12f31006c948f4cd2"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">VCOS_MSG_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">vcos_msgqueue.h:119</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="gpu__fft__shaders_8c_html_a8ddb70367166a99f23640ad2633e302d"><div class="ttname"><a href="../../d2/d06/gpu__fft__shaders_8c.html#a8ddb70367166a99f23640ad2633e302d">code</a></div><div class="ttdeci">unsigned int * code</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d06/gpu__fft__shaders_8c_source.html#l00076">gpu_fft_shaders.c:76</a></div></div>
<div class="ttc" id="structVCOS__MSG__SIMPLE__WAITER__T_html_a0ddbaf0dfe98b07bd3ea06e1da71bc66"><div class="ttname"><a href="../../de/dcc/structVCOS__MSG__SIMPLE__WAITER__T.html#a0ddbaf0dfe98b07bd3ea06e1da71bc66">VCOS_MSG_SIMPLE_WAITER_T::waitsem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T waitsem</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00056">vcos_msgqueue.c:56</a></div></div>
<div class="ttc" id="structVCOS__MSG__SIMPLE__WAITER__T_html"><div class="ttname"><a href="../../de/dcc/structVCOS__MSG__SIMPLE__WAITER__T.html">VCOS_MSG_SIMPLE_WAITER_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00053">vcos_msgqueue.c:53</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_abb3055e998213c36e1731fe67c070e11"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">VCOS_MSG_T::waiter</a></div><div class="ttdeci">struct VCOS_MSG_WAITER_T * waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">vcos_msgqueue.h:123</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b2c81a48e7f260e7df571cdf65656f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b2c81a48e7f260e7df571cdf65656f5">&#9670;&nbsp;</a></span>vcos_msg_set_source()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msg_set_source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *&#160;</td>
          <td class="paramname"><em>queue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the reply queue for a message. When the message is replied-to, it will return to the given queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message </td></tr>
    <tr><td class="paramname">queue</td><td>Message queue the message should return to </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00280">280</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">VCOS_MSG_T::magic</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00107">VCOS_MSGQUEUE_T::waiter</a>, and <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">VCOS_MSG_T::waiter</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;{</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">magic</a> == <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(queue);</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a> = &amp;queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#a92dfc17a60d2cfe39c6431d151802079">waiter</a>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structVCOS__MSG__T_html_af39117ca504424b12f31006c948f4cd2"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">VCOS_MSG_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">vcos_msgqueue.h:119</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_a92dfc17a60d2cfe39c6431d151802079"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#a92dfc17a60d2cfe39c6431d151802079">VCOS_MSGQUEUE_T::waiter</a></div><div class="ttdeci">VCOS_MSG_WAITER_T waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00107">vcos_msgqueue.h:107</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_abb3055e998213c36e1731fe67c070e11"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">VCOS_MSG_T::waiter</a></div><div class="ttdeci">struct VCOS_MSG_WAITER_T * waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">vcos_msgqueue.h:123</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e6be761aa04d422dee809ee92344a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6be761aa04d422dee809ee92344a4a">&#9670;&nbsp;</a></span>vcos_msg_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a>* <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msg_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for a message on a queue. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00187">187</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00108">VCOS_MSGQUEUE_T::head</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00111">VCOS_MSGQUEUE_T::lock</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00121">VCOS_MSG_T::next</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00110">VCOS_MSGQUEUE_T::sem</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00109">VCOS_MSGQUEUE_T::tail</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock()</a>, <a class="el" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock()</a>, and <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;   <a class="code" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a>(&amp;queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa1bac85e3149964b875255086ca33906">sem</a>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a>(&amp;queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa81efea9a598a5d476b5036313b4a012">lock</a>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;   msg = queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">head</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg);    <span class="comment">/* should always be a message here! */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;   queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">head</a> = msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#a9490ccfd3b2f9e3f1a2f96052ab56d5f">next</a>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;   <span class="keywordflow">if</span> (queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">head</a> == <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#ab0b0267f48a19d87459fd2da8a2edef6">tail</a> = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <a class="code" href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a>(&amp;queue-&gt;<a class="code" href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa81efea9a598a5d476b5036313b4a012">lock</a>);</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a1478647a6bc7e82569361d72c04dceb0"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_wait(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Wait on a semaphore. </div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00117">vcos_msgqueue.h:117</a></div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_aa81efea9a598a5d476b5036313b4a012"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa81efea9a598a5d476b5036313b4a012">VCOS_MSGQUEUE_T::lock</a></div><div class="ttdeci">VCOS_MUTEX_T lock</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00111">vcos_msgqueue.h:111</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_a9490ccfd3b2f9e3f1a2f96052ab56d5f"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#a9490ccfd3b2f9e3f1a2f96052ab56d5f">VCOS_MSG_T::next</a></div><div class="ttdeci">struct VCOS_MSG_T * next</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00121">vcos_msgqueue.h:121</a></div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_ab0b0267f48a19d87459fd2da8a2edef6"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#ab0b0267f48a19d87459fd2da8a2edef6">VCOS_MSGQUEUE_T::tail</a></div><div class="ttdeci">struct VCOS_MSG_T * tail</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00109">vcos_msgqueue.h:109</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_a987a30066b545f17e30e2e0e23e7344e"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#a987a30066b545f17e30e2e0e23e7344e">vcos_mutex_lock</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_mutex_lock(VCOS_MUTEX_T *m)</div><div class="ttdoc">Wait to claim the mutex. </div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_aa1bac85e3149964b875255086ca33906"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#aa1bac85e3149964b875255086ca33906">VCOS_MSGQUEUE_T::sem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T sem</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00110">vcos_msgqueue.h:110</a></div></div>
<div class="ttc" id="vcos__mutex_8h_html_aa3954c4477b2cc9c2a3a92fa56d8b056"><div class="ttname"><a href="../../da/d1b/vcos__mutex_8h.html#aa3954c4477b2cc9c2a3a92fa56d8b056">vcos_mutex_unlock</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_mutex_unlock(VCOS_MUTEX_T *m)</div></div>
<div class="ttc" id="structVCOS__MSGQUEUE__T_html_af02b3f527c1ff01614dde439d1c8c648"><div class="ttname"><a href="../../d8/d41/structVCOS__MSGQUEUE__T.html#af02b3f527c1ff01614dde439d1c8c648">VCOS_MSGQUEUE_T::head</a></div><div class="ttdeci">struct VCOS_MSG_T * head</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00108">vcos_msgqueue.h:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7feb912605f8b5419b6d46453c728065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7feb912605f8b5419b6d46453c728065">&#9670;&nbsp;</a></span>vcos_msgq_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a message queue to wait on. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00114">114</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> st;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   st = vcos_msgq_create_internal(<a class="code" href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a>, <a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;   <span class="keywordflow">return</span> st;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a></div><div class="ttdeci">VCOS_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00073">vcos_types.h:73</a></div></div>
<div class="ttc" id="containers__filters_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d97/containers__filters_8c_source.html#l00058">containers_filters.c:58</a></div></div>
<div class="ttc" id="glext_8h_html_a5cae8ef70015fb2c8d5355c136e7d760"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a></div><div class="ttdeci">GLfixed GLfixed GLfixed GLfixed q</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00677">glext.h:677</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e0705f915084e86174e441afb47a0a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e0705f915084e86174e441afb47a0a1">&#9670;&nbsp;</a></span>vcos_msgq_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_deinit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>De-initialise the library. Normally called from <a class="el" href="../../df/d96/vcos__init_8c.html#aca2072bd0e49f3bc751ccc2a7ddcbfd3">vcos_deinit()</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00163">163</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a997421c7bc60d3187d01420c3f2d00dd">_VCOS_INLINE</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;}</div></div><!-- fragment -->
</div>
</div>
<a id="a82cedad83f1d05229d67c6fcc21c4f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82cedad83f1d05229d67c6fcc21c4f79">&#9670;&nbsp;</a></span>vcos_msgq_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/d41/structVCOS__MSGQUEUE__T.html">VCOS_MSGQUEUE_T</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a queue </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00123">123</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;   vcos_msgq_delete_internal(<a class="code" href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="ttc" id="glext_8h_html_a5cae8ef70015fb2c8d5355c136e7d760"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a5cae8ef70015fb2c8d5355c136e7d760">q</a></div><div class="ttdeci">GLfixed GLfixed GLfixed GLfixed q</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00677">glext.h:677</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85ef8e879662e25656b9534f1c1bd8cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ef8e879662e25656b9534f1c1bd8cb">&#9670;&nbsp;</a></span>vcos_msgq_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialise the library. Normally called from <a class="el" href="../../df/d96/vcos__init_8c.html#a8b1f92590d7f2c734e280c106b57ca48">vcos_init()</a>. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00158">158</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00075">VCOS_SUCCESS</a>.</p>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;}</div><div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae980ef9ad75d1e90ae4134c63b2f2c9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae980ef9ad75d1e90ae4134c63b2f2c9a">&#9670;&nbsp;</a></span>vcos_msgq_pool_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a>* <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_pool_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate a message from a message pool.</p>
<p>Note:</p>
<p>If the alloc fails (returns NULL) then your worker thread has stopped servicing requests or your pool is too small for the latency in the system. Your best bet to handle this is to fail the call that needs to send the message.</p>
<p>The returned message payload area is initialised to zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message or NULL if pool exhausted. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00338">338</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">VCOS_MSGQ_POOL_T::blockpool</a>, <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">VCOS_MSG_T::magic</a>, <a class="el" href="../../d5/d5f/khrn__misc_8h_source.html#l00133">NULL</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">VCOS_MSG_T::pool</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">VCOS_MSGQ_POOL_T::sem</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../db/d33/vcos__blockpool_8h.html#a6d325988e589aa69ee534fbcfa991089">vcos_blockpool_calloc()</a>, <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#a0b66028eee4f6b8497aa1aa4a0c88c9b">vcos_semaphore_trywait()</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00075">VCOS_SUCCESS</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">VCOS_MSG_T::waiter</a>, and <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00150">VCOS_MSGQ_POOL_T::waiter</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;   <a class="code" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;   <span class="keywordflow">if</span> (<a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a0b66028eee4f6b8497aa1aa4a0c88c9b">vcos_semaphore_trywait</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">sem</a>) == <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>)</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;   {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      msg = <a class="code" href="../../db/d33/vcos__blockpool_8h.html#a6d325988e589aa69ee534fbcfa991089">vcos_blockpool_calloc</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">blockpool</a>);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">magic</a> = <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a> = &amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#ad0fc39fc7fea6aa02ac7fa8b52b62e22">waiter</a>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">pool</a> = pool;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;   }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;   <span class="keywordflow">else</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;   {</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;      msg = <a class="code" href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;   }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="vcos__blockpool_8h_html_a6d325988e589aa69ee534fbcfa991089"><div class="ttname"><a href="../../db/d33/vcos__blockpool_8h.html#a6d325988e589aa69ee534fbcfa991089">vcos_blockpool_calloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_blockpool_calloc(VCOS_BLOCKPOOL_T *pool)</div></div>
<div class="ttc" id="khrn__int__common_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../da/d05/khrn__int__common_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d5f/khrn__misc_8h_source.html#l00133">khrn_misc.h:133</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_af39117ca504424b12f31006c948f4cd2"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">VCOS_MSG_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">vcos_msgqueue.h:119</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a6727c56820d64ad69145ca3e295ef5a4"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">VCOS_MSGQ_POOL_T::sem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T sem</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">vcos_msgqueue.h:152</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00117">vcos_msgqueue.h:117</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a0b66028eee4f6b8497aa1aa4a0c88c9b"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a0b66028eee4f6b8497aa1aa4a0c88c9b">vcos_semaphore_trywait</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_trywait(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Try to wait for a semaphore. </div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_ad0fc39fc7fea6aa02ac7fa8b52b62e22"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#ad0fc39fc7fea6aa02ac7fa8b52b62e22">VCOS_MSGQ_POOL_T::waiter</a></div><div class="ttdeci">VCOS_MSG_WAITER_T waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00150">vcos_msgqueue.h:150</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_ae58a9813746f52ff66473116557a1821"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">VCOS_MSG_T::pool</a></div><div class="ttdeci">struct VCOS_MSGQ_POOL_T * pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">vcos_msgqueue.h:124</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_abb3055e998213c36e1731fe67c070e11"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">VCOS_MSG_T::waiter</a></div><div class="ttdeci">struct VCOS_MSG_WAITER_T * waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">vcos_msgqueue.h:123</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a4c5b3d392d83b263d016ea30371c5121"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">VCOS_MSGQ_POOL_T::blockpool</a></div><div class="ttdeci">VCOS_BLOCKPOOL_T blockpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">vcos_msgqueue.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac35b2bd7e6360c1d770dbbda7b46285d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35b2bd7e6360c1d770dbbda7b46285d">&#9670;&nbsp;</a></span>vcos_msgq_pool_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_pool_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payload_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a pool of messages. Messages can be allocated from the pool and sent to a message queue. Replying to the message will automatically free it back to the pool.</p>
<p>The pool is threadsafe.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>number of messages in the pool </td></tr>
    <tr><td class="paramname">payload_size</td><td>maximum message payload size, not including MSG_T. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00292">292</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">VCOS_MSGQ_POOL_T::blockpool</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00099">VCOS_MSG_WAITER_T::on_reply</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">VCOS_MSGQ_POOL_T::sem</a>, <a class="el" href="../../df/ddd/mmal__util_8c_source.html#l00037">status</a>, <a class="el" href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00070">VCOS_BLOCKPOOL_ALIGN_DEFAULT</a>, <a class="el" href="../../db/d33/vcos__blockpool_8h.html#a044360642265fa2dc0c7e20e5f99bc9f">vcos_blockpool_create_on_heap()</a>, <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#aec46d55c9e9b7f8a4beab46601744b56">vcos_semaphore_create()</a>, <a class="el" href="../../da/df3/vcos__types_8h_source.html#l00075">VCOS_SUCCESS</a>, and <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00150">VCOS_MSGQ_POOL_T::waiter</a>.</p>
<div class="fragment"><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;   <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;   <span class="keywordtype">int</span> bp_size = payload_size + <span class="keyword">sizeof</span>(<a class="code" href="../../d1/d77/vcos__msgqueue_8h.html#a56c30678cc251c2e27e7547cf24c5d72">VCOS_MSG_T</a>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;   status = <a class="code" href="../../db/d33/vcos__blockpool_8h.html#a044360642265fa2dc0c7e20e5f99bc9f">vcos_blockpool_create_on_heap</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">blockpool</a>,</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                                          <a class="code" href="../../dc/dd2/glext_8h.html#a83e2dd3e98558b907ab7fb03cee26bda">count</a>, bp_size,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                          <a class="code" href="../../d3/d22/vcos__generic__blockpool_8h.html#a4b9463077429472afe937875556f45ec">VCOS_BLOCKPOOL_ALIGN_DEFAULT</a>,</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                                          0,</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                                          <a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;   <span class="keywordflow">if</span> (status != <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>)</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">goto</span> fail_pool;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;   status = <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#aec46d55c9e9b7f8a4beab46601744b56">vcos_semaphore_create</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">sem</a>, <a class="code" href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a>, <a class="code" href="../../dc/dd2/glext_8h.html#a83e2dd3e98558b907ab7fb03cee26bda">count</a>);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;   <span class="keywordflow">if</span> (status != <a class="code" href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a>)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">goto</span> fail_sem;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;   pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#ad0fc39fc7fea6aa02ac7fa8b52b62e22">waiter</a>.<a class="code" href="../../d0/da2/structVCOS__MSG__WAITER__T.html#a431ccf5b0693f50c35864471c4ae2539">on_reply</a> = vcos_msgq_pool_on_reply;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;   pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6368cb01a35e12f9d9d3356fc79645e2">magic</a> = <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;fail_sem:</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;   <a class="code" href="../../db/d33/vcos__blockpool_8h.html#ac33d1d207a3fb67b51250a2d24458c52">vcos_blockpool_delete</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">blockpool</a>);</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;fail_pool:</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;   <span class="keywordflow">return</span> <a class="code" href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;}</div><div class="ttc" id="vcos__generic__blockpool_8h_html_a4b9463077429472afe937875556f45ec"><div class="ttname"><a href="../../d3/d22/vcos__generic__blockpool_8h.html#a4b9463077429472afe937875556f45ec">VCOS_BLOCKPOOL_ALIGN_DEFAULT</a></div><div class="ttdeci">#define VCOS_BLOCKPOOL_ALIGN_DEFAULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d22/vcos__generic__blockpool_8h_source.html#l00070">vcos_generic_blockpool.h:70</a></div></div>
<div class="ttc" id="mmal__util_8c_html_affbc5e7be0de233c0edafa72d894118c"><div class="ttname"><a href="../../df/ddd/mmal__util_8c.html#affbc5e7be0de233c0edafa72d894118c">status</a></div><div class="ttdeci">MMAL_STATUS_T status</div><div class="ttdef"><b>Definition:</b> <a href="../../df/ddd/mmal__util_8c_source.html#l00037">mmal_util.c:37</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a6368cb01a35e12f9d9d3356fc79645e2"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6368cb01a35e12f9d9d3356fc79645e2">VCOS_MSGQ_POOL_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00153">vcos_msgqueue.h:153</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8">VCOS_STATUS_T</a></div><div class="ttdeci">VCOS_STATUS_T</div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00073">vcos_types.h:73</a></div></div>
<div class="ttc" id="containers__filters_8c_html_a8f8f80d37794cde9472343e4487ba3eb"><div class="ttname"><a href="../../d0/d97/containers__filters_8c.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d97/containers__filters_8c_source.html#l00058">containers_filters.c:58</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="vcos__blockpool_8h_html_a044360642265fa2dc0c7e20e5f99bc9f"><div class="ttname"><a href="../../db/d33/vcos__blockpool_8h.html#a044360642265fa2dc0c7e20e5f99bc9f">vcos_blockpool_create_on_heap</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_blockpool_create_on_heap(VCOS_BLOCKPOOL_T *pool, VCOS_UNSIGNED num_blocks, VCOS_UNSIGNED block_size, VCOS_UNSIGNED align, VCOS_UNSIGNED flags, const char *name)</div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a6727c56820d64ad69145ca3e295ef5a4"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">VCOS_MSGQ_POOL_T::sem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T sem</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">vcos_msgqueue.h:152</a></div></div>
<div class="ttc" id="vcos__msgqueue_8h_html_a56c30678cc251c2e27e7547cf24c5d72"><div class="ttname"><a href="../../d1/d77/vcos__msgqueue_8h.html#a56c30678cc251c2e27e7547cf24c5d72">VCOS_MSG_T</a></div><div class="ttdeci">struct VCOS_MSG_T VCOS_MSG_T</div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_ad0fc39fc7fea6aa02ac7fa8b52b62e22"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#ad0fc39fc7fea6aa02ac7fa8b52b62e22">VCOS_MSGQ_POOL_T::waiter</a></div><div class="ttdeci">VCOS_MSG_WAITER_T waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00150">vcos_msgqueue.h:150</a></div></div>
<div class="ttc" id="glext_8h_html_a83e2dd3e98558b907ab7fb03cee26bda"><div class="ttname"><a href="../../dc/dd2/glext_8h.html#a83e2dd3e98558b907ab7fb03cee26bda">count</a></div><div class="ttdeci">GLint GLsizei * count</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dd2/glext_8h_source.html#l00963">glext.h:963</a></div></div>
<div class="ttc" id="structVCOS__MSG__WAITER__T_html_a431ccf5b0693f50c35864471c4ae2539"><div class="ttname"><a href="../../d0/da2/structVCOS__MSG__WAITER__T.html#a431ccf5b0693f50c35864471c4ae2539">VCOS_MSG_WAITER_T::on_reply</a></div><div class="ttdeci">void(* on_reply)(struct VCOS_MSG_WAITER_T *waiter, struct VCOS_MSG_T *msg)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00099">vcos_msgqueue.h:99</a></div></div>
<div class="ttc" id="vcos__types_8h_html_a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c"><div class="ttname"><a href="../../da/df3/vcos__types_8h.html#a3bc2a2f6e35ff0159714c5e4396bc3a8aa2b21a294575d4d8cfdb7b1f6ffe474c">VCOS_SUCCESS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/df3/vcos__types_8h_source.html#l00075">vcos_types.h:75</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_aec46d55c9e9b7f8a4beab46601744b56"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#aec46d55c9e9b7f8a4beab46601744b56">vcos_semaphore_create</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_create(VCOS_SEMAPHORE_T *sem, const char *name, VCOS_UNSIGNED count)</div><div class="ttdoc">Create a semaphore. </div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a4c5b3d392d83b263d016ea30371c5121"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">VCOS_MSGQ_POOL_T::blockpool</a></div><div class="ttdeci">VCOS_BLOCKPOOL_T blockpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">vcos_msgqueue.h:151</a></div></div>
<div class="ttc" id="vcos__blockpool_8h_html_ac33d1d207a3fb67b51250a2d24458c52"><div class="ttname"><a href="../../db/d33/vcos__blockpool_8h.html#ac33d1d207a3fb67b51250a2d24458c52">vcos_blockpool_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_blockpool_delete(VCOS_BLOCKPOOL_T *pool)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e49212e406caa2ced0652640a19322b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e49212e406caa2ced0652640a19322b">&#9670;&nbsp;</a></span>vcos_msgq_pool_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_pool_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroy a message pool. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00321">321</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">VCOS_MSGQ_POOL_T::blockpool</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">VCOS_MSGQ_POOL_T::sem</a>, <a class="el" href="../../db/d33/vcos__blockpool_8h.html#ac33d1d207a3fb67b51250a2d24458c52">vcos_blockpool_delete()</a>, and <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete()</a>.</p>
<div class="fragment"><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;{</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;   <a class="code" href="../../db/d33/vcos__blockpool_8h.html#ac33d1d207a3fb67b51250a2d24458c52">vcos_blockpool_delete</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">blockpool</a>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;   <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">sem</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div><div class="ttc" id="vcos__semaphore_8h_html_a4dd7165fc2dd9873731b11ec07202c91"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a4dd7165fc2dd9873731b11ec07202c91">vcos_semaphore_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_semaphore_delete(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Delete a semaphore, releasing any resources consumed by it. </div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a6727c56820d64ad69145ca3e295ef5a4"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">VCOS_MSGQ_POOL_T::sem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T sem</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">vcos_msgqueue.h:152</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a4c5b3d392d83b263d016ea30371c5121"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">VCOS_MSGQ_POOL_T::blockpool</a></div><div class="ttdeci">VCOS_BLOCKPOOL_T blockpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">vcos_msgqueue.h:151</a></div></div>
<div class="ttc" id="vcos__blockpool_8h_html_ac33d1d207a3fb67b51250a2d24458c52"><div class="ttname"><a href="../../db/d33/vcos__blockpool_8h.html#ac33d1d207a3fb67b51250a2d24458c52">vcos_blockpool_delete</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_blockpool_delete(VCOS_BLOCKPOOL_T *pool)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2629b769201b6515114927545dd3dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2629b769201b6515114927545dd3dfe">&#9670;&nbsp;</a></span>vcos_msgq_pool_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../d8/dec/vgext_8h.html#aae3b83af3dea1ca0b0785dbe3499954a">void</a> <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_pool_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Explicitly free a message and return it to its pool.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to free. No-op if NULL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00356">356</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00153">VCOS_MSGQ_POOL_T::magic</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">VCOS_MSG_T::pool</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">VCOS_MSGQ_POOL_T::sem</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../db/d33/vcos__blockpool_8h.html#a15ff67e4487e94c6e6ae3292a4b25d52">vcos_blockpool_free()</a>, and <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#abf6b67a0c6156bcefd842120131e2846">vcos_semaphore_post()</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;   <span class="keywordflow">if</span> (msg)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;   {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *pool;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">pool</a>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      pool = msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">pool</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">pool</a>-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6368cb01a35e12f9d9d3356fc79645e2">magic</a> == <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      <a class="code" href="../../db/d33/vcos__blockpool_8h.html#a15ff67e4487e94c6e6ae3292a4b25d52">vcos_blockpool_free</a>(msg);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#abf6b67a0c6156bcefd842120131e2846">vcos_semaphore_post</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">sem</a>);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;   }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a6368cb01a35e12f9d9d3356fc79645e2"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6368cb01a35e12f9d9d3356fc79645e2">VCOS_MSGQ_POOL_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00153">vcos_msgqueue.h:153</a></div></div>
<div class="ttc" id="vcos__blockpool_8h_html_a15ff67e4487e94c6e6ae3292a4b25d52"><div class="ttname"><a href="../../db/d33/vcos__blockpool_8h.html#a15ff67e4487e94c6e6ae3292a4b25d52">vcos_blockpool_free</a></div><div class="ttdeci">VCOS_INLINE_DECL void vcos_blockpool_free(void *block)</div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="vcos__semaphore_8h_html_abf6b67a0c6156bcefd842120131e2846"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#abf6b67a0c6156bcefd842120131e2846">vcos_semaphore_post</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_post(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Post a semaphore. </div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a6727c56820d64ad69145ca3e295ef5a4"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">VCOS_MSGQ_POOL_T::sem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T sem</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">vcos_msgqueue.h:152</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_ae58a9813746f52ff66473116557a1821"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">VCOS_MSG_T::pool</a></div><div class="ttdeci">struct VCOS_MSGQ_POOL_T * pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">vcos_msgqueue.h:124</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00148">vcos_msgqueue.h:148</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a35ca91dc70ec199db5fc84c678097a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35ca91dc70ec199db5fc84c678097a50">&#9670;&nbsp;</a></span>vcos_msgq_pool_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a6e4101afda6fd91e6c2f3102c2737208">VCOSPRE_</a> <a class="el" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a>* <a class="el" href="../../d2/d69/vcos__platform__types_8h.html#a54a3d639be33a54db70f0a2a55745310">VCOSPOST_</a> vcos_msgq_pool_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html">VCOS_MSGQ_POOL_T</a> *&#160;</td>
          <td class="paramname"><em>pool</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait for a message from a message pool. Waits until a message is available in the pool and then allocates it. If one is already available, returns immediately.</p>
<p>This call can never fail.</p>
<p>The returned message payload area is initialised to zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pool</td><td>Pool to allocate from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Message </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00371">371</a> of file <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html">vcos_msgqueue.c</a>.</p>

<p class="reference">References <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">VCOS_MSGQ_POOL_T::blockpool</a>, <a class="el" href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">MAGIC</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">VCOS_MSG_T::magic</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">VCOS_MSG_T::pool</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">VCOS_MSGQ_POOL_T::sem</a>, <a class="el" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>, <a class="el" href="../../db/d33/vcos__blockpool_8h.html#a6d325988e589aa69ee534fbcfa991089">vcos_blockpool_calloc()</a>, <a class="el" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait()</a>, <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">VCOS_MSG_T::waiter</a>, and <a class="el" href="../../d1/d77/vcos__msgqueue_8h_source.html#l00150">VCOS_MSGQ_POOL_T::waiter</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;   <a class="code" href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a> *msg;</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;   <a class="code" href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">sem</a>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;   msg = <a class="code" href="../../db/d33/vcos__blockpool_8h.html#a6d325988e589aa69ee534fbcfa991089">vcos_blockpool_calloc</a>(&amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">blockpool</a>);</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;   <a class="code" href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a>(msg);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">magic</a> = <a class="code" href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">waiter</a> = &amp;pool-&gt;<a class="code" href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#ad0fc39fc7fea6aa02ac7fa8b52b62e22">waiter</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;   msg-&gt;<a class="code" href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">pool</a> = pool;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;   <span class="keywordflow">return</span> msg;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;}</div><div class="ttc" id="egl__client__get__proc_8c_html_a2413d74a65e1859d1fbc9bc098053f50"><div class="ttname"><a href="../../d2/d73/egl__client__get__proc_8c.html#a2413d74a65e1859d1fbc9bc098053f50">vcos_assert</a></div><div class="ttdeci">#define vcos_assert(cond)</div></div>
<div class="ttc" id="vcos__semaphore_8h_html_a1478647a6bc7e82569361d72c04dceb0"><div class="ttname"><a href="../../d2/dc2/vcos__semaphore_8h.html#a1478647a6bc7e82569361d72c04dceb0">vcos_semaphore_wait</a></div><div class="ttdeci">VCOS_INLINE_DECL VCOS_STATUS_T vcos_semaphore_wait(VCOS_SEMAPHORE_T *sem)</div><div class="ttdoc">Wait on a semaphore. </div></div>
<div class="ttc" id="vcos__blockpool_8h_html_a6d325988e589aa69ee534fbcfa991089"><div class="ttname"><a href="../../db/d33/vcos__blockpool_8h.html#a6d325988e589aa69ee534fbcfa991089">vcos_blockpool_calloc</a></div><div class="ttdeci">VCOS_INLINE_DECL void * vcos_blockpool_calloc(VCOS_BLOCKPOOL_T *pool)</div></div>
<div class="ttc" id="structVCOS__MSG__T_html_af39117ca504424b12f31006c948f4cd2"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#af39117ca504424b12f31006c948f4cd2">VCOS_MSG_T::magic</a></div><div class="ttdeci">uint32_t magic</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00119">vcos_msgqueue.h:119</a></div></div>
<div class="ttc" id="vcos__msgqueue_8c_html_a94630370ae389fb1189282fa0742f310"><div class="ttname"><a href="../../d6/d55/vcos__msgqueue_8c.html#a94630370ae389fb1189282fa0742f310">MAGIC</a></div><div class="ttdeci">#define MAGIC</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d55/vcos__msgqueue_8c_source.html#l00034">vcos_msgqueue.c:34</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a6727c56820d64ad69145ca3e295ef5a4"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a6727c56820d64ad69145ca3e295ef5a4">VCOS_MSGQ_POOL_T::sem</a></div><div class="ttdeci">VCOS_SEMAPHORE_T sem</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00152">vcos_msgqueue.h:152</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html">VCOS_MSG_T</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00117">vcos_msgqueue.h:117</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_ad0fc39fc7fea6aa02ac7fa8b52b62e22"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#ad0fc39fc7fea6aa02ac7fa8b52b62e22">VCOS_MSGQ_POOL_T::waiter</a></div><div class="ttdeci">VCOS_MSG_WAITER_T waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00150">vcos_msgqueue.h:150</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_ae58a9813746f52ff66473116557a1821"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#ae58a9813746f52ff66473116557a1821">VCOS_MSG_T::pool</a></div><div class="ttdeci">struct VCOS_MSGQ_POOL_T * pool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00124">vcos_msgqueue.h:124</a></div></div>
<div class="ttc" id="structVCOS__MSG__T_html_abb3055e998213c36e1731fe67c070e11"><div class="ttname"><a href="../../de/ddf/structVCOS__MSG__T.html#abb3055e998213c36e1731fe67c070e11">VCOS_MSG_T::waiter</a></div><div class="ttdeci">struct VCOS_MSG_WAITER_T * waiter</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00123">vcos_msgqueue.h:123</a></div></div>
<div class="ttc" id="structVCOS__MSGQ__POOL__T_html_a4c5b3d392d83b263d016ea30371c5121"><div class="ttname"><a href="../../d9/dfc/structVCOS__MSGQ__POOL__T.html#a4c5b3d392d83b263d016ea30371c5121">VCOS_MSGQ_POOL_T::blockpool</a></div><div class="ttdeci">VCOS_BLOCKPOOL_T blockpool</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d77/vcos__msgqueue_8h_source.html#l00151">vcos_msgqueue.h:151</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
